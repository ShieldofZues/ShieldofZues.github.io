<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ğŸï¸å¥½å¥½ç¼–ç¨‹</title>
      <link href="/2019/12/10/%E5%BF%A0%E5%91%8A/"/>
      <url>/2019/12/10/%E5%BF%A0%E5%91%8A/</url>
      
        <content type="html"><![CDATA[<p><strong>åªè¦æ€æƒ³ä¸æ»‘å¡ï¼ŒåŠæ³•æ€»æ¯”å›°éš¾å¤šï¼</strong><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-13-%E6%88%AA%E5%B1%8F2020-09-13%20%E4%B8%8B%E5%8D%886.05.17.png"  alt=""><br>ğŸ’¡æƒ³æ¸…æ¥šï¼Œå†™æ¸…æ¥šï¼Œè¯´æ¸…æ¥šï¼Œæ‰æ˜¯çœŸæ­£çš„æ¸…æ¥šï¼</p><p>â°å¤šèŠ±ç‚¹æ—¶é—´æ²Ÿé€šæ¸…æ¥šéœ€æ±‚ï¼Œæ‰èƒ½æŠŠæ¡æ­£ç¡®æ–¹å‘ï¼</p><p>ğŸ˜¢ä¿®å¤éœ€æ±‚é”™è¯¯çš„æˆæœ¬æ˜¯ä»£ç é”™è¯¯çš„å‡ åå€ï¼</p><p>ğŸ”¥ç¨‹åºå‘˜æœ€å¤§çš„åä¹ æƒ¯å°±æ˜¯ï¼šæ€¥äºåŠ¨æ‰‹å†™ä»£ç ï¼</p><p>âœˆï¸æé«˜å¼€å‘æ•ˆç‡çš„æ·å¾„ï¼šä¸€æ¬¡åšå¯¹ï¼Œä¸è¿”å·¥ï¼</p><p>ğŸ¤”å†™ä»£ç ä¹‹å‰ä¸‰ä»¶äº‹ï¼š</p><p>   å¼„æ¸…æ¥šåšä»€ä¹ˆï¼›</p><p>   è¯´æ¸…æ¥šæ€ä¹ˆåšï¼›</p><p>   æƒ³æ¸…æ¥šæ€ä¹ˆæµ‹ï¼</p><p>ğŸ›èŒä¸šçš„ç¨‹åºå‘˜è®¾è®¡ç¨‹åºï¼Œä¸šä½™çš„ç¨‹åºå‘˜è°ƒè¯•ç¨‹åºï¼›</p><p>ğŸ˜«æ‹·è´ç²˜è´´å¼çš„ä½œä¸šæ–¹å¼ï¼Œæœ€å®¹æ˜“å¯¼å…¥bugï¼Œæœ€éš¾è°ƒè¯•ï¼</p><p>ğŸ˜­é‡å¤ä»£ç æ˜¯ä¸‡æ¶ä¹‹æºï¼</p><p>ğŸ‘´å°å‡½æ•°ï¼Œå°æ–¹æ³•ï¼Œä»¥åŠŸèƒ½å‘½åï¼Œå¯ä»¥æ¶ˆé™¤æ³¨é‡Šï¼</p><p>ğŸ˜Šåšä¸€ç‚¹ï¼Œæµ‹ä¸€ç‚¹ï¼Œæµ‹è¯•é©±åŠ¨çš„å¼€å‘ï¼Œè¿”å·¥æœ€å°‘ï¼Œè¿”å·¥æœ€æ˜“ï¼›</p><p>ğŸ“šä¸€ä¸ªæ–¹æ³•çš„å¤æ‚åº¦åº”è¯¥å°äº10ï¼Œå¦åˆ™å¾ˆéš¾è°ƒè¯•å®ƒï¼</p><p>ğŸŒ¶ï¸éšæ—¶é‡æ„ä»£ç ï¼Œä¸é—ç•™åƒåœ¾ä»£ç !</p><p>âš ï¸æ¶ˆé™¤é™æ€æ£€æŸ¥çš„warningå’Œerrorï¼</p><p>ğŸèŒä¸šçš„ç¨‹åºå‘˜æ˜¯é¢„é˜²BUGï¼Œä¸šä½™ç¨‹åºå‘˜æ˜¯ä¿®æ”¹BUGï¼›</p><p>ğŸŒç»å¸¸æ€»ç»“è‡ªå·±çš„ç»éªŒæ•™è®­ï¼Œå†™ä¸‹æ¥ï¼æ±‡æ€»åœ¨ä¸€èµ·ï¼</p><p>ğŸš—ä»»ä½•å¤æ‚çš„é—®é¢˜éƒ½å¯ä»¥ç®€åŒ–ï¼Œä¸¤ç§ç®€åŒ–çš„æ‰‹æ®µï¼š</p><p>ğŸ”ªæŒ‰æ—¶åºæ‹†åˆ†ï¼ŒæŒ‰æ•´ä½“éƒ¨åˆ†æ‹†åˆ†ï¼›</p><p>ğŸ“…æ¯æ—¥æ„å»ºï¼Œæ¯æ—¥ç¡®è®¤ï¼Œå°½æ—©å‘ç°é”™è¯¯ï¼Œå°½æ—©è¿”å·¥ï¼ </p>]]></content>
      
      
      
        <tags>
            
            <tag> åˆ†äº« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¥å¸¸å¼€å‘æœ¬äººå¸¸ç”¨ideaæ’ä»¶åˆ†äº«ï¼ˆäºŒï¼‰</title>
      <link href="/2019/07/23/%E6%8F%92%E4%BB%B6%E5%88%86%E4%BA%AB%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2019/07/23/%E6%8F%92%E4%BB%B6%E5%88%86%E4%BA%AB%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<hr><p>[TOC]<br><strong>å¤šçœ‹<a href="https://www.jetbrains.com/help/idea/creating-and-optimizing-imports.html#disable-import-popups" target="_blank" rel="noopener">å®˜æ–¹ä½¿ç”¨æ–‡æ¡£</a>è¿˜æ˜¯å¾ˆä¸é”™çš„~<br>IntelliJ IDEAçš„æ¯ä¸ªæ–¹é¢éƒ½ä¸“é—¨è®¾è®¡ç”¨äºæœ€å¤§åŒ–å¼€å‘äººå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚<br>å¼ºå¤§çš„é™æ€ä»£ç åˆ†æå’Œç¬¦åˆäººä½“å·¥ç¨‹å­¦çš„è®¾è®¡ä½¿å¼€å‘ä¸ä»…å…·æœ‰é«˜æ•ˆæ€§ï¼Œè€Œä¸”è¿˜å…·æœ‰ä»¤äººæ„‰æ‚¦çš„ä½“éªŒã€‚</strong><br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-25.png"  alt="25.png"><br><em>æ’ä»¶åº“:</em>   <a href="http://plugins.jetbrains.com/" target="_blank" rel="noopener">å®˜ç½‘ç½‘å€</a> </p><p>ä¸¤ç§å®‰è£…æ–¹å¼ï¼š<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-21.png"  alt="21.png"></p><h2 id="1-Alibaba-Cloud-Toolkit"><a href="#1-Alibaba-Cloud-Toolkit" class="headerlink" title="1.Alibaba Cloud Toolkit"></a>1.Alibaba Cloud Toolkit</h2><blockquote><p>ç®€ä»‹ï¼š<br>Alibaba Cloud Toolkit ï¼ˆåæ–‡ç®€ç§° Cloud Toolkitï¼‰æ˜¯é’ˆå¯¹ IDE å¹³å°ä¸ºå¼€å‘è€…æä¾›çš„ä¸€æ¬¾æ’ä»¶ï¼Œç”¨äºå¸®åŠ©å¼€å‘è€…æ›´é«˜æ•ˆåœ°å¼€å‘ã€æµ‹è¯•ã€è¯Šæ–­åº”ç”¨å’Œéƒ¨ç½²åº”ç”¨ã€‚é€šè¿‡ Cloud Toolkitï¼Œæ‚¨å¯ä»¥å°†åº”ç”¨éƒ¨ç½²åˆ°äº‘ç«¯ï¼ˆECSã€EDASã€å®¹å™¨æœåŠ¡ Kubernetes ç­‰äº‘äº§å“ï¼‰å’Œä»»æ„æœåŠ¡å™¨ä¸­å»ï¼›é€šè¿‡å†…åµŒçš„ Arthas ç¨‹åºè¯Šæ–­ã€ Terminal Shell ç»ˆç«¯å’Œ MySQL æ‰§è¡Œå™¨ç­‰å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿå¼€å‘ã€æµ‹è¯•å’Œè¯Šæ–­åº”ç”¨ã€‚<br>** ç®€è¨€ä¹‹ï¼Œå¯å°†webåº”ç”¨ç­‰ï¼Œä¸€é”®éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨æˆ–ä»»æ„æœåŠ¡å™¨ä¸‹ï¼Œå¹¶æ‰§è¡Œç›¸å…³åç»­æ“ä½œã€‚**</p><blockquote><p>1.1 ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼<br>åœ¨ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼ä¸­ï¼Œéœ€è¦ 7 ä¸ªä»¥ä¸Šçš„æ­¥éª¤æ‰èƒ½å®Œæˆéƒ¨ç½²ï¼Œå¹¶ä¸”åœ¨æœ¬åœ° IDEã€äº‘äº§å“æ§åˆ¶å°ã€Git/SVNã€Maven/Gradleã€é•œåƒä»“åº“ã€ECSã€å®¹å™¨ç­‰å¤šä¸ªäº§å“é—´æ¥å›åˆ‡æ¢ã€‚<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-22.png"  alt="22.png"><br>1.2  Cloud Toolkit éƒ¨ç½²æ–¹å¼(<em>ä¼˜åŠ¿</em>)<br>åœ¨ä½¿ç”¨ Cloud Toolkit çš„éƒ¨ç½²æ–¹å¼ä¸­ï¼Œæ’ä»¶è‡ªåŠ¨åŒ–äº†é¡¹ç›®æ„å»ºã€SCP ä¸Šä¼ éƒ¨ç½²åŒ…ã€åˆ¶ä½œ Docker Imageã€ç™»å½•æœºå™¨ã€æ¨é€è‡³é•œåƒä»“åº“ç­‰å¤šä¸ªæ­¥éª¤ã€‚æ‚¨åªéœ€è¦åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åœ¨æœ¬åœ° IDE ä¸Šå®‰è£… Cloud Toolkitï¼Œå³å¯å¿«é€Ÿéƒ¨ç½²ã€‚<br>1.3 ä¸‹è½½é“¾æ¥åŠå®˜æ–¹ä½¿ç”¨æ•™ç¨‹</p><blockquote><p><a href="https://www.aliyun.com/product/cloudtoolkit" target="_blank" rel="noopener">å®˜ç½‘è§†é¢‘æ¼”ç¤ºåŠç›¸å…³å†…å®¹ä»‹ç»åœ°å€</a><br><a href="http://plugins.jetbrains.com/plugin/11386-alibaba-cloud-toolkit" target="_blank" rel="noopener">æ’ä»¶ä¸‹è½½é“¾æ¥</a></p></blockquote></blockquote></blockquote><h2 id="2-Alibaba-Java-Coding-Guidelines"><a href="#2-Alibaba-Java-Coding-Guidelines" class="headerlink" title="2.Alibaba Java Coding Guidelines"></a>2.Alibaba Java Coding Guidelines</h2><blockquote><blockquote><p>2.1 ä¸‹è½½é“¾æ¥åŠå®˜æ–¹ä½¿ç”¨æ•™ç¨‹ï¼ˆæ”¯æŒeclipseï¼‰<br>é…åˆã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹è¿˜æ˜¯å¾ˆå€¼çš„ä½¿ç”¨çš„~</p><blockquote><p><a href="https://github.com/alibaba/p3c" target="_blank" rel="noopener">æºç åœ°å€</a><br><a href="https://github.com/alibaba/p3c/wiki/IDEA%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3" target="_blank" rel="noopener">ä½¿ç”¨æ•™ç¨‹</a><br><a href="http://plugins.jetbrains.com/plugin/10046-alibaba-java-coding-guidelines" target="_blank" rel="noopener">æ’ä»¶ä¸‹è½½é“¾æ¥</a></p></blockquote></blockquote></blockquote><h2 id="3-RestfulToolkitï¼ˆéœ€Springä½“ç³»ï¼‰"><a href="#3-RestfulToolkitï¼ˆéœ€Springä½“ç³»ï¼‰" class="headerlink" title="3.RestfulToolkitï¼ˆéœ€Springä½“ç³»ï¼‰"></a>3.RestfulToolkitï¼ˆéœ€Springä½“ç³»ï¼‰</h2><blockquote><p>ç®€ä»‹ï¼šä¸€å¥— RESTful æœåŠ¡å¼€å‘è¾…åŠ©å·¥å…·é›†ã€‚</p><blockquote><p>1.æ ¹æ® URL ç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„æ–¹æ³•å®šä¹‰ ( Ctrl \ or Ctrl Alt N );<br>2.æä¾›äº†ä¸€ä¸ª Services tree çš„æ˜¾ç¤ºçª—å£;<br>3.ä¸€ä¸ªç®€å•çš„ http è¯·æ±‚å·¥å…·;<br>4.åœ¨è¯·æ±‚æ–¹æ³•ä¸Šæ·»åŠ äº†æœ‰ç”¨åŠŸèƒ½: å¤åˆ¶ç”Ÿæˆ URL;,å¤åˆ¶æ–¹æ³•å‚æ•°â€¦<br>5.å…¶ä»–åŠŸèƒ½: java ç±»ä¸Šæ·»åŠ  Convert to JSON åŠŸèƒ½ï¼Œæ ¼å¼åŒ– json æ•°æ® ( Windows: Ctrl + Enter; Mac: Command + Enter )ã€‚<br>æ”¯æŒ Spring ä½“ç³» (Spring MVC / Spring Boot 1.x,2.x)<br>æ”¯æŒ JAX-RS<br>æ”¯æŒ Java å’Œ Kotlin è¯­è¨€ã€‚</p></blockquote></blockquote><blockquote><p>3.1 æ•ˆæœå›¾åŠä½¿ç”¨æ–¹æ³•<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-23.png"  alt=""><br>3.2 æ’ä»¶ä¸‹è½½åœ°å€</p><blockquote><p><a href="https://plugins.jetbrains.com/plugin/10292-restfultoolkit" target="_blank" rel="noopener">æ’ä»¶ä¸‹è½½é“¾æ¥</a></p></blockquote></blockquote><h2 id="4-SonarLint"><a href="#4-SonarLint" class="headerlink" title="4.SonarLint"></a>4.SonarLint</h2><blockquote><p>ç®€ä»‹ï¼šæƒ³ä¸æƒ³èº«è¾¹æœ‰ä¸ªâ€œå¤§ç¥â€æŒ‡å¯¼ä½ å¼€å‘ï¼Ÿå®ƒå°±å¯ä»¥æ»¡è¶³ä½ <del>ä¸é”™çš„ä»£ç è´¨é‡æ£€æµ‹æ’ä»¶ï¼Œå¸®ä½ æ£€æµ‹ä»£ç ä¸­çš„â€œåå‘³é“</del>â€ã€‚</p><blockquote><p><a href="https://www.sonarlint.org/" target="_blank" rel="noopener">å®˜ç½‘-éœ€å¢™</a><br><a href="https://blog.sonarsource.com/" target="_blank" rel="noopener">åšå®¢-éœ€å¢™</a></p></blockquote></blockquote><blockquote><p>4.1 æ•ˆæœå›¾<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-24.png"  alt=""><br>4.2 æ’ä»¶ä¸‹è½½åœ°å€</p><blockquote><p><a href="https://plugins.jetbrains.com/plugin/7973-sonarlint/" target="_blank" rel="noopener">æ’ä»¶ä¸‹è½½é“¾æ¥</a></p></blockquote></blockquote><h2 id="5-æ›´å¤šæ’ä»¶"><a href="#5-æ›´å¤šæ’ä»¶" class="headerlink" title="5.æ›´å¤šæ’ä»¶"></a>5.æ›´å¤šæ’ä»¶</h2><p>å…³äºå„ä¸ªæ’ä»¶å¦‚ä½•ä½¿ç”¨çš„é—®é¢˜ï¼Œä¸‹è½½é“¾æ¥ä¸­ä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€äº›ç®€å•çš„gifæ¼”ç¤ºï¼›æˆ–è‡ªè¡ŒæŒ‰éœ€è¦æ‰¾ä¸€æ‰¾ä¾¿å¯ï¼Œè¿™é‡Œä¸ä¸€ä¸€èµ˜è¿°ã€‚</p><table><thead><tr><th>æ’ä»¶åç§°</th><th>æ’ä»¶ä»‹ç»</th><th>æ’ä»¶ä¸‹è½½åœ°å€</th></tr></thead><tbody><tr><td>Gitee</td><td>å¼€æºä¸­å›½çš„ç äº‘æ’ä»¶</td><td><a href="https://plugins.jetbrains.com/plugin/8383-gitee" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8383-gitee</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>IDE Features Trainer</td><td>IntelliJ IDEA å®˜æ–¹å‡ºçš„å­¦ä¹ è¾…åŠ©æ’ä»¶</td><td><a href="https://plugins.jetbrains.com/plugin/8554?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8554?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Key promoter</td><td>å¿«æ·é”®æç¤º</td><td><a href="https://plugins.jetbrains.com/plugin/4455?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/4455?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Grep Console</td><td>è‡ªå®šä¹‰è®¾ç½®æ§åˆ¶å°è¾“å‡ºé¢œè‰²</td><td><a href="https://plugins.jetbrains.com/idea/plugin/7125-grep-console" target="_blank" rel="noopener">https://plugins.jetbrains.com/idea/plugin/7125-grep-console</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>String Manipulation</td><td>é©¼å³°å¼å‘½åå’Œä¸‹åˆ’çº¿å‘½åäº¤æ›¿å˜åŒ–</td><td><a href="https://plugins.jetbrains.com/plugin/2162?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/2162?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>CheckStyle-IDEA</td><td>ä»£ç è§„èŒƒæ£€æŸ¥</td><td><a href="https://plugins.jetbrains.com/plugin/1065?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/1065?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>FindBugs-IDEA</td><td>æ½œåœ¨ Bug æ£€æŸ¥</td><td><a href="https://plugins.jetbrains.com/plugin/3847?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/3847?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>MetricsReloaded</td><td>ä»£ç å¤æ‚åº¦æ£€æŸ¥</td><td><a href="https://plugins.jetbrains.com/plugin/93?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/93?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Statistic</td><td>ä»£ç ç»Ÿè®¡</td><td><a href="https://plugins.jetbrains.com/plugin/4509?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/4509?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>JRebel Plugin</td><td>çƒ­éƒ¨ç½²</td><td><a href="https://plugins.jetbrains.com/plugin/?id=4441" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/?id=4441</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>CodeGlance</td><td>åœ¨ç¼–è¾‘ä»£ç æœ€å³ä¾§ï¼Œæ˜¾ç¤ºä¸€å—ä»£ç å°åœ°å›¾</td><td><a href="https://plugins.jetbrains.com/plugin/7275?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7275?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>GsonFormat</td><td>æŠŠ JSON å­—ç¬¦ä¸²ç›´æ¥å®ä¾‹åŒ–æˆç±»</td><td><a href="https://plugins.jetbrains.com/plugin/7654?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7654?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Markdown Navigator</td><td>ä¹¦å†™ Markdown æ–‡ç« </td><td><a href="https://plugins.jetbrains.com/plugin/7896?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7896?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Eclipse Code Formatter</td><td>ä½¿ç”¨ Eclipse çš„ä»£ç æ ¼å¼åŒ–é£æ ¼ï¼Œåœ¨ä¸€ä¸ªå›¢é˜Ÿä¸­å¦‚æœå…¬å¸æœ‰è§„å®šæ ¼å¼åŒ–é£æ ¼ï¼Œè¿™ä¸ªå¯ä»¥ä½¿ç”¨ã€‚</td><td><a href="https://plugins.jetbrains.com/plugin/6546?pr=idea" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/6546?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Jindent-Source Code Formatter</td><td>è‡ªå®šä¹‰ç±»ã€æ–¹æ³•ã€docã€å˜é‡æ³¨é‡Šæ¨¡æ¿</td><td><a href="http://plugins.jetbrains.com/plugin/2170?pr=idea" target="_blank" rel="noopener">http://plugins.jetbrains.com/plugin/2170?pr=idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Translation</td><td>ç¿»è¯‘æ’ä»¶</td><td><a href="https://github.com/YiiGuxing/TranslationPlugin" target="_blank" rel="noopener">https://github.com/YiiGuxing/TranslationPlugin</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Maven Helper</td><td>Maven è¾…åŠ©æ’ä»¶</td><td><a href="https://plugins.jetbrains.com/plugin/7179-maven-helper" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7179-maven-helper</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Properties to YAML Converter</td><td>æŠŠ Properties çš„é…ç½®æ ¼å¼æ”¹ä¸º YAML æ ¼å¼</td><td><a href="https://plugins.jetbrains.com/plugin/8000-properties-to-yaml-converter" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8000-properties-to-yaml-converter</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Git Flow Integration</td><td>Git Flow çš„å›¾å½¢ç•Œé¢æ“ä½œ</td><td><a href="https://plugins.jetbrains.com/plugin/7315-git-flow-integration" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7315-git-flow-integration</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Rainbow Brackets</td><td>å¯¹å„ä¸ªå¯¹ç§°æ‹¬å·è¿›è¡Œç€è‰²ï¼Œæ–¹ä¾¿æŸ¥çœ‹</td><td><a href="https://github.com/izhangzhihao/intellij-rainbow-brackets" target="_blank" rel="noopener">https://github.com/izhangzhihao/intellij-rainbow-brackets</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Free Mybatis plugin</td><td>xmlä¸mapperé—´è·³è½¬ï¼ˆå…è´¹ï¼‰</td><td><a href="https://plugins.jetbrains.com/plugin/8321-free-mybatis-plugin" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8321-free-mybatis-plugin</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Lombok Plugin</td><td>Lombok åŠŸèƒ½è¾…åŠ©æ’ä»¶ï¼ˆ@Dataç­‰ï¼‰</td><td><a href="https://plugins.jetbrains.com/plugin/6317-lombok-plugin" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/6317-lombok-plugin</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>.ignore</td><td>å„ç±»ç‰ˆæœ¬æ§åˆ¶å¿½ç•¥æ–‡ä»¶ç”Ÿæˆå·¥å…·</td><td><a href="https://plugins.jetbrains.com/plugin/7495--ignore" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/7495--ignore</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>mongo4idea</td><td>mongoå®¢æˆ·ç«¯</td><td><a href="https://github.com/dboissier/mongo4idea" target="_blank" rel="noopener">https://github.com/dboissier/mongo4idea</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>iedis</td><td>rediså®¢æˆ·ç«¯</td><td><a href="https://plugins.jetbrains.com/plugin/9228-iedis" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/9228-iedis</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>GenerateAllSetter</td><td>new POJOç±»çš„å¿«é€Ÿç”Ÿæˆ set æ–¹æ³•</td><td><a href="https://plugins.jetbrains.com/plugin/9360-generateallsetter" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/9360-generateallsetter</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>MyBatis Log Plugin</td><td>å°† Mybatis æ‰§è¡Œçš„ sql è„šæœ¬æ˜¾ç¤ºå‡ºæ¥ï¼Œæ— éœ€å¤„ç†ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶å‡ºæ¥æ‰§è¡Œçš„</td><td><a href="https://plugins.jetbrains.com/plugin/10065-mybatis-log-plugin" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/10065-mybatis-log-plugin</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>stackoverflow</td><td>è¿™ä¸€çœ‹ä¼¼å¹³æ·¡çš„å³é”® stackoverflowï¼Œå´æŠŠå…¶ä¸­çš„é—·éªšä½“ç°çš„æ·‹æ¼“å°½è‡´ï¼šæˆ‘å°±è¿™ä¹ˆå¼ï¼Œæˆ‘å°±ä¸å»æµè§ˆå™¨é‡ŒæŸ¥ï¼Œåªæœ‰å³é”®æ‰å’Œæˆ‘çš„å³æ‰‹åŒ¹é…ã€‚</td><td><a href="https://plugins.jetbrains.com/plugin/9513-stackoverflow" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/9513-stackoverflow</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Nyan progress bar</td><td>æ™®é€šçš„äººè¿›åº¦æ¡éƒ½å¤ªæ™®é€šï¼Œæˆ‘çš„ç²¾è‡´è¦è£…æ‰®åˆ°æ¯ä¸€ä¸ªç»†èŠ‚ï¼ŒåŒ…æ‹¬è¿›åº¦æ¡ï¼</td><td><a href="https://plugins.jetbrains.com/plugin/8575-nyan-progress-bar" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8575-nyan-progress-bar</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>activate-power-mode</td><td>ç‚«é…·çš„è¾“å…¥æ•ˆæœï¼ˆå¸¦éœ‡åŠ¨æ•ˆæœï¼‰åŒç±»å‹çš„è¿˜æœ‰å†’ç«ç„°çš„ Power Mode II</td><td><a href="https://plugins.jetbrains.com/plugin/8330-activate-power-mode" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8330-activate-power-mode</a></td></tr><tr><td></td><td></td><td></td></tr><tr><td>Material Theme UI</td><td>Material Theme UI æ˜¯ JetBrains IDEï¼ˆIntelliJ IDEAï¼ŒWebStormï¼ŒAndroid Studio ç­‰ï¼‰çš„æ’ä»¶ï¼Œå¯å°†åŸå§‹å¤–è§‚æ›´æ”¹ä¸º Material Design å¤–è§‚ã€‚</td><td><a href="https://plugins.jetbrains.com/plugin/8006-material-theme-ui" target="_blank" rel="noopener">https://plugins.jetbrains.com/plugin/8006-material-theme-ui</a></td></tr><tr><td><a href="#top">top</a></td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> åˆ†äº« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨æµè§ˆå™¨æ’ä»¶åˆ†äº«ï¼ˆä¸€ï¼‰</title>
      <link href="/2019/07/23/%E6%8F%92%E4%BB%B6%E5%88%86%E4%BA%AB%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2019/07/23/%E6%8F%92%E4%BB%B6%E5%88%86%E4%BA%AB%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p><em>å†™åœ¨æœ€å‰é¢ï¼šå®‰è£…â€œè°·æ­Œæµè§ˆå™¨â€ä»¥ä¸‹æ’ä»¶çš„å‰æ-å…ˆå¢™ï¼Œæ¨èè“ç¯ é“¾æ¥å¦‚ï¼š<a href="https://github.com/getlantern/lantern" target="_blank" rel="noopener">lantern</a> ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œç‚¹å‡»å¯åŠ¨å³å¯ã€‚</em><br><strong>è°·æ­Œæµè§ˆå™¨&gt;æ›´å¤šå·¥å…·&gt;æ‰©å±•ç¨‹åº&gt;ï¼ˆè®¿é—®éœ€å¢™ï¼‰æ‰“å¼€Chormç½‘ä¸Šåº”ç”¨åº—</strong><br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-1.png"  alt="1.png"></p><p>å¤§éƒ¨åˆ†åœ¨GitHubä¸Šå‡æœ‰æ‰˜ç®¡ï¼Œæ„Ÿå…´è¶£å¯ä»¥å»æ‰¾æ‰¾çœ‹ï¼Œæ²¡å‡†å„¿æœ‰ä¸ä¸€æ ·çš„çµæ„Ÿ~</p><h3 id="1-1-è°·æ­Œè®¿é—®åŠ©æ‰‹-PPè°·æ­Œè®¿é—®åŠ©æ‰‹"><a href="#1-1-è°·æ­Œè®¿é—®åŠ©æ‰‹-PPè°·æ­Œè®¿é—®åŠ©æ‰‹" class="headerlink" title="1.1 è°·æ­Œè®¿é—®åŠ©æ‰‹/PPè°·æ­Œè®¿é—®åŠ©æ‰‹"></a>1.1 è°·æ­Œè®¿é—®åŠ©æ‰‹/PPè°·æ­Œè®¿é—®åŠ©æ‰‹</h3><p>è°·æ­Œè®¿é—®åŠ©æ‰‹æ•ˆæœå›¾ä¸ºä¾‹ï¼š<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-2.png"  alt="2.png"></p><p><em>(å»ºè®®å…ˆå®‰è£…ï¼Œä¹‹åå¯ä»¥å€ŸåŠ©å…¶ç¿»å¢™ï¼Œç±»ä¼¼æ’ä»¶è¿˜è¦å¥½å¤š<del>éœ€è¦ä½ è‡ªå·±å»å‘ç°</del>)</em></p><p>æœ€ç®€å•æ˜“ç”¨çš„è°·æ­Œè®¿é—®åŠ©æ‰‹,ä¸ºchromeæ‰©å±•ç”¨æˆ·é‡èº«æ‰“é€ ã€‚å¯ä»¥è§£å†³chromeæ‰©å±•æ— æ³•è‡ªåŠ¨æ›´æ–°çš„é—®é¢˜ï¼ŒåŒæ—¶å¯ä»¥è®¿é—®è°·æ­Œgoogleæœç´¢ï¼Œgmailé‚®ç®±ï¼›<br>å¸®åŠ©è®¿é—®Googleç½‘ç«™ï¼Œæ°¸ä¹…å…è´¹ï¼Œä¸é™æ—¶ã€‚ç®€å•ï¼Œå¥½ç”¨ã€‚å¯æ›´å¿«çš„è®¿é—®Googleæœç´¢ï¼ŒGmailé‚®ç®±ï¼ŒGoogleç¿»è¯‘ï¼ŒGoogleåœ°å›¾ï¼ŒGoogle Docsæ–‡æ¡£ç­‰ã€‚</p><h3 id="1-2-JSON-handle"><a href="#1-2-JSON-handle" class="headerlink" title="1.2 JSON-handle"></a>1.2 JSON-handle</h3><p>æ•ˆæœå›¾ï¼š<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-3.png"  alt="3.png"></p><p>å¯¹JSONæ ¼å¼çš„å†…å®¹è¿›è¡Œæµè§ˆå’Œç¼–è¾‘ï¼Œä»¥æ ‘å½¢å›¾æ ·å¼å±•ç°JSONæ–‡æ¡£ï¼Œå¹¶å¯å®æ—¶ç¼–è¾‘ã€‚</p><h3 id="1-4-Axure-RP-Extension-for-Chrome"><a href="#1-4-Axure-RP-Extension-for-Chrome" class="headerlink" title="1.4 Axure RP Extension for Chrome"></a>1.4 Axure RP Extension for Chrome</h3><p>Axure RP Extension for Chromeæ˜¯ä¸€æ¬¾è°·æ­Œæ’ä»¶ï¼Œç”¨æ¥æŸ¥çœ‹åŸå‹æ–‡ä»¶ã€‚</p><h3 id="1-5-Octotree"><a href="#1-5-Octotree" class="headerlink" title="1.5 Octotree"></a>1.5 Octotree</h3><p>æ•ˆæœå›¾ï¼š<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-4.png"  alt="4.png"></p><p>æµè§ˆå™¨æ‰©å±•ï¼ˆChromeï¼ŒFirefoxï¼ŒOperaå’ŒSafariï¼‰åœ¨GitHubå’ŒGitLabä¸Šæ˜¾ç¤ºä»£ç æ ‘ã€‚ éå¸¸æ£’çš„æ¢ç´¢é¡¹ç›®æºè€Œæ— éœ€å°†æ¯ä¸ªå­˜å‚¨åº“éƒ½æ‹‰åˆ°æ‚¨çš„æœºå™¨ä¸Šã€‚ ç‰¹å¾ï¼š</p><p>æ˜“äºå¯¼èˆªçš„ä»£ç æ ‘ï¼Œå°±åƒåœ¨IDEä¸­ä¸€æ ·<br>ä½¿ç”¨pjaxå’ŒTurbolinkså¿«é€Ÿæµè§ˆ<br>æ”¯æŒç§æœ‰å­˜å‚¨åº“ï¼ˆè¯·å‚é˜…è¯´æ˜ï¼‰<br>æ”¯æŒGitHubå’ŒGitLab Enterpriseï¼ˆä»…é™Chromeå’ŒOperaï¼Œè¯·å‚é˜…è¯´æ˜ï¼‰</p><h3 id="1-6-WEBå‰ç«¯åŠ©æ‰‹-FeHelper"><a href="#1-6-WEBå‰ç«¯åŠ©æ‰‹-FeHelper" class="headerlink" title="1.6 WEBå‰ç«¯åŠ©æ‰‹(FeHelper)"></a>1.6 WEBå‰ç«¯åŠ©æ‰‹(FeHelper)</h3><p>æ•ˆæœå›¾ï¼š<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-5.png"  alt="5.png"></p><p>FEåŠ©æ‰‹ï¼šåŒ…æ‹¬å­—ç¬¦ä¸²ç¼–è§£ç ã€ä»£ç å‹ç¼©ã€ç¾åŒ–ã€JSONæ ¼å¼åŒ–ã€æ­£åˆ™è¡¨è¾¾å¼ã€æ—¶é—´è½¬æ¢å·¥å…·ã€äºŒç»´ç ç”Ÿæˆä¸è§£ç ã€ç¼–ç è§„èŒƒæ£€æµ‹ã€é¡µé¢æ€§èƒ½æ£€æµ‹ã€é¡µé¢å–è‰²ã€Ajaxæ¥å£è°ƒè¯•</p><h3 id="1-7-Sourcegraph"><a href="#1-7-Sourcegraph" class="headerlink" title="1.7 Sourcegraph"></a>1.7 Sourcegraph</h3><p>æ•ˆæœå›¾ï¼š<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-6.png"  alt="6.png"></p><p>Sourcegraph è¢«å¤§ä¼—å¹¿ä¸ºç†ŸçŸ¥æ­£æ˜¯å› ä¸ºå®ƒæ”¯æŒåœ¨ GitHub ä¸Šè½»æ¾æµè§ˆå’Œæœç´¢ä»£ç ï¼ŒSourcegraph è¿™æ¬¾ Chrome æ’ä»¶ç§°å¾—ä¸Šæ˜¯å¼€å‘è€…å¿…å¤‡çš„æ’ä»¶ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åƒä½¿ç”¨ IDE ä¸€æ ·æµè§ˆå’Œæœç´¢ GitHub ä»£ç ã€‚Sourcegraph æ˜¯ä¸€æ¬¾èƒ½å¤Ÿæ ¹æ®è¯­ä¹‰æ¥æŠŠ Web ä¸Šçš„å¼€æºä»£ç ç¼–å…¥ç´¢å¼•çš„ä»£ç æœç´¢æµè§ˆå·¥å…·ã€‚ä½ å¯ä»¥ä»ä»£ç ä»“åº“å’Œå®‰è£…åŒ…ï¼Œç”šè‡³æ˜¯å‡½æ•°é‡Œæœç´¢ä»£ç ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»è¢«å®Œå…¨åˆ›å»ºäº†é“¾æ¥çš„ä»£ç æ¥é˜…è¯»æ–‡æ¡£ã€è·³è½¬åˆ°å˜é‡å®šä¹‰æˆ–è€…é©¬ä¸Šæ‰¾åˆ°å¯ç”¨çš„ Demoã€‚æ€»è€Œè¨€ä¹‹ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ Web æµè§ˆå™¨ä¸Šå®Œæˆè¿™ä¸€åˆ‡ï¼Œè€Œä¸éœ€è¦é…ç½®ä»»ä½•ç¼–è¾‘å™¨ã€‚ç”± Sourcegraph å‡ºå“çš„è¿™æ¬¾ Chrome æ’ä»¶ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°æµè§ˆå’Œæœç´¢ GitHub ä¸Šçš„ä»£ç ï¼ŒæŒè·¨ä»“åº“(repository)æœç´¢ã€è·³è½¬åˆ°å®šä¹‰ã€æŸ¥æ‰¾å¼•ç”¨ç­‰åŠŸèƒ½ï¼Œå®›è‹¥ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ IDEã€‚æ ¸å¿ƒåŠŸèƒ½å¦‚è·³è½¬åˆ°å®šä¹‰(Go-to-definition) â€”â€” æµè§ˆæ–‡ä»¶æˆ–æŸ¥çœ‹ pull è¯·æ±‚æ—¶ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨ä»£ç ä¸Šå¯ä»¥æŸ¥çœ‹æ–‡æ¡£æç¤ºï¼Œå•å‡»å³å¯è·³è½¬åˆ°å®šä¹‰ã€æŸ¥æ‰¾å¼•ç”¨æˆ–å…¨æ–‡æœç´¢ã€‚</p><h3 id="1-8-å…¶å®ƒæ’ä»¶"><a href="#1-8-å…¶å®ƒæ’ä»¶" class="headerlink" title="1.8 å…¶å®ƒæ’ä»¶"></a>1.8 å…¶å®ƒæ’ä»¶</h3><p>ä½œä¸ºåç«¯å¼€å‘ï¼Œå¸¸ç”¨çš„æ¥å£æµ‹è¯•æ’ä»¶Postmanæœ¬æƒ³å•ç‹¬åˆ—ä¸€ä¸‹ï¼Œåæ¥æƒ³æƒ³è¿˜æ˜¯ç®—äº†å§ï¼ä»€ä¹ˆå¹´ä»£äº†~ ç°åœ¨swagger2æ¥å£æ¨¡å¼è¿™ä¹ˆä¸»æµï¼Œå†æ•´åˆè¯¸å¦‚<a href="https://github.com/YMFE/yapi" target="_blank" rel="noopener">Yapi</a>ä¹‹ç±»çš„å¯è§†åŒ–æ¥å£ç®¡ç†å¹³å°ï¼Œæ ¹æœ¬æ²¡postmanä»€ä¹ˆäº‹äº†å§[æ‚è„¸è‹¦ç¬‘]~</p><p> è¿˜æœ‰å…¶å®ƒå„ç§æ’ä»¶ï¼Œè¿™é‡Œä¸å†ä¸€ä¸€èµ˜è¿°ï¼ŒGoogleåœ¨æ‰‹ï¼å¤©ä¸‹æˆ‘æœ‰ï¼<a href="#top">top</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> åˆ†äº« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»£ç ç”Ÿæˆ</title>
      <link href="/2019/07/02/%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/"/>
      <url>/2019/07/02/%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/ShieldofZues/-springboot-tk.mybatis-lombok/tree/master/demo" target="_blank" rel="noopener">æºç åœ°å€</a><br>(mavenæ’ä»¶çš„å½¢å¼)é€šç”¨mapperå¿«é€Ÿç”Ÿæˆé¡¹ç›®æ‰€éœ€ENTITYï¼ˆé›†æˆswagger2çš„åŒ…å«@ApiModelã€ @Data ã€@Builder ã€@Tableæ³¨è§£ï¼‰MODELå±‚ã€MAPPER(DAO)å±‚ã€*MAPPER.XMLç­‰â€”-ç®€å•demo,ç®€åŒ–ä»£ç ã€å¿«æ·å¼€å‘</p><h1 id="springboot-tk-mybatis-lombok-myBatisGeneratorPlugins"><a href="#springboot-tk-mybatis-lombok-myBatisGeneratorPlugins" class="headerlink" title="springboot-tk.mybatis-lombok-myBatisGeneratorPlugins"></a>springboot-tk.mybatis-lombok-myBatisGeneratorPlugins</h1><p>1ã€åŸºäºé€šç”¨mapperæ’ä»¶ï¼Œå¿«é€Ÿæ ¹æ®æ•°æ®åº“è¡¨ç”Ÿæˆé¡¹ç›®æ‰€éœ€ENTITY(MODEL)å±‚ã€MAPPER(DAO)å±‚ã€*MAPPER.XMLç­‰</p><p>2ã€æ ¸å¿ƒæ–‡ä»¶çš„MyBatis-generator.xmlåŠçš„pom.xmlä¸­ä¾èµ–çš„é…ç½®</p><p>3ã€ç›®å½•ç»“æ„ä¾›å‚è€ƒ</p><p>ä½¿ç”¨æ–¹æ³•:<br>1.MAVENé¡¹ç›®çš„pom.xmlä¸­å¼•å…¥ç›¸å…³æ’ä»¶åŠä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!----mavenç¼–è¯‘æ’ä»¶---&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!----mybatis-generatoræ’ä»¶---&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!----æŒ‡å‘é¡¹ç›®ç›®å½•ä¸‹çš„mybatis-generator.xmlç”Ÿæˆé…ç½®---&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">             $&#123;basedir&#125;/src/main/resources/mybatis-generator.xml</span><br><span class="line">         <span class="tag">&lt;/<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!---æ‰§è¡Œmybatis-generatoræ’ä»¶æ—¶,éœ€è¦æä¾›çš„æ•°æ®åº“é©±åŠ¨ç¨‹åºä¾èµ–---&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.29<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!---é€šç”¨mapperyä¾èµ–---&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>tk.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!---lombokç›¸å…³ä¾èµ–---&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.softwareloop<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-lombok-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.misterchangray.mybatis.generator.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>myBatisGeneratorPlugins<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.MyBatis-generator.xmlä¸­ä¸»è¦å¼•å…¥æ’ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">"com.softwareloop.mybatis.generator.plugins.LombokPlugin"</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- enable annotations --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"builder"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- annotation's option(boolean) --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"builder.fluent"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- annotation's option(String) --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"builder.builderMethodName"</span> <span class="attr">value</span>=<span class="string">"myBuilder"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"accessors"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- annotation's option(array of String) --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"accessors.prefix"</span> <span class="attr">value</span>=<span class="string">"m_, _"</span>/&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- disable annotations --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"allArgsConstructor"</span> <span class="attr">value</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- è‡ªåŠ¨ä¸ºentityç”Ÿæˆswagger2æ–‡æ¡£--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">"mybatis.generator.plugins.GeneratorSwagger2Doc"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"apiModelAnnotationPackage"</span> <span class="attr">value</span>=<span class="string">"io.swagger.annotations.ApiModel"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"apiModelPropertyAnnotationPackage"</span> <span class="attr">value</span>=<span class="string">"io.swagger.annotations.ApiModelProperty"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">"tk.mybatis.mapper.generator.MapperPlugin"</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!---å¦‚æœæœ‰è‡ªå®šä¹‰BaseMapper,æ­¤å¤„çš„ BaseMapperæ³¨æ„ä¸€å®šä¸èƒ½è¢«æ‰«æåˆ°,æ­¤å¤„ä¹Ÿå¯ä»¥ç›´æ¥å¼•ç”¨é€šç”¨mapper---&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mappers"</span> <span class="attr">value</span>=<span class="string">"com.example.demo.common.BaseMapper"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"caseSensitive"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressTypeWarnings"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"forceAnnotation"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"generateColumnConsts"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ã€è¯´æ˜ã€‘ï¼šç½‘ä¸Šæœ‰å¾ˆå¤šè¯´æ³•ï¼Œå¯ç›´æ¥æ·»åŠ propertyæ¥åšlombokæ³¨è§£çš„ç”Ÿæˆï¼Œä½†æˆ‘å°è¯•è¿‡ï¼Œä¸å¤ªå¥½ç”¨ï¼Œä¸çŸ¥æ˜¯å¦æ˜¯ç‰ˆæœ¬çš„åŸå› è¿˜æ˜¯å…¶ä»–åŸå› â€”-æ‰€ä»¥æ‰å¼•å…¥çš„LombokPluginæ’ä»¶æ¥è¿›è¡Œæ³¨è§£çš„è‡ªåŠ¨ç”Ÿæˆ</p><pre><code class="xml"><span class="comment">&lt;!--é…ç½®æ˜¯å¦å¯ç”¨lombok, æ”¯æŒå¦‚ä¸‹6ç§æ³¨è§£--&gt;</span><span class="comment">&lt;!--å½“é…ç½® Data åï¼ŒGetter Setter ToString EqualsAndHashCode ä¼šè¢«å¿½ç•¥--&gt;</span><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"lombok"</span> <span class="attr">value</span>=<span class="string">"Getter,Setter,Data,ToString,Accessors,EqualsAndHashCode"</span>/&gt;</span></code></pre><p>ã€ç‰¹åˆ«æ³¨æ„ã€‘ï¼šå…³äºMyBatis-generator.xmlä¸­æ¶‰åŠçš„æ’ä»¶æˆ–å±æ€§ç­‰åœ¨demoä¸­å‡æœ‰å…·ä½“æ³¨é‡Šè¯´æ˜ï¼Œå¯æŒ‰è‡ªå·±éœ€æ±‚è¿›è¡Œå¼•ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> mapper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mapper </tag>
            
            <tag> coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡çº§swagger2.9.2 æŠ¥é”™ï¼š java.lang.NumberFormatException è§£å†³</title>
      <link href="/2019/07/02/swagger/"/>
      <url>/2019/07/02/swagger/</url>
      
        <content type="html"><![CDATA[<p>æ­¤å¤„æ˜¯â€è€å¤–â€çš„BBå¨ï¼š<a href="https://github.com/springfox/springfox/issues/2265" target="_blank" rel="noopener">https://github.com/springfox/springfox/issues/2265</a><br>å¼‚å¸¸æˆªå›¾ï¼š<img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-053326.png"  alt=""><br>è¿›æºç å‘ç° <img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-053359.png"  alt=""><br>åœ¨ä½¿ç”¨@ApiModelProperty(value = â€œxxâ€ , example=â€xx â€œ)æ³¨è§£æ—¶ï¼Œä¼šæ ¡éªŒå®ä½“å±æ€§ç±»å‹ï¼Œè‹¥è¯¥ç±»å‹æ˜¯Integerï¼Œexampleé»˜è®¤ä¸ºâ€â€å¯¼è‡´è½¬æ¢å¼‚å¸¸ã€‚<br>è§£å†³åŠæ³•ï¼ˆæµ‹è¯•æœ‰æ•ˆï¼‰ï¼šæ’é™¤springfox-swagger2 å¼•å…¥çš„swagger-annotationsã€swagger-models 1.5.20ç‰ˆæœ¬ï¼Œæ‰‹åŠ¨å¼•å…¥1.5.21ç‰ˆæœ¬çš„jarã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;springfox-swagger2&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.9.2&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;exclusions&gt;</span><br><span class="line">        &lt;exclusion&gt;</span><br><span class="line">            &lt;groupId&gt;io.swagger&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;swagger-annotations&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;&#x2F;exclusion&gt;</span><br><span class="line">        &lt;exclusion&gt;</span><br><span class="line">            &lt;groupId&gt;io.swagger&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;swagger-models&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;&#x2F;exclusion&gt;</span><br><span class="line">    &lt;&#x2F;exclusions&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;springfox-swagger-ui&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.9.2&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.swagger&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;swagger-annotations&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.5.21&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.swagger&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;swagger-models&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.5.21&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> swagger </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
            <tag> swagger </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°å½•mysqlæŸ¥è¯¢è¿‡å»åäºŒä¸ªæœˆä¸­æ¯ä¸ªæœˆçš„æ•°æ®æƒ…å†µï¼ˆå«æœ¬æœˆï¼‰</title>
      <link href="/2019/03/01/mysql/"/>
      <url>/2019/03/01/mysql/</url>
      
        <content type="html"><![CDATA[<p>æ€è·¯ï¼šåˆ›å»ºè§†å›¾ï¼ŒæŸ¥è¯¢è¿‡å»çš„12ä¸ªæœˆï¼›å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹éå†çš„æŠŠ12ä¸ªæœˆæ’å…¥åˆ°ä¸€ä¸ªä¸´æ—¶è¡¨ä¸­ã€‚</p><p>ä¸€ã€ä»¥è§†å›¾çš„å½¢å¼å®ç°</p><p>1.1åˆ›å»ºè¿‡å»åäºŒä¸ªæœˆçš„è§†å›¾SQL</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> </span><br><span class="line">    ALGORITHM = UNDEFINED </span><br><span class="line">    DEFINER = <span class="string">`root`</span>@<span class="string">`%`</span> </span><br><span class="line">    <span class="keyword">SQL</span> <span class="keyword">SECURITY</span> DEFINER</span><br><span class="line"><span class="keyword">VIEW</span> <span class="string">`year_month_view`</span> <span class="keyword">AS</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>(<span class="keyword">CURDATE</span>(), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">1</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">2</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">3</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">4</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">5</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">6</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">7</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">8</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">9</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">10</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span> </span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>((<span class="keyword">CURDATE</span>() - <span class="built_in">INTERVAL</span> <span class="number">11</span> <span class="keyword">MONTH</span>), <span class="string">'%Y-%m'</span>) <span class="keyword">AS</span> <span class="string">`year_month`</span></span><br></pre></td></tr></table></figure><p>å…³äºsqlä¸­ç”¨åˆ°çš„è§†å›¾è¯­æ³•è¯´æ˜åŠè§†å›¾è¯´æ˜ï¼š</p><p>aã€ALGORITHMå¯å–ä¸‰ä¸ªå€¼ï¼šMERGEã€TEMPTABLEæˆ–UNDEFINEDã€‚</p><p>å¦‚æœæ²¡æœ‰ALGORITHMå­å¥ï¼Œé»˜è®¤ç®—æ³•æ˜¯UNDEFINEDï¼ˆæœªå®šä¹‰çš„ï¼‰ã€‚ç®—æ³•ä¼šå½±å“MySQLå¤„ç†è§†å›¾çš„æ–¹å¼ã€‚</p><p>å¯¹äºMERGEï¼Œä¼šå°†å¼•ç”¨è§†å›¾çš„è¯­å¥çš„æ–‡æœ¬ä¸è§†å›¾å®šä¹‰åˆå¹¶èµ·æ¥ï¼Œä½¿å¾—è§†å›¾å®šä¹‰çš„æŸä¸€éƒ¨åˆ†å–ä»£è¯­å¥çš„å¯¹åº”éƒ¨åˆ†ã€‚</p><p>å¯¹äºTEMPTABLEï¼Œè§†å›¾çš„ç»“æœå°†è¢«ç½®äºä¸´æ—¶è¡¨ä¸­ï¼Œç„¶åä½¿ç”¨å®ƒæ‰§è¡Œè¯­å¥ã€‚</p><p>å¯¹äºUNDEFINEDï¼ŒMySQLè‡ªå·±é€‰æ‹©æ‰€è¦ä½¿ç”¨çš„ç®—æ³•ã€‚å¦‚æœå¯èƒ½ï¼Œå®ƒå€¾å‘äºMERGEè€Œä¸æ˜¯TEMPTABLEï¼Œ</p><p>è¿™æ˜¯å› ä¸ºMERGEé€šå¸¸æ›´æœ‰æ•ˆï¼Œè€Œä¸”å¦‚æœä½¿ç”¨äº†ä¸´æ—¶è¡¨ï¼Œè§†å›¾æ˜¯ä¸å¯æ›´æ–°çš„ã€‚</p><p>bã€DEFINER è¡¨ç¤ºæŒ‰å®šä¹‰è€…æ‹¥æœ‰çš„æƒé™æ¥æ‰§è¡Œï¼ˆæŒ‡å®šè§†å›¾åˆ›å»ºè€…ï¼‰</p><pre><code>INVOKER è¡¨ç¤ºç”¨è°ƒç”¨è€…çš„æƒé™æ¥æ‰§è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»ŸæŒ‡å®šä¸ºDEFINER </code></pre><p>cã€SQL SECURITY DEFINERï¼šæŒ‡å®šè§†å›¾æŸ¥è¯¢æ•°æ®æ—¶çš„å®‰å…¨éªŒè¯æ–¹å¼ï¼›</p><p>è¯­æ³•ä¸€<br>DATE_FORMAT(date,format)<br>date å‚æ•°æ˜¯åˆæ³•çš„æ—¥æœŸã€‚format è§„å®šæ—¥æœŸ/æ—¶é—´çš„è¾“å‡ºæ ¼å¼ã€‚<br>è¯­æ³•äºŒ<br>CURDATE()å‡½æ•°è¿”å›å½“å‰çš„æ—¥æœŸã€‚<br>INTERVAL </p><p>è¯¦æƒ…é“¾æ¥ï¼š</p><p>æ•ˆæœå¦‚å›¾ï¼šåˆ›å»ºå®ŒæˆæŸ¥çœ‹è§†å›¾sql</p><p>select ym.year_month from year_month_view ym group by ym.year_month;<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-060737.png"  alt=""><br>1.2 å…³è”æŸ¥è¯¢æ•°æ®sql</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">ymv.year_month yearMonth,</span><br><span class="line"><span class="keyword">ifnull</span>(pi.totalPay, <span class="number">0</span>) totalPay</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">year_month_view ymv</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> (</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"><span class="keyword">DATE_FORMAT</span>(pi.in_Issu_time, <span class="string">'%Y-%m'</span>) yearMonth,</span><br><span class="line"><span class="keyword">SUM</span>(pi.total_Tax_included_Am) totalPay</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">pj_invoice <span class="keyword">pi</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line"><span class="keyword">DATE_FORMAT</span>(pi.in_Issu_time, <span class="string">'%Y-%m'</span>) &gt; <span class="keyword">DATE_FORMAT</span>(</span><br><span class="line"><span class="keyword">date_sub</span>(<span class="keyword">curdate</span>(), <span class="built_in">INTERVAL</span> <span class="number">12</span> <span class="keyword">MONTH</span>),</span><br><span class="line"><span class="string">'%Y-%m'</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">yearMonth</span><br><span class="line">) <span class="keyword">pi</span> <span class="keyword">ON</span> ymv.year_month = pi.yearMonth</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">ymv.year_month</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼šsqlå¯¹åº”in_Issu_timeæ˜¯æˆ‘ä¸šåŠ¡è¡¨ä¸­å¯¹åº”çš„æŸä¸ªæ—¶é—´ï¼Œå…·ä½“ä¸šåŠ¡æ˜¯æŸ¥è¯¢è¿‡å»ä¸€å¹´ä¸­æ¯ä¸ªæœˆçš„æ•°æ®çš„æ€»é¢ã€‚</p><p>pjå¯¹åº”çš„è¦æŸ¥è¯¢çš„æ•°æ®ä¸šåŠ¡è¡¨ã€year_month_viewè§†å›¾ã€total_Tax_included_Amæ¯æ¡è®°å½•çš„æ€»é¢åº¦ã€è®¡ç®—å‡ºçš„æ€»é¢totalPay</p><p>DATE_SUB(d,INTERVAL expr type)å‡½æ•°è¿”å›èµ·å§‹æ—¥æœŸdå‡å»ä¸€ä¸ªæ—¶é—´æ®µåçš„æ—¥æœŸã€‚</p><p>expræ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç”¨æ¥æŒ‡å®šä»èµ·å§‹æ—¥æœŸæ·»åŠ æˆ–å‡å»çš„æ—¶é—´é—´éš”å€¼ã€‚</p><p>expræ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¯¹äºè´Ÿå€¼çš„æ—¶é—´é—´éš”ï¼Œå®ƒå¯ä»¥ç”¨ä¸€ä¸ªè´Ÿå·â€œ-â€å¼€å¤´ã€‚</p><p>exprè¡¨è¾¾å¼ä¸åé¢çš„é—´éš”ç±»å‹typeå¯¹åº”ã€‚</p><p>MySQLä¸­çš„æ—¥æœŸé—´éš”ç±»å‹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-060805.png"  alt=""></p>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springspringbootå¿…é¡»çŸ¥é“çš„äº‹</title>
      <link href="/2019/02/27/springspringboot%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84%E4%BA%8B/"/>
      <url>/2019/02/27/springspringboot%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84%E4%BA%8B/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-15-042138.png"  alt=""></p><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><h2 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h2><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-15-917856-20160830090316402-526575145.jpg"  alt=""></p><p>Springæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„è®¾è®¡å±‚é¢æ¡†æ¶ï¼Œä»–è§£å†³çš„æ˜¯ä¸šåŠ¡é€»è¾‘å±‚å’Œå…¶ä»–å„å±‚çš„æ¾è€¦åˆé—®é¢˜ï¼Œå› æ­¤å®ƒå°†é¢å‘æ¥å£çš„ç¼–ç¨‹æ€æƒ³è´¯ç©¿æ•´ä¸ªç³»ç»Ÿåº”ç”¨ã€‚å¯ä»¥æ¥ç®¡webå±‚ï¼Œä¸šåŠ¡å±‚ï¼Œdaoå±‚ï¼ŒæŒä¹…å±‚çš„ç»„ä»¶ï¼Œå¹¶ä¸”å¯ä»¥é…ç½®å„ç§bean,å’Œç»´æŠ¤beanä¸beanä¹‹é—´çš„å…³ç³»ã€‚å…¶æ ¸å¿ƒå°±æ˜¯æ§åˆ¶åè½¬(IOC),å’Œé¢å‘åˆ‡é¢(AOP) ï¼Œç®€å•æ¥è¯´ï¼ŒSpringæ˜¯ä¸€ä¸ªåˆ†å±‚çš„JavaSE/EE <strong>full-stack(ä¸€ç«™å¼)</strong> è½»é‡çº§å¼€æºæ¡†æ¶ã€‚</p><p>å†…éƒ¨æœ€æ ¸å¿ƒçš„å°±æ˜¯<strong>IOC</strong>äº†ï¼ŒåŠ¨æ€æ³¨å…¥ï¼Œè®©ä¸€ä¸ªå¯¹è±¡çš„åˆ›å»ºä¸ç”¨newäº†ï¼Œå¯ä»¥è‡ªåŠ¨çš„ç”Ÿäº§ï¼Œè¿™å…¶å®å°±æ˜¯åˆ©ç”¨javaé‡Œçš„åå°„ï¼Œåå°„å…¶å®å°±æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„å»åˆ›å»ºã€è°ƒç”¨å¯¹è±¡ï¼ŒSpringå°±æ˜¯åœ¨è¿è¡Œæ—¶ï¼Œè·Ÿxml Springçš„é…ç½®æ–‡ä»¶æ¥åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡ï¼Œå’Œè°ƒç”¨å¯¹è±¡é‡Œçš„æ–¹æ³•çš„ ã€‚<br>   Springè¿˜æœ‰ä¸€ä¸ªæ ¸å¿ƒå°±æ˜¯<strong>AOP</strong>è¿™ä¸ªå°±æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå¯ä»¥ä¸ºæŸä¸€ç±»å¯¹è±¡ è¿›è¡Œç›‘ç£å’Œæ§åˆ¶ï¼ˆä¹Ÿå°±æ˜¯ åœ¨è°ƒç”¨è¿™ç±»å¯¹è±¡çš„å…·ä½“æ–¹æ³•çš„å‰åå»è°ƒç”¨ä½ æŒ‡å®šçš„ æ¨¡å—ï¼‰ä»è€Œè¾¾åˆ°å¯¹ä¸€ä¸ªæ¨¡å—æ‰©å……çš„åŠŸèƒ½ã€‚è¿™äº›éƒ½æ˜¯é€šè¿‡ é…ç½®ç±»è¾¾åˆ°çš„ã€‚<br>   <strong>Springç›®çš„</strong>ï¼šå°±æ˜¯è®©å¯¹è±¡ä¸å¯¹è±¡ï¼ˆæ¨¡å—ä¸æ¨¡å—ï¼‰ä¹‹é—´çš„å…³ç³»æ²¡æœ‰é€šè¿‡ä»£ç æ¥å…³è”ï¼Œéƒ½æ˜¯é€šè¿‡é…ç½®ç±»è¯´æ˜ç®¡ç†çš„ï¼ˆSpringæ ¹æ®è¿™äº›é…ç½® å†…éƒ¨é€šè¿‡åå°„å»åŠ¨æ€çš„ç»„è£…å¯¹è±¡ï¼‰ </p><p><em>Springæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå‡¡æ˜¯åœ¨å®¹å™¨é‡Œçš„å¯¹è±¡æ‰ä¼šæœ‰Springæ‰€æä¾›çš„è¿™äº›æœåŠ¡å’ŒåŠŸèƒ½ã€‚</em> </p><h3 id="Spring-AOPä¸IOC"><a href="#Spring-AOPä¸IOC" class="headerlink" title="Spring AOPä¸IOC"></a><strong>Spring AOPä¸IOC</strong></h3><h4 id="ä¸€ã€-IoC-Inversion-of-control-æ§åˆ¶åè½¬"><a href="#ä¸€ã€-IoC-Inversion-of-control-æ§åˆ¶åè½¬" class="headerlink" title="ä¸€ã€ IoC(Inversion of control): æ§åˆ¶åè½¬"></a><strong>ä¸€ã€ IoC(Inversion of control): æ§åˆ¶åè½¬</strong></h4><p>1ã€IoCï¼š<br>æ¦‚å¿µï¼šæ§åˆ¶æƒç”±å¯¹è±¡æœ¬èº«è½¬å‘å®¹å™¨ï¼›ç”±å®¹å™¨æ ¹æ®é…ç½®æ–‡ä»¶å»åˆ›å»ºå®ä¾‹å¹¶åˆ›å»ºå„ä¸ªå®ä¾‹ä¹‹é—´çš„ä¾èµ–å…³ç³»<br>æ ¸å¿ƒï¼šbeanå·¥å‚ï¼›åœ¨Springä¸­ï¼Œbeanå·¥å‚åˆ›å»ºçš„å„ä¸ªå®ä¾‹ç§°ä½œbean </p><p>æ³¨å…¥æ–¹å¼ï¼š</p><p>2.1 Setæ³¨å…¥</p><p>2.2 æ„é€ å™¨æ³¨å…¥</p><p>2.3  é™æ€å·¥å‚çš„æ–¹æ³•æ³¨å…¥</p><h4 id="äºŒã€AOP-Aspect-Oriented-Programming-é¢å‘æ–¹é¢ç¼–ç¨‹"><a href="#äºŒã€AOP-Aspect-Oriented-Programming-é¢å‘æ–¹é¢ç¼–ç¨‹" class="headerlink" title="äºŒã€AOP(Aspect-Oriented Programming): é¢å‘æ–¹é¢ç¼–ç¨‹"></a><strong>äºŒã€AOP(Aspect-Oriented Programming): é¢å‘æ–¹é¢ç¼–ç¨‹</strong></h4><p>1ã€ ä»£ç†çš„ä¸¤ç§æ–¹å¼ï¼š<br>é™æ€ä»£ç†ï¼š<br>ï¬ é’ˆå¯¹æ¯ä¸ªå…·ä½“ç±»åˆ†åˆ«ç¼–å†™ä»£ç†ç±»ï¼›<br>ï¬ é’ˆå¯¹ä¸€ä¸ªæ¥å£ç¼–å†™ä¸€ä¸ªä»£ç†ç±»ï¼›<br>åŠ¨æ€ä»£ç†ï¼š<br>é’ˆå¯¹ä¸€ä¸ªæ–¹é¢ç¼–å†™ä¸€ä¸ªInvocationHandlerï¼Œç„¶åå€Ÿç”¨JDKåå°„åŒ…ä¸­çš„Proxyç±»ä¸ºå„ç§æ¥å£åŠ¨æ€ç”Ÿæˆç›¸åº”çš„ä»£ç†ç±»</p><h4 id="ä¸‰ã€springçš„æ ¸å¿ƒæ¥å£åŠæ ¸ç±»é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆ"><a href="#ä¸‰ã€springçš„æ ¸å¿ƒæ¥å£åŠæ ¸ç±»é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸‰ã€springçš„æ ¸å¿ƒæ¥å£åŠæ ¸ç±»é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆ?"></a>ä¸‰ã€springçš„æ ¸å¿ƒæ¥å£åŠæ ¸ç±»é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆ?</h4><p> FactoryBean:å·¥å‚beanä¸»è¦å®ç°ioc/di</p><p>ApplicationContext ac=new FileXmlApplicationContext(â€œapplicationContext.xmlâ€);</p><p>Object obj=ac.getBean(â€œidå€¼â€);</p><h4 id="å››ã€springçš„7ä¸ªæ ¸å¿ƒæ¨¡å—"><a href="#å››ã€springçš„7ä¸ªæ ¸å¿ƒæ¨¡å—" class="headerlink" title="å››ã€springçš„7ä¸ªæ ¸å¿ƒæ¨¡å—"></a>å››ã€springçš„7ä¸ªæ ¸å¿ƒæ¨¡å—</h4><p>Spring æ¡†æ¶æ˜¯ä¸€ä¸ªåˆ†å±‚æ¶æ„ï¼Œç”± 7 ä¸ªå®šä¹‰è‰¯å¥½çš„æ¨¡å—ç»„æˆã€‚Spring æ¨¡å—æ„å»ºåœ¨æ ¸å¿ƒå®¹å™¨ä¹‹ä¸Šï¼Œæ ¸å¿ƒå®¹å™¨å®šä¹‰äº†åˆ›å»ºã€é…ç½®å’Œç®¡ç† bean çš„æ–¹å¼ï¼Œç»„æˆ Spring æ¡†æ¶çš„æ¯ä¸ªæ¨¡å—ï¼ˆæˆ–ç»„ä»¶ï¼‰éƒ½å¯ä»¥å•ç‹¬å­˜åœ¨ï¼Œæˆ–è€…ä¸å…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—è”åˆå®ç°ã€‚æ¯ä¸ªæ¨¡å—çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p><p>   æ ¸å¿ƒå®¹å™¨ï¼šæ ¸å¿ƒå®¹å™¨æä¾› Spring æ¡†æ¶çš„åŸºæœ¬åŠŸèƒ½ã€‚æ ¸å¿ƒå®¹å™¨çš„ä¸»è¦ç»„ä»¶æ˜¯ BeanFactoryï¼Œå®ƒæ˜¯å·¥å‚æ¨¡å¼çš„å®ç°ã€‚BeanFactory ä½¿ç”¨æ§åˆ¶åè½¬ ï¼ˆIOCï¼‰æ¨¡å¼å°†åº”ç”¨ç¨‹åºçš„é…ç½®å’Œä¾èµ–æ€§è§„èŒƒä¸å®é™…çš„åº”ç”¨ç¨‹åºä»£ç åˆ†å¼€ã€‚</p><p>   Spring ä¸Šä¸‹æ–‡ï¼šSpring ä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘ Spring æ¡†æ¶æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚Spring ä¸Šä¸‹æ–‡åŒ…æ‹¬ä¼ä¸šæœåŠ¡ï¼Œä¾‹å¦‚ JNDIã€EJBã€ç”µå­é‚®ä»¶ã€å›½é™…åŒ–ã€æ ¡éªŒå’Œè°ƒåº¦åŠŸèƒ½ã€‚</p><p>   Spring AOPï¼šé€šè¿‡é…ç½®ç®¡ç†ç‰¹æ€§ï¼ŒSpring AOP æ¨¡å—ç›´æ¥å°†é¢å‘æ–¹é¢çš„ç¼–ç¨‹åŠŸèƒ½é›†æˆåˆ°äº† Spring æ¡†æ¶ä¸­ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ Spring æ¡†æ¶ç®¡ç†çš„ä»»ä½•å¯¹è±¡æ”¯æŒ AOPã€‚Spring AOP æ¨¡å—ä¸ºåŸºäº Spring çš„åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æä¾›äº†äº‹åŠ¡ç®¡ç†æœåŠ¡ã€‚é€šè¿‡ä½¿ç”¨ Spring AOPï¼Œä¸ç”¨ä¾èµ– EJB ç»„ä»¶ï¼Œå°±å¯ä»¥å°†å£°æ˜æ€§äº‹åŠ¡ç®¡ç†é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚</p><p>   Spring DAOï¼šJDBC DAO æŠ½è±¡å±‚æä¾›äº†æœ‰æ„ä¹‰çš„å¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œå¯ç”¨è¯¥ç»“æ„æ¥ç®¡ç†å¼‚å¸¸å¤„ç†å’Œä¸åŒæ•°æ®åº“ä¾›åº”å•†æŠ›å‡ºçš„é”™è¯¯æ¶ˆæ¯ã€‚å¼‚å¸¸å±‚æ¬¡ç»“æ„ç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œå¹¶ä¸”æå¤§åœ°é™ä½äº†éœ€è¦ç¼–å†™çš„å¼‚å¸¸ä»£ç æ•°é‡ï¼ˆä¾‹å¦‚æ‰“å¼€å’Œå…³é—­è¿æ¥ï¼‰ã€‚Spring DAO çš„é¢å‘ JDBC çš„å¼‚å¸¸éµä»é€šç”¨çš„ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</p><p>   Spring ORMï¼šSpring æ¡†æ¶æ’å…¥äº†è‹¥å¹²ä¸ª ORM æ¡†æ¶ï¼Œä»è€Œæä¾›äº† ORM çš„å¯¹è±¡å…³ç³»å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬ JDOã€Hibernate å’Œ iBatis SQL Mapã€‚æ‰€æœ‰è¿™äº›éƒ½éµä» Spring çš„é€šç”¨äº‹åŠ¡å’Œ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</p><p>   Spring Web æ¨¡å—ï¼šWeb ä¸Šä¸‹æ–‡æ¨¡å—å»ºç«‹åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æ¨¡å—ä¹‹ä¸Šï¼Œä¸ºåŸºäº Web çš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥ï¼ŒSpring æ¡†æ¶æ”¯æŒä¸ Jakarta Struts çš„é›†æˆã€‚Web æ¨¡å—è¿˜ç®€åŒ–äº†å¤„ç†å¤šéƒ¨åˆ†è¯·æ±‚ä»¥åŠå°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°åŸŸå¯¹è±¡çš„å·¥ä½œã€‚</p><p>   Spring MVC æ¡†æ¶ï¼šMVC æ¡†æ¶æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„æ„å»º Web åº”ç”¨ç¨‹åºçš„ MVC å®ç°ã€‚é€šè¿‡ç­–ç•¥æ¥å£ï¼ŒMVC æ¡†æ¶å˜æˆä¸ºé«˜åº¦å¯é…ç½®çš„ï¼ŒMVC å®¹çº³äº†å¤§é‡è§†å›¾æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬ JSPã€Velocityã€Tilesã€iText å’Œ POIã€‚</p><p>Spring æ¡†æ¶çš„åŠŸèƒ½å¯ä»¥ç”¨åœ¨ä»»ä½• J2EE æœåŠ¡å™¨ä¸­ï¼Œå¤§å¤šæ•°åŠŸèƒ½ä¹Ÿé€‚ç”¨äºä¸å—ç®¡ç†çš„ç¯å¢ƒã€‚Spring çš„æ ¸å¿ƒè¦ç‚¹æ˜¯ï¼šæ”¯æŒä¸ç»‘å®šåˆ°ç‰¹å®š J2EE æœåŠ¡çš„å¯é‡ç”¨ä¸šåŠ¡å’Œæ•°æ®è®¿é—®å¯¹è±¡ã€‚æ¯«æ— ç–‘é—®ï¼Œè¿™æ ·çš„å¯¹è±¡å¯ä»¥åœ¨ä¸åŒ J2EE ç¯å¢ƒ ï¼ˆWeb æˆ– EJBï¼‰ã€ç‹¬ç«‹åº”ç”¨ç¨‹åºã€æµ‹è¯•ç¯å¢ƒä¹‹é—´é‡ç”¨ã€‚</p><h2 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h2><p>Spring MVCå±äºSpringFrameWorkçš„åç»­äº§å“ï¼Œå·²ç»èåˆåœ¨Spring Web Flowé‡Œé¢ã€‚Spring æ¡†æ¶æä¾›äº†æ„å»º Web åº”ç”¨ç¨‹åºçš„å…¨åŠŸèƒ½ MVC æ¨¡å—ã€‚ä½¿ç”¨ Spring å¯æ’å…¥çš„ MVC æ¶æ„ï¼Œå¯ä»¥é€‰æ‹©æ˜¯ä½¿ç”¨å†…ç½®çš„ Spring Web æ¡†æ¶è¿˜å¯ä»¥æ˜¯ Struts è¿™æ ·çš„ Web æ¡†æ¶ã€‚ä¸“é—¨ç”¨æ¥å¼€å‘SpringWebé¡¹ç›®çš„ä¸€ç§MVCæ¨¡å¼çš„æŠ€æœ¯æ¡†æ¶å®ç°ã€‚å…¶åŸç†å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-15-v2-070bf22c671ee0d12a747ce03b3b2208_1440w.jpg"  alt=""></p><p>Spring æ¡†æ¶æä¾›äº†æ„å»º Web åº”ç”¨ç¨‹åºçš„å…¨åŠŸèƒ½ MVC æ¨¡å—ã€‚ä½¿ç”¨ Spring å¯æ’å…¥çš„ MVC æ¶æ„ï¼Œå¯ä»¥é€‰æ‹©æ˜¯ä½¿ç”¨å†…ç½®çš„ Spring Web æ¡†æ¶è¿˜æ˜¯ Struts è¿™æ ·çš„ Web æ¡†æ¶ã€‚é€šè¿‡ç­–ç•¥æ¥å£ï¼ŒSpring æ¡†æ¶æ˜¯é«˜åº¦å¯é…ç½®çš„ï¼Œè€Œä¸”åŒ…å«å¤šç§è§†å›¾æŠ€æœ¯ï¼Œä¾‹å¦‚ JavaServer Pagesï¼ˆJSPï¼‰æŠ€æœ¯ã€Velocityã€Tilesã€iText å’Œ POIã€‚Spring MVC æ¡†æ¶å¹¶ä¸çŸ¥é“ä½¿ç”¨çš„è§†å›¾ï¼Œæ‰€ä»¥ä¸ä¼šå¼ºè¿«æ‚¨åªä½¿ç”¨ JSP æŠ€æœ¯ã€‚Spring MVC åˆ†ç¦»äº†æ§åˆ¶å™¨ã€æ¨¡å‹å¯¹è±¡ã€åˆ†æ´¾å™¨ä»¥åŠå¤„ç†ç¨‹åºå¯¹è±¡çš„è§’è‰²ï¼Œè¿™ç§åˆ†ç¦»è®©å®ƒä»¬æ›´å®¹æ˜“è¿›è¡Œå®šåˆ¶ã€‚</p><h2 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h2><p>Springbootæ˜¯ä¸€ä¸ªå¾®æœåŠ¡æ¡†æ¶ï¼Œå»¶ç»­äº†springæ¡†æ¶çš„æ ¸å¿ƒæ€æƒ³IOCå’ŒAOPï¼Œç®€åŒ–äº†åº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²ã€‚Spring Bootæ˜¯ä¸ºäº†ç®€åŒ–Springåº”ç”¨çš„åˆ›å»ºã€è¿è¡Œã€è°ƒè¯•ã€éƒ¨ç½²ç­‰è€Œå‡ºç°çš„ï¼Œä½¿ç”¨å®ƒå¯ä»¥åšåˆ°ä¸“æ³¨äºSpringåº”ç”¨çš„å¼€å‘ï¼Œè€Œæ— éœ€è¿‡å¤šå…³æ³¨XMLçš„é…ç½®ã€‚</p><p>â€‹       é€šè¿‡Spring Bootï¼Œå¯ä»¥è½»æ¾åœ°åˆ›å»ºç‹¬ç«‹çš„ï¼ŒåŸºäºç”Ÿäº§çº§åˆ«çš„åŸºäºSpringçš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å¯ä»¥â€œè¿è¡Œâ€å®ƒä»¬ã€‚</p><p>æˆ‘ä»¬å¯¹Springå¹³å°å’Œç¬¬ä¸‰æ–¹åº“æŒå›ºæ‰§å·±è§çš„è§‚ç‚¹ï¼Œå› æ­¤æ‚¨å¯ä»¥ä»¥æœ€å°çš„éº»çƒ¦å¼€å§‹ä½¿ç”¨ã€‚å¤§å¤šæ•°Spring Bootåº”ç”¨ç¨‹åºéœ€è¦æœ€å°‘çš„Springé…ç½®ã€‚</p><p>ç‰¹å¾ï¼š</p><ul><li>åˆ›å»ºç‹¬ç«‹çš„Springåº”ç”¨ç¨‹åº</li><li>ç›´æ¥åµŒå…¥Tomcatï¼ŒJettyæˆ–Undertowï¼ˆæ— éœ€éƒ¨ç½²WARæ–‡ä»¶ï¼‰</li><li>æä¾›è‡ªä»¥ä¸ºæ˜¯çš„â€œå…¥é—¨â€ä¾èµ–é¡¹ï¼Œä»¥ç®€åŒ–æ„å»ºé…ç½®</li><li>å°½å¯èƒ½è‡ªåŠ¨é…ç½®Springå’Œ3rd Partyåº“</li><li>æä¾›å¯ç”¨äºç”Ÿäº§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æŒ‡æ ‡ï¼Œè¿è¡ŒçŠ¶å†µæ£€æŸ¥å’Œå¤–éƒ¨åŒ–é…ç½®</li><li>å®Œå…¨æ²¡æœ‰ä»£ç ç”Ÿæˆï¼Œä¹Ÿä¸éœ€è¦XMLé…ç½®</li></ul><p><a href="https://blog.csdn.net/zlc3323/article/details/100137222" target="_blank" rel="noopener">æ¨èé˜…è¯»ï¼šspringbootå¯åŠ¨åŸç†åŠæºç è§£æ</a></p><p>@SpringBootApplicationæ³¨è§£æ˜¯Spring Bootçš„æ ¸å¿ƒæ³¨è§£ï¼Œå®ƒå…¶å®æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼š</p><ul><li><p><strong>@Configuration</strong>ï¼ˆ<em>@Configurationå¯¹æˆ‘ä»¬æ¥è¯´ä¸é™Œç”Ÿï¼Œå®ƒå°±æ˜¯JavaConfigå½¢å¼çš„Spring Iocå®¹å™¨çš„é…ç½®ç±»ä½¿ç”¨çš„é‚£ä¸ª@Configurationï¼ŒSpringBootç¤¾åŒºæ¨èä½¿ç”¨åŸºäºJavaConfigçš„é…ç½®å½¢å¼ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œçš„å¯åŠ¨ç±»æ ‡æ³¨äº†@Configurationä¹‹åï¼Œæœ¬èº«å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªIoCå®¹å™¨çš„é…ç½®ç±»ã€‚</em>ï¼‰</p></li><li><p><strong>@EnableAutoConfiguration</strong>ï¼ˆ<em>å€ŸåŠ©@Importçš„æ”¯æŒï¼Œæ”¶é›†å’Œæ³¨å†Œç‰¹å®šåœºæ™¯ç›¸å…³çš„beanå®šä¹‰ã€‚</em></p><ul><li><em>@EnableSchedulingæ˜¯é€šè¿‡@Importå°†Springè°ƒåº¦æ¡†æ¶ç›¸å…³çš„beanå®šä¹‰éƒ½åŠ è½½åˆ°IoCå®¹å™¨ã€‚</em></li><li><em>@EnableMBeanExportæ˜¯é€šè¿‡@Importå°†JMXç›¸å…³çš„beanå®šä¹‰åŠ è½½åˆ°IoCå®¹å™¨ã€‚</em></li></ul><p><em>è€Œ@EnableAutoConfigurationä¹Ÿæ˜¯å€ŸåŠ©@Importçš„å¸®åŠ©ï¼Œå°†æ‰€æœ‰ç¬¦åˆè‡ªåŠ¨é…ç½®æ¡ä»¶çš„beanå®šä¹‰åŠ è½½åˆ°IoCå®¹å™¨ï¼Œä»…æ­¤è€Œå·²ï¼</em></p><p>  <em>@EnableAutoConfigurationä¼šæ ¹æ®ç±»è·¯å¾„ä¸­çš„jarä¾èµ–ä¸ºé¡¹ç›®è¿›è¡Œè‡ªåŠ¨é…ç½®ï¼Œå¦‚ï¼šæ·»åŠ äº†spring-boot-starter-webä¾èµ–ï¼Œä¼šè‡ªåŠ¨æ·»åŠ Tomcatå’ŒSpring MVCçš„ä¾èµ–ï¼ŒSpring Bootä¼šå¯¹Tomcatå’ŒSpring MVCè¿›è¡Œè‡ªåŠ¨é…ç½®ã€‚</em>ï¼‰</p></li><li><p><strong>@ComponentScan</strong>ï¼ˆ<em>@ComponentScanè¿™ä¸ªæ³¨è§£åœ¨Springä¸­å¾ˆé‡è¦ï¼Œå®ƒå¯¹åº”XMLé…ç½®ä¸­çš„å…ƒç´ ï¼Œ@ComponentScançš„åŠŸèƒ½å…¶å®å°±æ˜¯è‡ªåŠ¨æ‰«æå¹¶åŠ è½½ç¬¦åˆæ¡ä»¶çš„ç»„ä»¶ï¼ˆæ¯”å¦‚@Componentå’Œ@Repositoryç­‰ï¼‰æˆ–è€…beanå®šä¹‰ï¼Œæœ€ç»ˆå°†è¿™äº›beanå®šä¹‰åŠ è½½åˆ°IoCå®¹å™¨ä¸­ã€‚</em></p><p>   <em>æˆ‘ä»¬å¯ä»¥é€šè¿‡basePackagesç­‰å±æ€§æ¥ç»†ç²’åº¦çš„å®šåˆ¶@ComponentScanè‡ªåŠ¨æ‰«æçš„èŒƒå›´ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤Springæ¡†æ¶å®ç°ä¼šä»å£°æ˜@ComponentScanæ‰€åœ¨ç±»çš„packageè¿›è¡Œæ‰«æã€‚</em></p><p><em>æ³¨ï¼šæ‰€ä»¥SpringBootçš„å¯åŠ¨ç±»æœ€å¥½æ˜¯æ”¾åœ¨root packageä¸‹ï¼Œå› ä¸ºé»˜è®¤ä¸æŒ‡å®šbasePackagesã€‚</em>ï¼‰</p></li></ul><p>å³ @SpringBootApplication = (é»˜è®¤å±æ€§)@Configuration + @EnableAutoConfiguration + @ComponentScanã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹çš„SpringBootå¯åŠ¨ç±»ï¼Œæ•´ä¸ªSpringBootåº”ç”¨ä¾ç„¶å¯ä»¥ä¸ä¹‹å‰çš„å¯åŠ¨ç±»åŠŸèƒ½å¯¹ç­‰ã€‚</p><h5 id="spring-bootè‡ªåŠ¨è£…é…åŸç†ï¼š"><a href="#spring-bootè‡ªåŠ¨è£…é…åŸç†ï¼š" class="headerlink" title="spring bootè‡ªåŠ¨è£…é…åŸç†ï¼š"></a>spring bootè‡ªåŠ¨è£…é…åŸç†ï¼š</h5><p>ï¼ˆ1ï¼‰å¼•å¯¼ç±»ä¸Šå¼€å¯@EnableAutoConfiguration<br>ï¼ˆ2ï¼‰å†…éƒ¨é€šè¿‡@importæ³¨è§£å¼•å…¥ImporttSelector<br>ï¼ˆ3ï¼‰æŸ¥æ‰¾å·¥ç¨‹jaråŒ…ä¸­META-INF/spring.factoriesæ–‡ä»¶<br>ï¼ˆ4ï¼‰è£…è½½å†…éƒ¨çš„å¯¹è±¡åˆ°å®¹å™¨</p><h5 id="springbootçš„runæ–¹æ³•æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š"><a href="#springbootçš„runæ–¹æ³•æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š" class="headerlink" title="springbootçš„runæ–¹æ³•æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š"></a>springbootçš„runæ–¹æ³•æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</h5><p>1ï¼‰ å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯SpringApplicationçš„é™æ€runæ–¹æ³•ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªæ–¹æ³•é‡Œé¢é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªSpringApplicationå¯¹è±¡å®ä¾‹ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªåˆ›å»ºå¥½çš„SpringApplicationçš„å®ä¾‹æ–¹æ³•ã€‚åœ¨SpringApplicationå®ä¾‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå®ƒä¼šæå‰åšå‡ ä»¶äº‹æƒ…ï¼š<br>æ ¹æ®classpathé‡Œé¢æ˜¯å¦å­˜åœ¨æŸä¸ªç‰¹å¾ç±»ï¼ˆorg.springframework.web.context.ConfigurableWebApplicationContextï¼‰æ¥å†³å®šæ˜¯å¦åº”è¯¥åˆ›å»ºä¸€ä¸ªä¸ºWebåº”ç”¨ä½¿ç”¨çš„ApplicationContextç±»å‹ã€‚<br>ä½¿ç”¨SpringFactoriesLoaderåœ¨åº”ç”¨çš„classpathä¸­æŸ¥æ‰¾å¹¶åŠ è½½æ‰€æœ‰å¯ç”¨çš„ApplicationContextInitializerã€‚<br>ä½¿ç”¨SpringFactoriesLoaderåœ¨åº”ç”¨çš„classpathä¸­æŸ¥æ‰¾å¹¶åŠ è½½æ‰€æœ‰å¯ç”¨çš„ApplicationListenerã€‚</p><p>æ¨æ–­å¹¶è®¾ç½®mainæ–¹æ³•çš„å®šä¹‰ç±»ã€‚</p><p>2ï¼‰ SpringApplicationå®ä¾‹åˆå§‹åŒ–å®Œæˆå¹¶ä¸”å®Œæˆè®¾ç½®åï¼Œå°±å¼€å§‹æ‰§è¡Œrunæ–¹æ³•çš„é€»è¾‘äº†ï¼Œæ–¹æ³•æ‰§è¡Œä¼Šå§‹ï¼Œé¦–å…ˆéå†æ‰§è¡Œæ‰€æœ‰é€šè¿‡SpringFactoriesLoaderå¯ä»¥æŸ¥æ‰¾åˆ°å¹¶åŠ è½½çš„SpringApplicationRunListenerã€‚è°ƒç”¨å®ƒä»¬çš„started()æ–¹æ³•ï¼Œå‘Šè¯‰è¿™äº›SpringApplicationRunListenerï¼Œâ€œå˜¿ï¼ŒSpringBootåº”ç”¨è¦å¼€å§‹æ‰§è¡Œå’¯ï¼â€ã€‚</p><p>3ï¼‰ åˆ›å»ºå¹¶é…ç½®å½“å‰Spring Bootåº”ç”¨å°†è¦ä½¿ç”¨çš„Environmentï¼ˆåŒ…æ‹¬é…ç½®è¦ä½¿ç”¨çš„PropertySourceä»¥åŠProfileï¼‰ã€‚</p><p>4ï¼‰ éå†è°ƒç”¨æ‰€æœ‰SpringApplicationRunListenerçš„environmentPrepared()çš„æ–¹æ³•ï¼Œå‘Šè¯‰ä»–ä»¬ï¼šâ€œå½“å‰SpringBootåº”ç”¨ä½¿ç”¨çš„Environmentå‡†å¤‡å¥½äº†å’¯ï¼â€ã€‚</p><p>5ï¼‰ å¦‚æœSpringApplicationçš„showBannerå±æ€§è¢«è®¾ç½®ä¸ºtrueï¼Œåˆ™æ‰“å°bannerã€‚</p><p>6ï¼‰ æ ¹æ®ç”¨æˆ·æ˜¯å¦æ˜ç¡®è®¾ç½®äº†applicationContextClassç±»å‹ä»¥åŠåˆå§‹åŒ–é˜¶æ®µçš„æ¨æ–­ç»“æœï¼Œå†³å®šè¯¥ä¸ºå½“å‰SpringBootåº”ç”¨åˆ›å»ºä»€ä¹ˆç±»å‹çš„ApplicationContextå¹¶åˆ›å»ºå®Œæˆï¼Œç„¶åæ ¹æ®æ¡ä»¶å†³å®šæ˜¯å¦æ·»åŠ ShutdownHookï¼Œå†³å®šæ˜¯å¦ä½¿ç”¨è‡ªå®šä¹‰çš„BeanNameGeneratorï¼Œå†³å®šæ˜¯å¦ä½¿ç”¨è‡ªå®šä¹‰çš„ResourceLoaderï¼Œå½“ç„¶ï¼Œæœ€é‡è¦çš„ï¼Œå°†ä¹‹å‰å‡†å¤‡å¥½çš„Environmentè®¾ç½®ç»™åˆ›å»ºå¥½çš„ApplicationContextä½¿ç”¨ã€‚</p><p>7ï¼‰ ApplicationContextåˆ›å»ºå¥½ä¹‹åï¼ŒSpringApplicationä¼šå†æ¬¡å€ŸåŠ©Spring-FactoriesLoaderï¼ŒæŸ¥æ‰¾å¹¶åŠ è½½classpathä¸­æ‰€æœ‰å¯ç”¨çš„ApplicationContext-Initializerï¼Œç„¶åéå†è°ƒç”¨è¿™äº›ApplicationContextInitializerçš„initializeï¼ˆapplicationContextï¼‰æ–¹æ³•æ¥å¯¹å·²ç»åˆ›å»ºå¥½çš„ApplicationContextè¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç†ã€‚</p><p>8ï¼‰ éå†è°ƒç”¨æ‰€æœ‰SpringApplicationRunListenerçš„contextPrepared()æ–¹æ³•ã€‚</p><p>9ï¼‰ æœ€æ ¸å¿ƒçš„ä¸€æ­¥ï¼Œå°†ä¹‹å‰é€šè¿‡@EnableAutoConfigurationè·å–çš„æ‰€æœ‰é…ç½®ä»¥åŠå…¶ä»–å½¢å¼çš„IoCå®¹å™¨é…ç½®åŠ è½½åˆ°å·²ç»å‡†å¤‡å®Œæ¯•çš„ApplicationContextã€‚</p><p>10ï¼‰ éå†è°ƒç”¨æ‰€æœ‰SpringApplicationRunListenerçš„contextLoaded()æ–¹æ³•ã€‚</p><p>11ï¼‰ è°ƒç”¨ApplicationContextçš„refresh()æ–¹æ³•ï¼Œå®ŒæˆIoCå®¹å™¨å¯ç”¨çš„æœ€åä¸€é“å·¥åºã€‚</p><p>12ï¼‰ æŸ¥æ‰¾å½“å‰ApplicationContextä¸­æ˜¯å¦æ³¨å†Œæœ‰CommandLineRunnerï¼Œå¦‚æœæœ‰ï¼Œåˆ™éå†æ‰§è¡Œå®ƒä»¬ã€‚</p><p>13ï¼‰ æ­£å¸¸æƒ…å†µä¸‹ï¼Œéå†æ‰§è¡ŒSpringApplicationRunListenerçš„finished()æ–¹æ³•ã€ï¼ˆå¦‚æœæ•´ä¸ªè¿‡ç¨‹å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¾ç„¶è°ƒç”¨æ‰€æœ‰SpringApplicationRunListenerçš„finished()æ–¹æ³•ï¼Œåªä¸è¿‡è¿™ç§æƒ…å†µä¸‹ä¼šå°†å¼‚å¸¸ä¿¡æ¯ä¸€å¹¶ä¼ å…¥å¤„ç†ï¼‰</p><p>å»é™¤äº‹ä»¶é€šçŸ¥ç‚¹åï¼Œæ•´ä¸ªæµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-15-%E6%88%AA%E5%B1%8F2020-09-15%20%E4%B8%8B%E5%8D%881.41.43.png"  alt=""></p><h4 id="å½’çº³"><a href="#å½’çº³" class="headerlink" title="å½’çº³"></a>å½’çº³</h4><p>åœ¨éƒ¨ç½²ç¯å¢ƒä¸­<code>Spring Boot</code> å¯¹æ¯”<code>Spring</code>çš„ä¸€äº›ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p><ul><li>æä¾›åµŒå…¥å¼å®¹å™¨æ”¯æŒ</li><li>ä½¿ç”¨å‘½ä»¤<em>java -jar</em>ç‹¬ç«‹è¿è¡Œjar</li><li>åœ¨å¤–éƒ¨å®¹å™¨ä¸­éƒ¨ç½²æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ’é™¤ä¾èµ–å…³ç³»ä»¥é¿å…æ½œåœ¨çš„jarå†²çª</li><li>éƒ¨ç½²æ—¶çµæ´»æŒ‡å®šé…ç½®æ–‡ä»¶çš„é€‰é¡¹</li><li>ç”¨äºé›†æˆæµ‹è¯•çš„éšæœºç«¯å£ç”Ÿæˆ</li></ul><p>SpringåŒ…å«äº†SpringMVCï¼Œè€ŒSpringBootåˆåŒ…å«äº†Springæˆ–è€…è¯´æ˜¯åœ¨Springçš„åŸºç¡€ä¸Šåšå¾—ä¸€ä¸ªæ‰©å±•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springã€springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°å½• mavené¡¹ç›®æ·»åŠ è‡ªå®šä¹‰jaråŒ…</title>
      <link href="/2019/02/18/maven%E8%87%AA%E5%AE%9A%E4%B9%89jar/"/>
      <url>/2019/02/18/maven%E8%87%AA%E5%AE%9A%E4%B9%89jar/</url>
      
        <content type="html"><![CDATA[<p>mavené¡¹ç›®æ·»åŠ è‡ªå®šä¹‰jaråŒ…<br>1.ç¡®ä¿åœ¨cmdå½“ä¸­å¯ä»¥æ­£ç¡®ä½¿ç”¨mvnå‘½ä»¤ï¼ˆé€šè¿‡mvn -vå¯ä»¥éªŒè¯ï¼‰ï¼Œç„¶åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><p>mvn install:install-file -Dfile=åŒ…è·¯å¾„\xx.jar -DgroupId=com.yangjian.farme(å¯è‡ªå®šä¹‰) -DartifactId=jsper(å¯è‡ªå®šä¹‰) -Dversion=12.1(å¯è‡ªå®šä¹‰ç‰ˆæœ¬å·) -Dpackaging=jar</p><p>è¯´æ˜ï¼š-Dfileå‚æ•°æŒ‡ä½ è‡ªå®šä¹‰JARåŒ…æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œå¹¶ä¾æ¬¡æŒ‡å®šäº†è‡ªå®šä¹‰çš„GroupIdã€ArtifactIdå’ŒVersionä¿¡æ¯ã€‚<br>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç®€å•å¿«é€Ÿåœ°å°†ç¬¬ä¸‰æ–¹JARåŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ä¾›Mavené¡¹ç›®ä¾èµ–ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š<br>2.æ·»åŠ é¡¹ç›®ä¾èµ–å³å¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.yangjian.farme<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">version</span>&gt;</span>12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>idea å»é™¤æ‰€æœ‰æœªå¼•ç”¨çš„åŒ…ï¼ˆå³å¦‚å›¾ï¼šç°è‰²çš„importï¼‰ï¼ˆé™„ï¼šå®˜æ–¹å¸®åŠ©æ–‡æ¡£ï¼‰</title>
      <link href="/2018/07/03/idea%E5%AF%BC%E5%8C%85/"/>
      <url>/2018/07/03/idea%E5%AF%BC%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-055500.png"  alt="">jspä¸­çš„æ— ç”¨åŒ…;<br><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-055525.png"  alt="">ç±»ä¸­çš„æ— ç”¨åŒ…;<br>æ–¹æ³•ä¸€ï¼šåŒ…ä»¥ä¸Šï¼šå‡å¯ä»¥ä¸€å¹¶ã€‚å»æ‰å½“å‰é¡µé¢æˆ–ç±»ä¸‹ç›´æ¥å¿«æ·é”®Ctrl + Alt + O;<br>æ–¹æ³•äºŒï¼šæ¨èè®¾ç½®å¦‚å›¾ï¼Œé…ç½®éšæ—¶è‡ªåŠ¨æ¸…é™¤ï¼Œå‹¾é€‰å¦‚ä¸‹é€‰é¡¹å³å¯<img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-06-02-055543.png"  alt=""><br>æ–¹æ³•ä¸‰ï¼šå®˜æ–¹å¸®åŠ©æ–‡æ¡£ï¼ˆåŸç†åŒä¸Šï¼‰ï¼šå¯ç”¨è°·æ­Œæµè§ˆå™¨ï¼ˆæˆ–å…¶ä»–å¸¦æœ‰è‡ªåŠ¨ç¿»è¯‘åŠŸèƒ½çš„æµè§ˆå™¨ï¼‰æŸ¥çœ‹ï¼Œå¦‚æœä½ è‹±è¯­è¶³å¤Ÿå¥½ï¼Œå¯å¿½ç•¥å‰è¾¹çš„è¯ã€‚<br><a href="https://www.jetbrains.com/help/idea/creating-and-optimizing-imports.html#disable-import-popups" target="_blank" rel="noopener">https://www.jetbrains.com/help/idea/creating-and-optimizing-imports.html#disable-import-popups</a><br>å¯¹åº”ideaç‰ˆæœ¬å¯ç¨å¾®æ³¨æ„ï¼Œå¯èƒ½ç‰ˆæœ¬ä¸åŒç•¥æœ‰å·®å¼‚ã€‚<br>æ³¨æ„ï¼šæ­¤æ–‡æ¡£åŒ…å«äº†ideaä½¿ç”¨çš„è¯´æ˜ï¼Œå¯ä¿å­˜éšæ—¶æŸ¥çœ‹ä¹‹éœ€ã€‚å¸Œæœ›å¸®åˆ°ä½ ~~</p>]]></content>
      
      
      <categories>
          
          <category> idea </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NIOç½‘ç»œç¼–ç¨‹åŸç†</title>
      <link href="/2018/04/28/NIO%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8E%9F%E7%90%86/"/>
      <url>/2018/04/28/NIO%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h1><h2 id="IOï¼šé˜»å¡IO"><a href="#IOï¼šé˜»å¡IO" class="headerlink" title="IOï¼šé˜»å¡IO"></a>IOï¼šé˜»å¡IO</h2><h2 id="BIOï¼šåŒæ­¥é˜»å¡IO"><a href="#BIOï¼šåŒæ­¥é˜»å¡IO" class="headerlink" title="BIOï¼šåŒæ­¥é˜»å¡IO"></a>BIOï¼šåŒæ­¥é˜»å¡IO</h2><p>æœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¿æ¥ä¸€ä¸ªçº¿ç¨‹ï¼Œå³å®¢æˆ·ç«¯æœ‰è¿æ¥è¯·æ±‚æ—¶æœåŠ¡å™¨éœ€è¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œå¦‚æœè¿™ä¸ªé“¾æ¥ä¸åšä»»ä½•äº‹æƒ…ä¼šé€ æˆä¸å¿…è¦çš„çº¿ç¨‹å¼€é”€ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡çº¿ç¨‹æ± æœºåˆ¶æ”¹å–„ã€‚</p><h2 id="NIOï¼šåŒæ­¥éé˜»å¡IO"><a href="#NIOï¼šåŒæ­¥éé˜»å¡IO" class="headerlink" title="NIOï¼šåŒæ­¥éé˜»å¡IO"></a>NIOï¼šåŒæ­¥éé˜»å¡IO</h2><p>æœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå³å®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚éƒ½ä¼šæ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨ä¸Šï¼Œå¤šè·¯å¤ç”¨å™¨è½®è¯¢åˆ°è¿æ¥æœ‰IOè¯·æ±‚æ—¶æ‰å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ã€‚ç”¨æˆ·è¿›ç¨‹ä¹Ÿéœ€è¦æ—¶ä¸æ—¶çš„è¯¢é—®IOæ“ä½œæ˜¯å¦å°±ç»ªï¼Œè¿™éœ€è¦ç”¨æˆ·è¿›è¡Œä¸åœçš„å»è¯¢é—®ã€‚NIOçš„åŒ…æ‹¬ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ:ç¼“å†²åŒº(Buffer)ã€é€šé“(Channel)ã€é€‰æ‹©å™¨(Selector)ã€‚</p><h2 id="AIOï¼šAsynchronous-IOï¼Œå¼‚æ­¥éé˜»å¡AIO"><a href="#AIOï¼šAsynchronous-IOï¼Œå¼‚æ­¥éé˜»å¡AIO" class="headerlink" title="AIOï¼šAsynchronous IOï¼Œå¼‚æ­¥éé˜»å¡AIO"></a>AIOï¼šAsynchronous IOï¼Œå¼‚æ­¥éé˜»å¡AIO</h2><p>æœ€å¤§çš„ç‰¹æ€§æ—¶å…·æœ‰å¼‚æ­¥èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›å¯¹socketä¸æ–‡ä»¶I/Oéƒ½èµ·ä½œç”¨ã€‚AIOå…¶å®æ˜¯ä¸€ç§åœ¨è¯»å†™æ“ä½œç»“æŸä¹‹å‰å…è®¸è¿›è¡Œå…¶ä»–æ“ä½œçš„I/Oå¤„ç†ã€‚</p><h1 id="NIOä¸IOçš„åŒºåˆ«"><a href="#NIOä¸IOçš„åŒºåˆ«" class="headerlink" title="NIOä¸IOçš„åŒºåˆ«"></a>NIOä¸IOçš„åŒºåˆ«</h1><p>ioæ˜¯é¢å‘æµä¸”é˜»å¡çš„ï¼›nioæœ‰é€‰æ‹©å™¨ã€é¢å‘ç¼“å†²åŒºä¸”éé˜»å¡çš„ï¼›</p><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-15-%E6%88%AA%E5%B1%8F2020-09-15%20%E4%B8%8B%E5%8D%884.12.25.png"  alt=""></p><p>å½“nå¤šä¸ªå®¢æˆ·ç«¯æ¥å…¥è¿›æ¥åï¼ŒæœåŠ¡ç«¯éƒ½åœ¨ç­‰å¾…ï¼Œé€ æˆç½‘ç»œç“¶é¢ˆï¼›</p><p><em>é˜»å¡çš„æ„æ€å°±å¦‚ï¼šå»ç½‘ä¸Šä¸‹è½½ä¸€äº›ä¸œè¥¿ï¼Œè°ƒç”¨downloadæ–¹æ³•ï¼Œå¦‚æœæ˜¯é˜»å¡çš„ï¼Œæ•´ä¸ªçº¿ç¨‹éƒ½ä¼šå µåœ¨è¿™ä¸ªdownloadæ–¹æ³•é‡Œï¼Œç›´åˆ°ç»“æŸï¼Œè¿”å›å€¼ï¼ˆè‹¥ç½‘ç»œå»¶è¿Ÿäº”ç§’å°±ä¼šå µåœ¨è¿™äº”ç§’ï¼‰ï¼›è€Œéé˜»å¡ï¼ŒåŒæ ·çš„åœºæ™¯ä¼šç«‹åˆ»è¿”å›æœ‰ç»“æœè¿˜æ˜¯æ— ç»“æœã€‚</em></p><table><thead><tr><th></th><th>åŒæ­¥é˜»å¡IOï¼ˆVIOï¼‰</th><th>éé˜»å¡IOï¼ˆNIOï¼‰</th><th>å¼‚æ­¥IOï¼ˆAIOï¼‰</th></tr></thead><tbody><tr><td>å®¢æˆ·ç«¯ä¸ªæ•°ï¼šIOçº¿ç¨‹</td><td>1:1</td><td>M:1ï¼ˆ1ä¸ªIOçº¿ç¨‹å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼‰</td><td>M:0ï¼ˆä¸éœ€è¦å¯åŠ¨é¢å¤–çš„IOçº¿ç¨‹ï¼Œè¢«åŠ¨å›è°ƒï¼‰</td></tr><tr><td>IOç±»å‹ï¼ˆé˜»å¡ï¼‰</td><td>é˜»å¡</td><td>éé˜»å¡</td><td>éé˜»å¡</td></tr><tr><td>IOç±»å‹ï¼ˆåŒæ­¥ï¼‰</td><td>åŒæ­¥</td><td>åŒæ­¥</td><td>å¼‚æ­¥</td></tr><tr><td>APIä½¿ç”¨éš¾åº¦</td><td>ç®€å•</td><td>ç®€å•</td><td>å¤æ‚</td></tr><tr><td>è°ƒè¯•éš¾åº¦</td><td>ç®€å•</td><td>ç®€å•</td><td>å¤æ‚</td></tr><tr><td>å¯é æ€§</td><td>éå¸¸å·®</td><td>å·®</td><td>é«˜</td></tr><tr><td>ååé‡</td><td>ä½</td><td>ä¸­</td><td>é«˜</td></tr></tbody></table><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-15-%E6%88%AA%E5%B1%8F2020-09-15%20%E4%B8%8B%E5%8D%884.15.26.png"  alt="">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </p><p>bioç½‘ç»œç¼–ç¨‹æ¨¡å‹æ˜¯é˜»å¡å¼ioæ¨¡å‹ï¼›å¼¹æ€§ä¼¸ç¼©èƒ½åŠ›å·®ï¼›å¤šçº¿ç¨‹è€—èµ„æºï¼›è€Œnioæ˜¯éé˜»å¡io;å¼¹æ€§ä¼¸ç¼©èƒ½åŠ›è¾ƒå‰è€…æå‡ï¼›å•çº¿ç¨‹èŠ‚çœèµ„æºã€‚</p><h1 id="NIOæ ¸å¿ƒ"><a href="#NIOæ ¸å¿ƒ" class="headerlink" title="NIOæ ¸å¿ƒ"></a>NIOæ ¸å¿ƒ</h1><p>Channelï¼šé€šé“</p><p>Bufferï¼šç¼“å†²åŒº</p><p>Selector: é€‰æ‹©å™¨ã€å¤šè·¯å¤ç”¨å™¨</p><h2 id="NIOç½‘ç»œç¼–ç¨‹ç¼ºé™·ï¼š"><a href="#NIOç½‘ç»œç¼–ç¨‹ç¼ºé™·ï¼š" class="headerlink" title="NIOç½‘ç»œç¼–ç¨‹ç¼ºé™·ï¼š"></a>NIOç½‘ç»œç¼–ç¨‹ç¼ºé™·ï¼š</h2><p>NIOç±»åº“å’ŒAPIç¹æ‚ï¼›</p><p>å¯é æ€§èƒ½åŠ›è¡¥é½ã€å·¥ä½œé‡å’Œéš¾åº¦å¤§ï¼›</p><p>Selectorç©ºè½®è¯¢ï¼Œcpu100%ï¼›</p><h1 id="NIOç¼–ç¨‹å®ç°æ­¥éª¤"><a href="#NIOç¼–ç¨‹å®ç°æ­¥éª¤" class="headerlink" title="NIOç¼–ç¨‹å®ç°æ­¥éª¤"></a>NIOç¼–ç¨‹å®ç°æ­¥éª¤</h1><p>1.åˆ›å»ºSelector</p><p>2.åˆ›å»ºServerSocketChannel,åˆ›å»ºChannelé€šé“ï¼Œå¹¶ç»‘å®šç›‘å¬ç«¯å£</p><p>3.å°†Channelè®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼</p><p>4.å°†Channelæ³¨å†Œåˆ°selectorä¸Šï¼Œç›‘å¬è¿æ¥äº‹ä»¶</p><p>5.å¾ªç¯è°ƒç”¨Selectorçš„selectæ–¹æ³•ï¼Œæ£€æµ‹å°±ç»ªæƒ…å†µ</p><p>6.è°ƒç”¨selectorKeysæ–¹æ³•ï¼Œè·å–å°±ç»ªchannelé›†åˆ</p><p>7.åˆ¤æ–­å°±ç»ªäº‹ä»¶ç§ç±»ï¼Œè°ƒç”¨ä¸šåŠ¡å¤„ç†æ–¹æ³•</p><p>8.æ ¹æ®ä¸šåŠ¡éœ€è¦å†³å®šæ˜¯å¦å†æ¬¡æ³¨å†Œç›‘å¬äº‹ä»¶ï¼Œé‡å¤æ‰§è¡Œç¬¬3æ­¥æ“ä½œ</p><h1 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h1><p>BIOï¼šé€‚ç”¨äºè¿æ¥æ•°ç›®æ¯”è¾ƒå°ä¸”å›ºå®šçš„æ¶æ„ï¼Œè¿™ç§æ–¹å¼å¯¹æœåŠ¡å™¨èµ„æºè¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼ŒJDK1.4ä¹‹å‰çš„å”¯ä¸€é€‰æ‹©ï¼Œ ä½†æ˜¯ç¨‹åºç®€å•ç›´è§‚å®¹æ˜“ç†è§£ã€‚</p><p>NIOï¼šé€‚ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒçŸ­ï¼ˆè½»æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚èŠæ¨èæœåŠ¡å™¨ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK1.4å¼€å§‹æ”¯æŒã€‚ï¼ˆæ¯”å¦‚ï¼šå®ç°ä¸€ä¸ªå¤šäººèŠå¤©å®¤åŠŸèƒ½ï¼‰</p><p>AIOï¼šé€‚ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒé•¿ï¼ˆé‡æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚ç›¸å†ŒæœåŠ¡å™¨ï¼Œå……åˆ†è°ƒç”¨OSå‚ä¸å¹¶å‘æ“ä½œï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK1.7å¼€å§‹æ”¯æŒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> nio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å·¥ä½œä¸­å¸¸ç”¨dockerå‘½ä»¤</title>
      <link href="/2017/10/01/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E5%B8%B8%E7%94%A8docker%E5%91%BD%E4%BB%A4/"/>
      <url>/2017/10/01/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E5%B8%B8%E7%94%A8docker%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-12-docker01.png"  alt=""></p><h1 id="æŸ¥çœ‹dockeré•œåƒ"><a href="#æŸ¥çœ‹dockeré•œåƒ" class="headerlink" title="æŸ¥çœ‹dockeré•œåƒ"></a>æŸ¥çœ‹dockeré•œåƒ</h1><p>docker images</p><p>æŸ¥çœ‹çš„å†…å®¹åŒ…å«ï¼šé•œåƒåç§°ã€é•œåƒæ ‡ç­¾ã€é•œåƒID</p><h1 id="æŸ¥çœ‹dockerå®¹å™¨è¿è¡Œæƒ…å†µï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„å®¹å™¨ï¼‰"><a href="#æŸ¥çœ‹dockerå®¹å™¨è¿è¡Œæƒ…å†µï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„å®¹å™¨ï¼‰" class="headerlink" title="æŸ¥çœ‹dockerå®¹å™¨è¿è¡Œæƒ…å†µï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„å®¹å™¨ï¼‰"></a>æŸ¥çœ‹dockerå®¹å™¨è¿è¡Œæƒ…å†µï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„å®¹å™¨ï¼‰</h1><p>docker ps -a</p><p>æŸ¥çœ‹çš„å†…å®¹åŒ…å«ï¼šå®¹å™¨IDã€é•œåƒåç§°ã€å®¹å™¨ä¸å®¿ä¸»æœºæ˜ å°„çš„ç«¯å£å·ã€å®¹å™¨çš„åç§°</p><h1 id="å¯åŠ¨docker"><a href="#å¯åŠ¨docker" class="headerlink" title="å¯åŠ¨docker"></a>å¯åŠ¨docker</h1><p>docker start ï¼ˆrestartï¼‰å®¹å™¨åç§°</p><p>æˆ–è€… docker start å®¹å™¨id;</p><p><strong>docker run ï¼š</strong>åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</p><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br></pre></td></tr></table></figure><p>OPTIONSè¯´æ˜ï¼š</p><ul><li><p><strong>-a stdin:</strong> æŒ‡å®šæ ‡å‡†è¾“å…¥è¾“å‡ºå†…å®¹ç±»å‹ï¼Œå¯é€‰ STDIN/STDOUT/STDERR ä¸‰é¡¹ï¼›</p></li><li><p><strong>-d:</strong> åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›</p></li><li><p><strong>-i:</strong> ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›</p></li><li><p><strong>-P:</strong> éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…éƒ¨ç«¯å£<strong>éšæœº</strong>æ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£</p></li><li><p><strong>-p:</strong> æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼š<strong>ä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£</strong></p></li><li><p><strong>-t:</strong> ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›</p></li><li><p><strong>â€“name=â€nginx-lbâ€:</strong> ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›</p></li><li><p><strong>â€“dns 8.8.8.8:</strong> æŒ‡å®šå®¹å™¨ä½¿ç”¨çš„DNSæœåŠ¡å™¨ï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼›</p></li><li><p><strong>â€“dns-search example.com:</strong> æŒ‡å®šå®¹å™¨DNSæœç´¢åŸŸåï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼›</p></li><li><p><strong>-h â€œmarsâ€:</strong> æŒ‡å®šå®¹å™¨çš„hostnameï¼›</p></li><li><p><strong>-e username=â€ritchieâ€:</strong> è®¾ç½®ç¯å¢ƒå˜é‡ï¼›</p></li><li><p><strong>â€“env-file=[]:</strong> ä»æŒ‡å®šæ–‡ä»¶è¯»å…¥ç¯å¢ƒå˜é‡ï¼›</p></li><li><p><strong>â€“cpuset=â€0-2â€ or â€“cpuset=â€0,1,2â€:</strong> ç»‘å®šå®¹å™¨åˆ°æŒ‡å®šCPUè¿è¡Œï¼›</p></li><li><p><strong>-m :</strong>è®¾ç½®å®¹å™¨ä½¿ç”¨å†…å­˜æœ€å¤§å€¼ï¼›</p></li><li><p><strong>â€“net=â€bridgeâ€:</strong> æŒ‡å®šå®¹å™¨çš„ç½‘ç»œè¿æ¥ç±»å‹ï¼Œæ”¯æŒ bridge/host/none/container: å››ç§ç±»å‹ï¼›</p></li><li><p><strong>â€“link=[]:</strong> æ·»åŠ é“¾æ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨ï¼›</p></li><li><p><strong>â€“expose=[]:</strong> å¼€æ”¾ä¸€ä¸ªç«¯å£æˆ–ä¸€ç»„ç«¯å£ï¼›</p></li><li><p><strong>â€“volume , -v:</strong> ç»‘å®šä¸€ä¸ªå·</p></li><li><p># docker run -it -v /test:/soft centos /bin/bash</p><p>è¿™æ ·åœ¨å®¹å™¨å¯åŠ¨åï¼Œå®¹å™¨å†…ä¼šè‡ªåŠ¨åˆ›å»º/softçš„ç›®å½•ã€‚-vå‚æ•°ä¸­ï¼Œå†’å·â€:â€å‰é¢çš„ç›®å½•æ˜¯å®¿ä¸»æœºç›®å½•ï¼Œåé¢çš„ç›®å½•æ˜¯å®¹å™¨å†…ç›®å½•(ä¸€èˆ¬å°†é…ç½®å¦‚nginxã€mysqlçš„é…ç½®æ–‡ä»¶æˆ–æ•°æ®ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºç›®å½•ä¸‹)ã€‚</p></li></ul><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p>ä½¿ç”¨dockeré•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨å‘½åä¸ºmynginxã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mynginx -d nginx:latest</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºéšæœºç«¯å£ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -P -d nginx:latest</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é•œåƒ nginx:latestï¼Œä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å°†å®¹å™¨çš„ 80 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 80 ç«¯å£,ä¸»æœºçš„ç›®å½• /data æ˜ å°„åˆ°å®¹å™¨çš„ /dataã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 80:80 -v &#x2F;data:&#x2F;data -d nginx:latest</span><br></pre></td></tr></table></figure><p>ç»‘å®šå®¹å™¨çš„ 8080 ç«¯å£ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°æœ¬åœ°ä¸»æœº 127.0.0.1 çš„ 80 ç«¯å£ä¸Šã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -p 127.0.0.1:80:8080&#x2F;tcp ubuntu bash</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é•œåƒnginx:latestä»¥äº¤äº’æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,åœ¨å®¹å™¨å†…æ‰§è¡Œ/bin/bashå‘½ä»¤ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker run -it nginx:latest &#x2F;bin&#x2F;bash</span><br><span class="line">root@b8573233d675:&#x2F;#</span><br></pre></td></tr></table></figure><h1 id="åœæ­¢docker"><a href="#åœæ­¢docker" class="headerlink" title="åœæ­¢docker"></a>åœæ­¢docker</h1><p>docker stop å®¹å™¨åç§°æˆ–è€… docker stop å®¹å™¨idï¼ˆå‰å‡ ä½ä¹Ÿå¯ä»¥ï¼‰</p><h1 id="è¿›å…¥dockerå®¹å™¨"><a href="#è¿›å…¥dockerå®¹å™¨" class="headerlink" title="è¿›å…¥dockerå®¹å™¨"></a>è¿›å…¥dockerå®¹å™¨</h1><p>docker attach å®¹å™¨ID</p><p>docker exec -it å®¹å™¨ID /bin/bash </p><h1 id="é€€å‡ºå®¹å™¨åˆ°å®¿ä¸»æœº"><a href="#é€€å‡ºå®¹å™¨åˆ°å®¿ä¸»æœº" class="headerlink" title="é€€å‡ºå®¹å™¨åˆ°å®¿ä¸»æœº"></a>é€€å‡ºå®¹å™¨åˆ°å®¿ä¸»æœº</h1><p>exitæˆ–Ctrl+P+Q</p><h1 id="docker-cp-ç”¨äºå®¹å™¨ä¸ä¸»æœºä¹‹é—´çš„æ•°æ®æ‹·è´ã€‚"><a href="#docker-cp-ç”¨äºå®¹å™¨ä¸ä¸»æœºä¹‹é—´çš„æ•°æ®æ‹·è´ã€‚" class="headerlink" title="docker cp :**ç”¨äºå®¹å™¨ä¸ä¸»æœºä¹‹é—´çš„æ•°æ®æ‹·è´ã€‚"></a>docker cp :**ç”¨äºå®¹å™¨ä¸ä¸»æœºä¹‹é—´çš„æ•°æ®æ‹·è´ã€‚</h1><h3 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-</span><br><span class="line">docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH</span><br></pre></td></tr></table></figure><p>OPTIONSè¯´æ˜ï¼š</p><ul><li><strong>-L :</strong>ä¿æŒæºç›®æ ‡ä¸­çš„é“¾æ¥</li></ul><h3 id="å®ä¾‹-1"><a href="#å®ä¾‹-1" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p>å°†ä¸»æœº/www/runoobç›®å½•æ‹·è´åˆ°å®¹å™¨96f7f14e99abçš„/wwwç›®å½•ä¸‹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp &#x2F;www&#x2F;runoob 96f7f14e99ab:&#x2F;www&#x2F;</span><br></pre></td></tr></table></figure><p>å°†ä¸»æœº/www/runoobç›®å½•æ‹·è´åˆ°å®¹å™¨96f7f14e99abä¸­ï¼Œç›®å½•é‡å‘½åä¸ºwwwã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp &#x2F;www&#x2F;runoob 96f7f14e99ab:&#x2F;www</span><br></pre></td></tr></table></figure><p>å°†å®¹å™¨96f7f14e99abçš„/wwwç›®å½•æ‹·è´åˆ°ä¸»æœºçš„/tmpç›®å½•ä¸­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp  96f7f14e99ab:&#x2F;www &#x2F;tmp&#x2F;</span><br></pre></td></tr></table></figure><h1 id="å®æ—¶æŸ¥çœ‹dockerå®¹å™¨æ—¥å¿—"><a href="#å®æ—¶æŸ¥çœ‹dockerå®¹å™¨æ—¥å¿—" class="headerlink" title="å®æ—¶æŸ¥çœ‹dockerå®¹å™¨æ—¥å¿—"></a>å®æ—¶æŸ¥çœ‹dockerå®¹å™¨æ—¥å¿—</h1><p>$ sudo docker logs -f -t â€“tail è¡Œæ•° å®¹å™¨åï¼ˆæˆ–å®¹å™¨IDï¼‰</p><p>ä¾‹ï¼šå®æ—¶æŸ¥çœ‹dockerå®¹å™¨åä¸ºmysqlçš„æœ€å10è¡Œæ—¥å¿—</p><p>$ sudo docker logs -f -t â€“tail 10 mysql</p><h1 id="æ—¶åŒºé—®é¢˜ï¼ˆä¹‹å‰å¼€å‘é‡åˆ°è¿‡çš„ä¸€ä¸ªå°é—®é¢˜ï¼‰"><a href="#æ—¶åŒºé—®é¢˜ï¼ˆä¹‹å‰å¼€å‘é‡åˆ°è¿‡çš„ä¸€ä¸ªå°é—®é¢˜ï¼‰" class="headerlink" title="æ—¶åŒºé—®é¢˜ï¼ˆä¹‹å‰å¼€å‘é‡åˆ°è¿‡çš„ä¸€ä¸ªå°é—®é¢˜ï¼‰"></a>æ—¶åŒºé—®é¢˜ï¼ˆä¹‹å‰å¼€å‘é‡åˆ°è¿‡çš„ä¸€ä¸ªå°é—®é¢˜ï¼‰</h1><p>æ³¨æ„ï¼šæ•°æ®åº“æ—¶åŒºã€dockerå®¹å™¨æ—¶åŒºï¼ˆåˆ›å»ºå®¹å™¨æ—¶å’Œå®¹å™¨runæ—¶éƒ½å¯ä»¥æŒ‡å®šï¼‰ã€æœåŠ¡å™¨æ—¶åŒºã€è¿˜æœ‰æ—¶é—´æ ¼å¼åŒ–æ³¨è§£æ—¶åŒºï¼Œå¦‚æœåå°è¿”å›ç»™å‰ç«¯ç”¨äº†@JsonFormat(pattern = â€œyyyy-MM-dd HH:mm:ssâ€,timezone=â€GMT+8â€) æ³¨æ„timezoneï¼›å®ƒä»¬çš„ä¸€è‡´æ€§ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaè™šæ‹Ÿæœº</title>
      <link href="/2016/05/06/Java%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
      <url>/2016/05/06/Java%E8%99%9A%E6%8B%9F%E6%9C%BA/</url>
      
        <content type="html"><![CDATA[<p>æ¨èé˜…è¯»ï¼š<img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-13-%E6%88%AA%E5%B1%8F2020-09-13%20%E4%B8%8B%E5%8D%883.51.28.png"  alt="">)<a href="https://cdn.shieldofzues.cn/2020-09-13-æ·±å…¥ç†è§£jvmè™šæ‹Ÿæœº.pdf" target="_blank" rel="noopener">ç‚¹æˆ‘:æ·±å…¥ç†è§£jvmè™šæ‹Ÿæœº.pdf</a></p><h1 id="ä»€ä¹ˆæ˜¯jvmï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯jvmï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯jvmï¼Ÿ"></a>ä»€ä¹ˆæ˜¯jvmï¼Ÿ</h1><p>Java<a href="https://baike.baidu.com/item/è™šæ‹Ÿæœº" target="_blank" rel="noopener">è™šæ‹Ÿæœº</a>ï¼ˆJava Virtual Machine ç®€ç§°JVMï¼‰æ˜¯è¿è¡Œæ‰€æœ‰Javaç¨‹åºçš„æŠ½è±¡è®¡ç®—æœºï¼Œæ˜¯<a href="https://baike.baidu.com/item/Javaè¯­è¨€" target="_blank" rel="noopener">Javaè¯­è¨€</a>çš„è¿è¡Œç¯å¢ƒï¼Œå®ƒæ˜¯Java æœ€å…·å¸å¼•åŠ›çš„ç‰¹æ€§ä¹‹ä¸€ã€‚â€”ç™¾åº¦ç™¾ç§‘</p><h1 id="Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸"><a href="#Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸" class="headerlink" title="Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸"></a>Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸</h1><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://cdn.shieldofzues.cn/2020-09-15-aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvZGE3N2Q5MDE0Njc4NmMwY2IzZTE3MGI5YzkzNzZhZTQ_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ.webp"  alt=""></p><p>2.1.1 ç¨‹åºè®¡æ•°å™¨</p><blockquote><p>å†…å­˜ç©ºé—´å°ï¼Œçº¿ç¨‹ç§æœ‰ã€‚å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ˜¯å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡ŒæŒ‡ä»¤çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŸºç¡€åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è®¡æ•°å™¨å®Œæˆ</p></blockquote><p>å¦‚æœçº¿ç¨‹æ­£åœ¨æ‰§è¡Œä¸€ä¸ª Java æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨è®°å½•çš„æ˜¯æ­£åœ¨æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼›å¦‚æœæ­£åœ¨æ‰§è¡Œçš„æ˜¯ Native æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨çš„å€¼åˆ™ä¸º (Undefined)ã€‚æ­¤å†…å­˜åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ Java è™šæ‹Ÿæœºè§„èŒƒä¸­æ²¡æœ‰è§„å®šä»»ä½• OutOfMemoryError æƒ…å†µçš„åŒºåŸŸã€‚</p><p>2.1.2 Java è™šæ‹Ÿæœºæ ˆ</p><blockquote><p>çº¿ç¨‹ç§æœ‰ï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹ä¸€è‡´ã€‚æè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼šæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œæ—¶éƒ½ä¼šåºŠåˆ›å»ºä¸€ä¸ªæ ˆå¸§(Stack Frame)ç”¨äºå­˜å‚¨<code>å±€éƒ¨å˜é‡è¡¨</code>ã€<code>æ“ä½œæ•°æ ˆ</code>ã€<code>åŠ¨æ€é“¾æ¥</code>ã€<code>æ–¹æ³•å‡ºå£</code>ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ–¹æ³•ä»è°ƒç”¨ç›´è‡³æ‰§è¡Œç»“æŸï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§ä»è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚</p></blockquote><p>å±€éƒ¨å˜é‡è¡¨ï¼šå­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§åŸºæœ¬ç±»å‹(booleanã€byteã€charã€shortã€intã€floatã€longã€double)ã€å¯¹è±¡å¼•ç”¨(reference ç±»å‹)å’Œ returnAddress ç±»å‹(æŒ‡å‘äº†ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€)</p><p>StackOverflowErrorï¼šçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦ã€‚<br>OutOfMemoryErrorï¼šå¦‚æœè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œè€Œæ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ã€‚</p><p>2.1.3 æœ¬åœ°æ–¹æ³•æ ˆ</p><blockquote><p>åŒºåˆ«äº Java è™šæ‹Ÿæœºæ ˆçš„æ˜¯ï¼ŒJava è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡Œ Java æ–¹æ³•(ä¹Ÿå°±æ˜¯å­—èŠ‚ç )æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„ Native æ–¹æ³•æœåŠ¡ã€‚ä¹Ÿä¼šæœ‰ StackOverflowError å’Œ OutOfMemoryError å¼‚å¸¸ã€‚</p></blockquote><p>2.1.4 Java å †</p><blockquote><p>å¯¹äºç»å¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼Œè¿™å—åŒºåŸŸæ˜¯ JVM æ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ã€‚çº¿ç¨‹å…±äº«ï¼Œä¸»è¦æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹å’Œæ•°ç»„ã€‚å†…éƒ¨ä¼šåˆ’åˆ†å‡ºå¤šä¸ªçº¿ç¨‹ç§æœ‰çš„åˆ†é…ç¼“å†²åŒº(Thread Local Allocation Buffer, TLAB)ã€‚å¯ä»¥ä½äºç‰©ç†ä¸Šä¸è¿ç»­çš„ç©ºé—´ï¼Œä½†æ˜¯é€»è¾‘ä¸Šè¦è¿ç»­ã€‚</p></blockquote><p>OutOfMemoryErrorï¼šå¦‚æœå †ä¸­æ²¡æœ‰å†…å­˜å®Œæˆå®ä¾‹åˆ†é…ï¼Œå¹¶ä¸”å †ä¹Ÿæ— æ³•å†æ‰©å±•æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</p><p>2.1.5 æ–¹æ³•åŒº</p><blockquote><p>å±äºå…±äº«å†…å­˜åŒºåŸŸï¼Œå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚</p></blockquote><p>2.1.6 è¿è¡Œæ—¶å¸¸é‡æ± </p><blockquote><p>å±äºæ–¹æ³•åŒºä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚ç¼–è¯‘å™¨å’Œè¿è¡ŒæœŸ(String çš„ intern() )éƒ½å¯ä»¥å°†å¸¸é‡æ”¾å…¥æ± ä¸­ã€‚å†…å­˜æœ‰é™ï¼Œæ— æ³•ç”³è¯·æ—¶æŠ›å‡º OutOfMemoryErrorã€‚</p></blockquote><p>2.1.7 ç›´æ¥å†…å­˜</p><blockquote><p>éè™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„éƒ¨åˆ†</p></blockquote><p>åœ¨ JDK 1.4 ä¸­æ–°åŠ å…¥ <a href="">NIO</a> (New Input/Output) ç±»ï¼Œå¼•å…¥äº†ä¸€ç§åŸºäºé€šé“(Channel)å’Œç¼“å­˜(Buffer)çš„ I/O æ–¹å¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ Native å‡½æ•°åº“ç›´æ¥åˆ†é…å †å¤–å†…å­˜ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå­˜å‚¨åœ¨ Java å †ä¸­çš„ DirectByteBuffer å¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨è¿›è¡Œæ“ä½œã€‚å¯ä»¥é¿å…åœ¨ Java å †å’Œ Native å †ä¸­æ¥å›çš„æ•°æ®è€—æ—¶æ“ä½œã€‚<br>OutOfMemoryErrorï¼šä¼šå—åˆ°æœ¬æœºå†…å­˜é™åˆ¶ï¼Œå¦‚æœå†…å­˜åŒºåŸŸæ€»å’Œå¤§äºç‰©ç†å†…å­˜é™åˆ¶ä»è€Œå¯¼è‡´åŠ¨æ€æ‰©å±•æ—¶å‡ºç°è¯¥å¼‚å¸¸ã€‚</p><h1 id="hotspotè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜ï¼ˆå¯¹è±¡çš„åˆ›å»ºã€å†…å­˜å¸ƒå±€ã€åŠè®¿é—®å®šä½ï¼‰"><a href="#hotspotè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜ï¼ˆå¯¹è±¡çš„åˆ›å»ºã€å†…å­˜å¸ƒå±€ã€åŠè®¿é—®å®šä½ï¼‰" class="headerlink" title="hotspotè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜ï¼ˆå¯¹è±¡çš„åˆ›å»ºã€å†…å­˜å¸ƒå±€ã€åŠè®¿é—®å®šä½ï¼‰"></a>hotspotè™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜ï¼ˆå¯¹è±¡çš„åˆ›å»ºã€å†…å­˜å¸ƒå±€ã€åŠè®¿é—®å®šä½ï¼‰</h1><p>é€šè¿‡ä»¥ä¸Šjavaè™šæ‹Ÿæœºçš„è¿è¡Œæ—¶æ•°æ®åŒºçš„å­¦ä¹ åï¼Œæˆ‘ä»¬äº†è§£äº†è™šæ‹Ÿæœºå†…å­˜æ¦‚å†µåŠéƒ½å­˜äº†äº›ä»€ä¹ˆä¸œè¥¿ã€‚é‚£å¯¹è±¡åˆ°åº•æ˜¯æ€æ ·åˆ›å»ºå¹¶ä½¿ç”¨çš„å‘¢ï¼Ÿ</p><h2 id="å¯¹è±¡çš„åˆ›å»º"><a href="#å¯¹è±¡çš„åˆ›å»º" class="headerlink" title="å¯¹è±¡çš„åˆ›å»º"></a>å¯¹è±¡çš„åˆ›å»º</h2><p>ã€Šæ·±å…¥ç†è§£jvmè™šæ‹Ÿæœºã€‹ç¬¬44é¡µ</p><p>é€šè¿‡ new æŒ‡ä»¤åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œé¦–å…ˆæ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²ç»è¢«åŠ è½½ã€è§£æå’Œåˆå§‹åŒ–è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½ã€‚</p><p>ç±»åŠ è½½æ£€æŸ¥é€šè¿‡ä¹‹åï¼Œä¸ºæ–°å¯¹è±¡åˆ†é…å†…å­˜(å†…å­˜å¤§å°åœ¨ç±»åŠ è½½å®Œæˆåä¾¿å¯ç¡®è®¤)ã€‚åœ¨å †çš„ç©ºé—²å†…å­˜ä¸­åˆ’åˆ†ä¸€å—åŒºåŸŸ(â€˜æŒ‡é’ˆç¢°æ’-å†…å­˜è§„æ•´â€™æˆ–â€˜ç©ºé—²åˆ—è¡¨-å†…å­˜äº¤é”™â€™çš„åˆ†é…æ–¹å¼)ã€‚</p><p>å‰é¢è®²çš„æ¯ä¸ªçº¿ç¨‹åœ¨å †ä¸­éƒ½ä¼šæœ‰ç§æœ‰çš„åˆ†é…ç¼“å†²åŒº(TLAB)ï¼Œè¿™æ ·å¯ä»¥å¾ˆå¤§ç¨‹åº¦é¿å…åœ¨å¹¶å‘æƒ…å†µä¸‹é¢‘ç¹åˆ›å»ºå¯¹è±¡é€ æˆçš„çº¿ç¨‹ä¸å®‰å…¨ã€‚</p><p>å†…å­˜ç©ºé—´åˆ†é…å®Œæˆåä¼šåˆå§‹åŒ–ä¸º 0(ä¸åŒ…æ‹¬å¯¹è±¡å¤´)ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¡«å……å¯¹è±¡å¤´ï¼ŒæŠŠå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€å¦‚ä½•æ‰èƒ½æ‰¾åˆ°ç±»çš„å…ƒæ•°æ®ä¿¡æ¯ã€å¯¹è±¡çš„å“ˆå¸Œç ã€å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯å­˜å…¥å¯¹è±¡å¤´ã€‚</p><p>æ‰§è¡Œ new æŒ‡ä»¤åæ‰§è¡Œ init æ–¹æ³•åæ‰ç®—ä¸€ä»½çœŸæ­£å¯ç”¨çš„å¯¹è±¡åˆ›å»ºå®Œæˆã€‚</p><h2 id="å¯¹è±¡çš„å†…å­˜å¸ƒå±€"><a href="#å¯¹è±¡çš„å†…å­˜å¸ƒå±€" class="headerlink" title="å¯¹è±¡çš„å†…å­˜å¸ƒå±€"></a>å¯¹è±¡çš„å†…å­˜å¸ƒå±€</h2><blockquote><p>åœ¨ HotSpot è™šæ‹Ÿæœºä¸­ï¼Œåˆ†ä¸º 3 å—åŒºåŸŸï¼š<code>å¯¹è±¡å¤´(Header)</code>ã€<code>å®ä¾‹æ•°æ®(Instance Data)</code>å’Œ<code>å¯¹é½å¡«å……(Padding)</code></p></blockquote><p><code>å¯¹è±¡å¤´(Header)</code>ï¼šåŒ…å«ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†ç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚å“ˆå¸Œç ã€GC åˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€çº¿ç¨‹æŒæœ‰çš„é”ã€åå‘çº¿ç¨‹ IDã€åå‘æ—¶é—´æˆ³ç­‰ï¼Œ32 ä½è™šæ‹Ÿæœºå  32 bitï¼Œ64 ä½è™šæ‹Ÿæœºå  64 bitã€‚å®˜æ–¹ç§°ä¸º â€˜Mark Wordâ€™ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯ç±»å‹æŒ‡é’ˆï¼Œå³å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»çš„å…ƒæ•°æ®æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€‚å¦å¤–ï¼Œå¦‚æœæ˜¯ Java æ•°ç»„ï¼Œå¯¹è±¡å¤´ä¸­è¿˜å¿…é¡»æœ‰ä¸€å—ç”¨äºè®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ï¼Œå› ä¸ºæ™®é€šå¯¹è±¡å¯ä»¥é€šè¿‡ Java å¯¹è±¡å…ƒæ•°æ®ç¡®å®šå¤§å°ï¼Œè€Œæ•°ç»„å¯¹è±¡ä¸å¯ä»¥ã€‚</p><p><code>å®ä¾‹æ•°æ®(Instance Data)</code>ï¼šç¨‹åºä»£ç ä¸­æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µå†…å®¹(åŒ…å«çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„å’Œå­ç±»ä¸­å®šä¹‰çš„)ã€‚</p><p><code>å¯¹é½å¡«å……(Padding)</code>ï¼šä¸æ˜¯å¿…ç„¶éœ€è¦ï¼Œä¸»è¦æ˜¯å ä½ï¼Œä¿è¯å¯¹è±¡å¤§å°æ˜¯æŸä¸ªå­—èŠ‚çš„æ•´æ•°å€ã€‚</p><h2 id="å¯¹è±¡çš„è®¿é—®å®šä½"><a href="#å¯¹è±¡çš„è®¿é—®å®šä½" class="headerlink" title="å¯¹è±¡çš„è®¿é—®å®šä½"></a>å¯¹è±¡çš„è®¿é—®å®šä½</h2><blockquote><p>ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œé€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡ã€‚</p></blockquote><p>é€šè¿‡å¥æŸ„è®¿é—®</p><blockquote><p>Java å †ä¸­ä¼šåˆ†é…ä¸€å—å†…å­˜ä½œä¸ºå¥æŸ„æ± ã€‚reference å­˜å‚¨çš„æ˜¯å¥æŸ„åœ°å€ã€‚è¯¦æƒ…è§å›¾ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvZWJmMDBlZDI2YzM1YWVmZDkzZDVhM2EzNmIzYjE2MTM_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>ä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®</p><blockquote><p>reference ä¸­ç›´æ¥å­˜å‚¨å¯¹è±¡åœ°å€</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvZGU2OTI0YjZlOWQ1NzYxMDViYTI0NzAwZjFmMzU3ZjQ_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>æ¯”è¾ƒï¼šä½¿ç”¨å¥æŸ„çš„æœ€å¤§å¥½å¤„æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ç¨³å®šçš„å¥æŸ„åœ°å€ï¼Œåœ¨å¯¹è±¡ç§»åŠ¨(GC)æ˜¯åªæ”¹å˜å®ä¾‹æ•°æ®æŒ‡é’ˆåœ°å€ï¼Œreference è‡ªèº«ä¸éœ€è¦ä¿®æ”¹ã€‚ç›´æ¥æŒ‡é’ˆè®¿é—®çš„æœ€å¤§å¥½å¤„æ˜¯é€Ÿåº¦å¿«ï¼ŒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ã€‚å¦‚æœæ˜¯å¯¹è±¡é¢‘ç¹ GC é‚£ä¹ˆå¥æŸ„æ–¹æ³•å¥½ï¼Œå¦‚æœæ˜¯å¯¹è±¡é¢‘ç¹è®¿é—®åˆ™ç›´æ¥æŒ‡é’ˆè®¿é—®å¥½ã€‚</p><h1 id="å®æˆ˜ï¼šOutOfMemoryError-å†…å­˜æº¢å‡º-çš„ä¸‰ç§æƒ…å†µåŠè§£å†³åŠæ³•"><a href="#å®æˆ˜ï¼šOutOfMemoryError-å†…å­˜æº¢å‡º-çš„ä¸‰ç§æƒ…å†µåŠè§£å†³åŠæ³•" class="headerlink" title="å®æˆ˜ï¼šOutOfMemoryError(å†…å­˜æº¢å‡º)çš„ä¸‰ç§æƒ…å†µåŠè§£å†³åŠæ³•"></a>å®æˆ˜ï¼šOutOfMemoryError(å†…å­˜æº¢å‡º)çš„ä¸‰ç§æƒ…å†µåŠè§£å†³åŠæ³•</h1><p> jvmç®¡ç†çš„å†…å­˜å¤§è‡´åŒ…æ‹¬ä¸‰ç§ä¸åŒç±»å‹çš„å†…å­˜åŒºåŸŸï¼šPermanent Generation spaceï¼ˆæ°¸ä¹…ä¿å­˜åŒºåŸŸï¼‰ã€Heap space(å †åŒºåŸŸ)ã€Java Stacks(Javaæ ˆï¼‰ã€‚å…¶ä¸­æ°¸ä¹…ä¿å­˜åŒºåŸŸä¸»è¦å­˜æ”¾Classï¼ˆç±»ï¼‰å’ŒMetaçš„ä¿¡æ¯ï¼ŒClassç¬¬ä¸€æ¬¡è¢«Loadçš„æ—¶å€™è¢«æ”¾å…¥PermGen spaceåŒºåŸŸï¼ŒClasséœ€è¦å­˜å‚¨çš„å†…å®¹ä¸»è¦åŒ…æ‹¬æ–¹æ³•å’Œé™æ€å±æ€§ã€‚å †åŒºåŸŸç”¨æ¥å­˜æ”¾Classçš„å®ä¾‹ï¼ˆå³å¯¹è±¡ï¼‰ï¼Œå¯¹è±¡éœ€è¦å­˜å‚¨çš„å†…å®¹ä¸»è¦æ˜¯éé™æ€å±æ€§ã€‚æ¯æ¬¡ç”¨newåˆ›å»ºä¸€ä¸ªå¯¹è±¡å®ä¾‹åï¼Œå¯¹è±¡å®ä¾‹å­˜å‚¨åœ¨å †åŒºåŸŸä¸­ï¼Œè¿™éƒ¨åˆ†ç©ºé—´ä¹Ÿè¢«jvmçš„åƒåœ¾å›æ”¶æœºåˆ¶ç®¡ç†ã€‚è€ŒJavaæ ˆè·Ÿå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€åŒ…æ‹¬æ±‡ç¼–è¯­è¨€çš„æ ˆåŠŸèƒ½ç›¸ä¼¼ï¼Œä¸»è¦åŸºæœ¬ç±»å‹å˜é‡ä»¥åŠæ–¹æ³•çš„è¾“å…¥è¾“å‡ºå‚æ•°ã€‚Javaç¨‹åºçš„æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å †æ ˆã€‚å®¹æ˜“å‘ç”Ÿå†…å­˜æº¢å‡ºé—®é¢˜çš„å†…å­˜ç©ºé—´åŒ…æ‹¬ï¼šPermanent Generation spaceå’ŒHeap spaceã€‚</p><p>ç¬¬ä¸€ç§OutOfMemoryErrorï¼š PermGen space<br>å‘ç”Ÿè¿™ç§é—®é¢˜çš„åŸæ„æ˜¯ç¨‹åºä¸­ä½¿ç”¨äº†å¤§é‡çš„jaræˆ–classï¼Œä½¿javaè™šæ‹Ÿæœºè£…è½½ç±»çš„ç©ºé—´ä¸å¤Ÿï¼Œä¸Permanent Generation spaceæœ‰å…³ã€‚è§£å†³è¿™ç±»é—®é¢˜æœ‰ä»¥ä¸‹ä¸¤ç§åŠæ³•ï¼š<br>\1. å¢åŠ javaè™šæ‹Ÿæœºä¸­çš„XX:PermSizeå’ŒXX:MaxPermSizeå‚æ•°çš„å¤§å°ï¼Œå…¶ä¸­XX:PermSizeæ˜¯åˆå§‹æ°¸ä¹…ä¿å­˜åŒºåŸŸå¤§å°ï¼ŒXX:MaxPermSizeæ˜¯æœ€å¤§æ°¸ä¹…ä¿å­˜åŒºåŸŸå¤§å°ã€‚å¦‚é’ˆå¯¹tomcat6.0ï¼Œåœ¨catalina.sh æˆ–catalina.batæ–‡ä»¶ä¸­ä¸€ç³»åˆ—ç¯å¢ƒå˜é‡åè¯´æ˜ç»“æŸå¤„ï¼ˆå¤§çº¦åœ¨70è¡Œå·¦å³ï¼‰ å¢åŠ ä¸€è¡Œï¼š<br>JAVA_OPTS=â€ -XX:PermSize=64M -XX:MaxPermSize=128mâ€<br>å¦‚æœæ˜¯windowsæœåŠ¡å™¨è¿˜å¯ä»¥åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®ã€‚æ„Ÿè§‰ç”¨tomcatå‘å¸ƒsprint+struts+hibernateæ¶æ„çš„ç¨‹åºæ—¶å¾ˆå®¹æ˜“å‘ç”Ÿè¿™ç§å†…å­˜æº¢å‡ºé”™è¯¯ã€‚ä½¿ç”¨ä¸Šè¿°æ–¹æ³•ï¼Œæˆ‘æˆåŠŸè§£å†³äº†éƒ¨ç½²sshé¡¹ç›®çš„tomcatæœåŠ¡å™¨ç»å¸¸å®•æœºçš„é—®é¢˜ã€‚<br>\2. æ¸…ç†åº”ç”¨ç¨‹åºä¸­web-inf/libä¸‹çš„jarï¼Œå¦‚æœtomcatéƒ¨ç½²äº†å¤šä¸ªåº”ç”¨ï¼Œå¾ˆå¤šåº”ç”¨éƒ½ä½¿ç”¨äº†ç›¸åŒçš„jarï¼Œå¯ä»¥å°†å…±åŒçš„jarç§»åˆ°tomcatå…±åŒçš„libä¸‹ï¼Œå‡å°‘ç±»çš„é‡å¤åŠ è½½ã€‚è¿™ç§æ–¹æ³•æ˜¯ç½‘ä¸Šéƒ¨åˆ†äººæ¨èçš„ï¼Œæˆ‘æ²¡è¯•è¿‡ï¼Œä½†æ„Ÿè§‰å‡å°‘ä¸äº†å¤ªå¤§çš„ç©ºé—´ï¼Œæœ€é è°±çš„è¿˜æ˜¯ç¬¬ä¸€ç§æ–¹æ³•ã€‚</p><p>ç¬¬äºŒç§OutOfMemoryErrorï¼š  Java heap space<br>å‘ç”Ÿè¿™ç§é—®é¢˜çš„åŸå› æ˜¯javaè™šæ‹Ÿæœºåˆ›å»ºçš„å¯¹è±¡å¤ªå¤šï¼Œåœ¨è¿›è¡Œåƒåœ¾å›æ”¶ä¹‹é—´ï¼Œè™šæ‹Ÿæœºåˆ†é…çš„åˆ°å †å†…å­˜ç©ºé—´å·²ç»ç”¨æ»¡äº†ï¼Œä¸Heap spaceæœ‰å…³ã€‚è§£å†³è¿™ç±»é—®é¢˜æœ‰ä¸¤ç§æ€è·¯ï¼š<br>\1. æ£€æŸ¥ç¨‹åºï¼Œçœ‹æ˜¯å¦æœ‰æ­»å¾ªç¯æˆ–ä¸å¿…è¦åœ°é‡å¤åˆ›å»ºå¤§é‡å¯¹è±¡ã€‚æ‰¾åˆ°åŸå› åï¼Œä¿®æ”¹ç¨‹åºå’Œç®—æ³•ã€‚<br>æˆ‘ä»¥å‰å†™ä¸€ä¸ªä½¿ç”¨K-Meansæ–‡æœ¬èšç±»ç®—æ³•å¯¹å‡ ä¸‡æ¡æ–‡æœ¬è®°å½•ï¼ˆæ¯æ¡è®°å½•çš„ç‰¹å¾å‘é‡å¤§çº¦10æ¥ä¸ªï¼‰è¿›è¡Œæ–‡æœ¬èšç±»æ—¶ï¼Œç”±äºç¨‹åºç»†èŠ‚ä¸Šæœ‰é—®é¢˜ï¼Œå°±å¯¼è‡´äº†Java heap spaceçš„å†…å­˜æº¢å‡ºé—®é¢˜ï¼Œåæ¥é€šè¿‡ä¿®æ”¹ç¨‹åºå¾—åˆ°äº†è§£å†³ã€‚<br>\2. å¢åŠ Javaè™šæ‹Ÿæœºä¸­Xmsï¼ˆåˆå§‹å †å¤§å°ï¼‰å’ŒXmxï¼ˆæœ€å¤§å †å¤§å°ï¼‰å‚æ•°çš„å¤§å°ã€‚å¦‚ï¼šset JAVA_OPTS= -Xms256m -Xmx1024m</p><p>ç¬¬ä¸‰ç§OutOfMemoryErrorï¼šunable to create new native thread<br>è¿™ç§é”™è¯¯åœ¨Javaçº¿ç¨‹ä¸ªæ•°å¾ˆå¤šçš„æƒ…å†µä¸‹å®¹æ˜“å‘ç”Ÿã€‚</p><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/u013521220/article/details/79523633" target="_blank" rel="noopener">å†…å­˜æº¢å‡ºçš„è§£å†³æ–¹æ¡ˆ</a></p><h1 id="åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥"><a href="#åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥" class="headerlink" title="åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥"></a>åƒåœ¾å›æ”¶å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥</h1><blockquote><p>ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆ 3 ä¸ªåŒºåŸŸéšçº¿ç¨‹ç”Ÿç­(å› ä¸ºæ˜¯çº¿ç¨‹ç§æœ‰)ï¼Œæ ˆä¸­çš„æ ˆå¸§éšç€æ–¹æ³•çš„è¿›å…¥å’Œé€€å‡ºè€Œæœ‰æ¡ä¸ç´Šåœ°æ‰§è¡Œç€å‡ºæ ˆå’Œå…¥æ ˆæ“ä½œã€‚è€Œ Java å †å’Œæ–¹æ³•åŒºåˆ™ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ¥å£ä¸­çš„å¤šä¸ªå®ç°ç±»éœ€è¦çš„å†…å­˜å¯èƒ½ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ–¹æ³•ä¸­çš„å¤šä¸ªåˆ†æ”¯éœ€è¦çš„å†…å­˜ä¹Ÿå¯èƒ½ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬åªæœ‰åœ¨ç¨‹åºå¤„äºè¿è¡ŒæœŸæ‰çŸ¥é“é‚£äº›å¯¹è±¡ä¼šåˆ›å»ºï¼Œè¿™éƒ¨åˆ†å†…å­˜çš„åˆ†é…å’Œå›æ”¶éƒ½æ˜¯åŠ¨æ€çš„ï¼Œåƒåœ¾å›æ”¶æœŸæ‰€å…³æ³¨çš„å°±æ˜¯è¿™éƒ¨åˆ†å†…å­˜ã€‚</p></blockquote><p>2.2.1 å¼•ç”¨è®¡æ•°æ³•</p><blockquote><p>ç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ã€‚ä½†æ˜¯éš¾ä»¥è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvNGMyODlhMjI0Y2I0OTQ0ZTQ5OWZiNWJmZDMzZTU5MmY_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœä¸ä¸‹å°å¿ƒç›´æ¥æŠŠ Obj1-reference å’Œ Obj2-reference ç½® nullã€‚åˆ™åœ¨ Java å †å½“ä¸­çš„ä¸¤å—å†…å­˜ä¾ç„¶ä¿æŒç€äº’ç›¸å¼•ç”¨æ— æ³•å›æ”¶ã€‚</p><p>2.2.2 å¯è¾¾æ€§åˆ†ææ³•</p><blockquote><p>é€šè¿‡ä¸€ç³»åˆ—çš„ â€˜GC Rootsâ€™ çš„å¯¹è±¡ä½œä¸ºèµ·å§‹ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å‡ºå‘æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ã€‚å½“ä¸€ä¸ªå¯¹è±¡åˆ° GC Roots æ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿çš„æ—¶å€™è¯´æ˜å¯¹è±¡ä¸å¯ç”¨ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvNThiZmFjMTVjYTZkMzA3NmRlZjUxNzRlZDVjYTVhOTk_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>å¯ä½œä¸º GC Roots çš„å¯¹è±¡ï¼š</p><ul><li>è™šæ‹Ÿæœºæ ˆ(æ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨)ä¸­å¼•ç”¨çš„å¯¹è±¡</li><li>æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡</li><li>æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡</li><li>æœ¬åœ°æ–¹æ³•æ ˆä¸­ JNI(å³ä¸€èˆ¬è¯´çš„ Native æ–¹æ³•) å¼•ç”¨çš„å¯¹è±¡</li></ul><p>2.2.3 å†è°ˆå¼•ç”¨</p><blockquote><p>å‰é¢çš„ä¸¤ç§æ–¹å¼åˆ¤æ–­å­˜æ´»æ—¶éƒ½ä¸â€˜å¼•ç”¨â€™æœ‰å…³ã€‚ä½†æ˜¯ JDK 1.2 ä¹‹åï¼Œå¼•ç”¨æ¦‚å¿µè¿›è¡Œäº†æ‰©å……ï¼Œä¸‹é¢å…·ä½“ä»‹ç»ã€‚</p></blockquote><p>ä¸‹é¢å››ç§å¼•ç”¨å¼ºåº¦ä¸€æ¬¡é€æ¸å‡å¼±</p><p>å¼ºå¼•ç”¨</p><blockquote><p>ç±»ä¼¼äº <code>Object obj = new Object();</code> åˆ›å»ºçš„ï¼Œåªè¦å¼ºå¼•ç”¨åœ¨å°±ä¸å›æ”¶ã€‚</p></blockquote><p>è½¯å¼•ç”¨</p><blockquote><p>SoftReference ç±»å®ç°è½¯å¼•ç”¨ã€‚åœ¨ç³»ç»Ÿè¦å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œå°†ä¼šæŠŠè¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡ŒäºŒæ¬¡å›æ”¶ã€‚</p></blockquote><p>å¼±å¼•ç”¨</p><blockquote><p>WeakReference ç±»å®ç°å¼±å¼•ç”¨ã€‚å¯¹è±¡åªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†ä¹‹å‰ã€‚åœ¨åƒåœ¾æ”¶é›†å™¨å·¥ä½œæ—¶ï¼Œæ— è®ºå†…å­˜æ˜¯å¦è¶³å¤Ÿéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚</p></blockquote><p>è™šå¼•ç”¨</p><blockquote><p>PhantomReference ç±»å®ç°è™šå¼•ç”¨ã€‚æ— æ³•é€šè¿‡è™šå¼•ç”¨è·å–ä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œä¸ºä¸€ä¸ªå¯¹è±¡è®¾ç½®è™šå¼•ç”¨å…³è”çš„å”¯ä¸€ç›®çš„å°±æ˜¯èƒ½åœ¨è¿™ä¸ªå¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚</p></blockquote><p>2.2.4 ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡</p><blockquote><p>å³ä½¿åœ¨å¯è¾¾æ€§åˆ†æç®—æ³•ä¸­ä¸å¯è¾¾çš„å¯¹è±¡ï¼Œä¹Ÿå¹¶éæ˜¯â€œfacebookâ€çš„ï¼Œè¿™æ—¶å€™å®ƒä»¬æš‚æ—¶å‡ºäºâ€œç¼“åˆ‘â€é˜¶æ®µï¼Œä¸€ä¸ªå¯¹è±¡çš„çœŸæ­£æ­»äº¡è‡³å°‘è¦ç»å†ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹ï¼šå¦‚æœå¯¹è±¡åœ¨è¿›è¡Œä¸­å¯è¾¾æ€§åˆ†æåå‘ç°æ²¡æœ‰ä¸ GC Roots ç›¸è¿æ¥çš„å¼•ç”¨é“¾ï¼Œé‚£ä»–å°†ä¼šè¢«ç¬¬ä¸€æ¬¡æ ‡è®°å¹¶ä¸”è¿›è¡Œä¸€æ¬¡ç­›é€‰ï¼Œç­›é€‰æ¡ä»¶æ˜¯æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œ finalize() æ–¹æ³•ã€‚å½“å¯¹è±¡æ²¡æœ‰è¦†ç›– finalize() æ–¹æ³•ï¼Œæˆ–è€… finalize() æ–¹æ³•å·²ç»è¢«è™šæ‹Ÿæœºè°ƒç”¨è¿‡ï¼Œè™šæ‹Ÿæœºå°†è¿™ä¸¤ç§æƒ…å†µéƒ½è§†ä¸ºâ€œæ²¡æœ‰å¿…è¦æ‰§è¡Œâ€ã€‚</p><p>å¦‚æœè¿™ä¸ªå¯¹è±¡è¢«åˆ¤å®šä¸ºæœ‰å¿…è¦æ‰§è¡Œ finalize() æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ç«Ÿä¼šæ”¾ç½®åœ¨ä¸€ä¸ªå«åš F-Queue çš„é˜Ÿåˆ—ä¸­ï¼Œå¹¶åœ¨ç¨åç”±ä¸€ä¸ªç”±è™šæ‹Ÿæœºè‡ªåŠ¨å»ºç«‹çš„ã€ä½ä¼˜å…ˆçº§çš„ Finalizer çº¿ç¨‹å»æ‰§è¡Œå®ƒã€‚è¿™é‡Œæ‰€è°“çš„â€œæ‰§è¡Œâ€æ˜¯æŒ‡è™šæ‹Ÿæœºä¼šå‡ºå‘è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸æ‰¿è¯ºæˆ–ç­‰å¾…ä»–è¿è¡Œç»“æŸã€‚finalize() æ–¹æ³•æ˜¯å¯¹è±¡é€ƒè„±æ­»äº¡å‘½è¿çš„æœ€åä¸€æ¬¡æœºä¼šï¼Œç¨å GC å°†å¯¹ F-Queue ä¸­çš„å¯¹è±¡è¿›è¡Œç¬¬äºŒæ¬¡å°è§„æ¨¡çš„æ ‡è®°ï¼Œå¦‚æœå¯¹è±¡è¦åœ¨ finalize() ä¸­æˆåŠŸæ‹¯æ•‘è‡ªå·± â€”â€” åªè¦é‡æ–°ä¸å¼•ç”¨é“¾ä¸Šçš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡ç®€å†å…³è”å³å¯ã€‚</p><p>finalize() æ–¹æ³•åªä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ã€‚</p></blockquote><p>2.2.5 å›æ”¶æ–¹æ³•åŒº</p><blockquote><p>åœ¨å †ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œä¸€æ¬¡åƒåœ¾å›æ”¶ä¸€èˆ¬å¯ä»¥å›æ”¶ 70% ~ 95% çš„ç©ºé—´ï¼Œè€Œæ°¸ä¹…ä»£çš„åƒåœ¾æ”¶é›†æ•ˆç‡è¿œä½äºæ­¤ã€‚</p><p>æ°¸ä¹…ä»£åƒåœ¾å›æ”¶ä¸»è¦ä¸¤éƒ¨åˆ†å†…å®¹ï¼šåºŸå¼ƒçš„å¸¸é‡å’Œæ— ç”¨çš„ç±»ã€‚</p></blockquote><p>åˆ¤æ–­åºŸå¼ƒå¸¸é‡ï¼šä¸€èˆ¬æ˜¯åˆ¤æ–­æ²¡æœ‰è¯¥å¸¸é‡çš„å¼•ç”¨ã€‚</p><p>åˆ¤æ–­æ— ç”¨çš„ç±»ï¼šè¦ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶éƒ½æ»¡è¶³</p><ul><li>è¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»å›æ”¶ï¼Œä¹Ÿå°±æ˜¯ Java å †ä¸­ä¸å­˜åœ¨è¯¥ç±»çš„ä»»ä½•å®ä¾‹</li><li>åŠ è½½è¯¥ç±»çš„ ClassLoader å·²ç»è¢«å›æ”¶</li><li>è¯¥ç±»å¯¹åº”çš„ java.lang.Class å¯¹è±¡æ²¡æœ‰ä»»ä½•åœ°æ–¹å‘—å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•</li></ul><h3 id="2-3-åƒåœ¾å›æ”¶ç®—æ³•"><a href="#2-3-åƒåœ¾å›æ”¶ç®—æ³•" class="headerlink" title="2.3 åƒåœ¾å›æ”¶ç®—æ³•"></a>2.3 åƒåœ¾å›æ”¶ç®—æ³•</h3><p>2.3.1 æ ‡è®° â€”â€” æ¸…é™¤ç®—æ³•</p><blockquote><p>ç›´æ¥æ ‡è®°æ¸…é™¤å°±å¯ã€‚</p></blockquote><p>ä¸¤ä¸ªä¸è¶³ï¼š</p><ul><li>æ•ˆç‡ä¸é«˜</li><li>ç©ºé—´ä¼šäº§ç”Ÿå¤§é‡ç¢ç‰‡</li></ul><p>2.3.2 å¤åˆ¶ç®—æ³•</p><blockquote><p>æŠŠç©ºé—´åˆ†æˆä¸¤å—ï¼Œæ¯æ¬¡åªå¯¹å…¶ä¸­ä¸€å—è¿›è¡Œ GCã€‚å½“è¿™å—å†…å­˜ä½¿ç”¨å®Œæ—¶ï¼Œå°±å°†è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—ä¸Šé¢ã€‚</p></blockquote><p>è§£å†³å‰ä¸€ç§æ–¹æ³•çš„ä¸è¶³ï¼Œä½†æ˜¯ä¼šé€ æˆç©ºé—´åˆ©ç”¨ç‡ä½ä¸‹ã€‚å› ä¸ºå¤§å¤šæ•°æ–°ç”Ÿä»£å¯¹è±¡éƒ½ä¸ä¼šç†¬è¿‡ç¬¬ä¸€æ¬¡ GCã€‚æ‰€ä»¥æ²¡å¿…è¦ 1 : 1 åˆ’åˆ†ç©ºé—´ã€‚å¯ä»¥åˆ†ä¸€å—è¾ƒå¤§çš„ Eden ç©ºé—´å’Œä¸¤å—è¾ƒå°çš„ Survivor ç©ºé—´ï¼Œæ¯æ¬¡ä½¿ç”¨ Eden ç©ºé—´å’Œå…¶ä¸­ä¸€å— Survivorã€‚å½“å›æ”¶æ—¶ï¼Œå°† Eden å’Œ Survivor ä¸­è¿˜å­˜æ´»çš„å¯¹è±¡ä¸€æ¬¡æ€§å¤åˆ¶åˆ°å¦ä¸€å— Survivor ä¸Šï¼Œæœ€åæ¸…ç† Eden å’Œ Survivor ç©ºé—´ã€‚å¤§å°æ¯”ä¾‹ä¸€èˆ¬æ˜¯ 8 : 1 : 1ï¼Œæ¯æ¬¡æµªè´¹ 10% çš„ Survivor ç©ºé—´ã€‚ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚æœå­˜æ´»çš„å¤§äº 10% æ€ä¹ˆåŠï¼Ÿè¿™é‡Œé‡‡ç”¨ä¸€ç§åˆ†é…æ‹…ä¿ç­–ç•¥ï¼šå¤šå‡ºæ¥çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ã€‚</p><p>2.3.3 æ ‡è®°-æ•´ç†ç®—æ³•</p><blockquote><p>ä¸åŒäºé’ˆå¯¹æ–°ç”Ÿä»£çš„å¤åˆ¶ç®—æ³•ï¼Œé’ˆå¯¹è€å¹´ä»£çš„ç‰¹ç‚¹ï¼Œåˆ›å»ºè¯¥ç®—æ³•ã€‚ä¸»è¦æ˜¯æŠŠå­˜æ´»å¯¹è±¡ç§»åˆ°å†…å­˜çš„ä¸€ç«¯ã€‚</p></blockquote><p>2.3.4 åˆ†ä»£å›æ”¶</p><blockquote><p>æ ¹æ®å­˜æ´»å¯¹è±¡åˆ’åˆ†å‡ å—å†…å­˜åŒºï¼Œä¸€èˆ¬æ˜¯åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚ç„¶åæ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹åˆ¶å®šç›¸åº”çš„å›æ”¶ç®—æ³•ã€‚</p></blockquote><p>æ–°ç”Ÿä»£</p><blockquote><p>æ¯æ¬¡åƒåœ¾å›æ”¶éƒ½æœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œåªæœ‰å°‘é‡å­˜æ´»ï¼Œé€‰ç”¨å¤åˆ¶ç®—æ³•æ¯”è¾ƒåˆç†ã€‚</p></blockquote><p>è€å¹´ä»£</p><blockquote><p>è€å¹´ä»£ä¸­å¯¹è±¡å­˜æ´»ç‡è¾ƒé«˜ã€æ²¡æœ‰é¢å¤–çš„ç©ºé—´åˆ†é…å¯¹å®ƒè¿›è¡Œæ‹…ä¿ã€‚æ‰€ä»¥å¿…é¡»ä½¿ç”¨ <code>æ ‡è®° â€”â€” æ¸…é™¤</code> æˆ–è€… <code>æ ‡è®° â€”â€” æ•´ç†</code> ç®—æ³•å›æ”¶ã€‚</p></blockquote><h3 id="2-4-HotSpot-çš„ç®—æ³•å®ç°"><a href="#2-4-HotSpot-çš„ç®—æ³•å®ç°" class="headerlink" title="2.4 HotSpot çš„ç®—æ³•å®ç°"></a>2.4 HotSpot çš„ç®—æ³•å®ç°</h3><h3 id="2-5-åƒåœ¾å›æ”¶å™¨"><a href="#2-5-åƒåœ¾å›æ”¶å™¨" class="headerlink" title="2.5 åƒåœ¾å›æ”¶å™¨"></a>2.5 åƒåœ¾å›æ”¶å™¨</h3><blockquote><p>æ”¶é›†ç®—æ³•æ˜¯å†…å­˜å›æ”¶çš„ç†è®ºï¼Œè€Œåƒåœ¾å›æ”¶å™¨æ˜¯å†…å­˜å›æ”¶çš„å®è·µã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvMTVmYjc1NDc2MmZmNWRmM2Y3ZjYzZTVjMjZkNGQzYWU_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>è¯´æ˜ï¼šå¦‚æœä¸¤ä¸ªæ”¶é›†å™¨ä¹‹é—´å­˜åœ¨è¿çº¿è¯´æ˜ä»–ä»¬ä¹‹é—´å¯ä»¥æ­é…ä½¿ç”¨ã€‚</p><p>2.5.1 Serial æ”¶é›†å™¨</p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªå•çº¿ç¨‹æ”¶é›†å™¨ã€‚æ„å‘³ç€å®ƒåªä¼šä½¿ç”¨ä¸€ä¸ª CPU æˆ–ä¸€æ¡æ”¶é›†çº¿ç¨‹å»å®Œæˆæ”¶é›†å·¥ä½œï¼Œå¹¶ä¸”åœ¨è¿›è¡Œåƒåœ¾å›æ”¶æ—¶å¿…é¡»æš‚åœå…¶å®ƒæ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ç›´åˆ°æ”¶é›†ç»“æŸã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvYjE4NDk0YjFlNTQ4NTFiYmJkMmVlNTI3NjBjYzM3NTQ_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>2.5.2 ParNew æ”¶é›†å™¨</p><blockquote><p>å¯ä»¥è®¤ä¸ºæ˜¯ Serial æ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvMTU0NjVmYjJlMTdjYjVkNjY1YzI1YmI5OGFjZmVhOTM_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>å¹¶è¡Œï¼šParallel</p><blockquote><p>æŒ‡å¤šæ¡åƒåœ¾æ”¶é›†çº¿ç¨‹å¹¶è¡Œå·¥ä½œï¼Œæ­¤æ—¶ç”¨æˆ·çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€</p></blockquote><p>å¹¶å‘ï¼šConcurrent</p><blockquote><p>æŒ‡ç”¨æˆ·çº¿ç¨‹å’Œåƒåœ¾å›æ”¶çº¿ç¨‹åŒæ—¶æ‰§è¡Œ(ä¸ä¸€å®šæ˜¯å¹¶è¡Œï¼Œæœ‰å¯èƒ½æ˜¯äº¤å‰æ‰§è¡Œ)ï¼Œç”¨æˆ·è¿›ç¨‹åœ¨è¿è¡Œï¼Œè€Œåƒåœ¾å›æ”¶çº¿ç¨‹åœ¨å¦ä¸€ä¸ª CPU ä¸Šè¿è¡Œã€‚</p></blockquote><p>2.5.3 Parallel Scavenge æ”¶é›†å™¨</p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªæ–°ç”Ÿä»£æ”¶é›†å™¨ï¼Œä¹Ÿæ˜¯ä½¿ç”¨å¤åˆ¶ç®—æ³•å®ç°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¹¶è¡Œçš„å¤šçº¿ç¨‹æ”¶é›†å™¨ã€‚</p></blockquote><p>CMS ç­‰æ”¶é›†å™¨çš„å…³æ³¨ç‚¹æ˜¯å°½å¯èƒ½åœ°ç¼©çŸ­åƒåœ¾æ”¶é›†æ—¶ç”¨æˆ·çº¿ç¨‹æ‰€åœé¡¿çš„æ—¶é—´ï¼Œè€Œ Parallel Scavenge æ”¶é›†å™¨çš„ç›®çš„æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡(Throughput = è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´ / (è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´ + åƒåœ¾æ”¶é›†æ—¶é—´))ã€‚</p><p>ä½œä¸ºä¸€ä¸ªååé‡ä¼˜å…ˆçš„æ”¶é›†å™¨ï¼Œè™šæ‹Ÿæœºä¼šæ ¹æ®å½“å‰ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µæ”¶é›†æ€§èƒ½ç›‘æ§ä¿¡æ¯ï¼ŒåŠ¨æ€è°ƒæ•´åœé¡¿æ—¶é—´ã€‚è¿™å°±æ˜¯ GC çš„è‡ªé€‚åº”è°ƒæ•´ç­–ç•¥(GC Ergonomics)ã€‚</p><p>2.5.4 Serial Old æ”¶é›†å™¨</p><blockquote><p>æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œå•çº¿ç¨‹ï¼Œä½¿ç”¨ <code>æ ‡è®° â€”â€” æ•´ç†</code>ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvYjE4NDk0YjFlNTQ4NTFiYmJkMmVlNTI3NjBjYzM3NTQ_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>2.5.5 Parallel Old æ”¶é›†å™¨</p><blockquote><p>Parallel Old æ˜¯ Parallel Scavenge æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ã€‚å¤šçº¿ç¨‹ï¼Œä½¿ç”¨ <code>æ ‡è®° â€”â€” æ•´ç†</code></p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvMjU2NDEzNjZiNDNkOTcxMzEwYTBhN2NlZGU0ZTQwNmE_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>2.5.6 CMS æ”¶é›†å™¨</p><blockquote><p>CMS (Concurrent Mark Sweep) æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ã€‚åŸºäº <code>æ ‡è®° â€”â€” æ¸…é™¤</code> ç®—æ³•å®ç°ã€‚</p></blockquote><p>è¿ä½œæ­¥éª¤:</p><ol><li>åˆå§‹æ ‡è®°(CMS initial mark)ï¼šæ ‡è®° GC Roots èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡</li><li>å¹¶å‘æ ‡è®°(CMS concurrent mark)ï¼šè¿›è¡Œ GC Roots Tracing</li><li>é‡æ–°æ ‡è®°(CMS remark)ï¼šä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´çš„å˜åŠ¨éƒ¨åˆ†</li><li>å¹¶å‘æ¸…é™¤(CMS concurrent sweep)</li></ol><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvNmY0ZDY4MzY0NGExNTQ1MzdiM2UyM2Q2MGQ0OWMwNzQ_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>ç¼ºç‚¹ï¼šå¯¹ CPU èµ„æºæ•æ„Ÿã€æ— æ³•æ”¶é›†æµ®åŠ¨åƒåœ¾ã€<code>æ ‡è®° â€”â€” æ¸…é™¤</code> ç®—æ³•å¸¦æ¥çš„ç©ºé—´ç¢ç‰‡</p><p>2.5.7 G1 æ”¶é›†å™¨</p><blockquote><p>é¢å‘æœåŠ¡ç«¯çš„åƒåœ¾å›æ”¶å™¨ã€‚</p></blockquote><p>ä¼˜ç‚¹ï¼šå¹¶è¡Œä¸å¹¶å‘ã€åˆ†ä»£æ”¶é›†ã€ç©ºé—´æ•´åˆã€å¯é¢„æµ‹åœé¡¿ã€‚</p><p>è¿ä½œæ­¥éª¤:</p><ol><li>åˆå§‹æ ‡è®°(Initial Marking)</li><li>å¹¶å‘æ ‡è®°(Concurrent Marking)</li><li>æœ€ç»ˆæ ‡è®°(Final Marking)</li><li>ç­›é€‰å›æ”¶(Live Data Counting and Evacuation)</li></ol><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvNDBhNTc1OTMxYjI1NGE4ZjQwYmI1NDNjMjRlOGZhZGY_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><h3 id="2-6-å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥"><a href="#2-6-å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥" class="headerlink" title="2.6 å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥"></a>2.6 å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥</h3><p>2.6.1 å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åˆ†é…</p><blockquote><p>å¯¹è±¡ä¸»è¦åˆ†é…åœ¨æ–°ç”Ÿä»£çš„ Eden åŒºä¸Šï¼Œå¦‚æœå¯åŠ¨äº†æœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²åŒºï¼Œå°†çº¿ç¨‹ä¼˜å…ˆåœ¨ (TLAB) ä¸Šåˆ†é…ã€‚å°‘æ•°æƒ…å†µä¼šç›´æ¥åˆ†é…åœ¨è€å¹´ä»£ä¸­ã€‚</p></blockquote><p>ä¸€èˆ¬æ¥è¯´ Java å †çš„å†…å­˜æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvOTcxMDE4MDMxNWQzNTc1NmI2OGU5YzVkYWY0NGQ2ZTU_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>æ–°ç”Ÿä»£ GC (Minor GC)</p><blockquote><p>å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶åŠ¨ä½œï¼Œé¢‘ç¹ï¼Œé€Ÿåº¦å¿«ã€‚</p></blockquote><p>è€å¹´ä»£ GC (Major GC / Full GC)</p><blockquote><p>å‘ç”Ÿåœ¨è€å¹´ä»£çš„åƒåœ¾å›æ”¶åŠ¨ä½œï¼Œå‡ºç°äº† Major GC ç»å¸¸ä¼šä¼´éšè‡³å°‘ä¸€æ¬¡ Minor GC(éç»å¯¹)ã€‚Major GC çš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯” Minor GC æ…¢åå€ä»¥ä¸Šã€‚</p></blockquote><p>2.6.2 å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£</p><p>2.6.3 é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£</p><p>2.6.4 åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š</p><p>2.6.5 ç©ºé—´åˆ†é…æ‹…ä¿</p><h1 id="Java-å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹"><a href="#Java-å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹" class="headerlink" title="Java å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹"></a>Java å†…å­˜æ¨¡å‹ä¸çº¿ç¨‹</h1><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvMjBhOTk2ODc0NmFmYTJhZmRlNGIzNzE2YmFiZjU1Y2U_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><h3 id="3-1-Java-å†…å­˜æ¨¡å‹"><a href="#3-1-Java-å†…å­˜æ¨¡å‹" class="headerlink" title="3.1 Java å†…å­˜æ¨¡å‹"></a>3.1 Java å†…å­˜æ¨¡å‹</h3><blockquote><p>å±è”½æ‰å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvOGY5ODMzMGRjOGFmNGNlOGNmNTM5N2EwMTMzMDhlYzI_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>3.1.1 ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¹‹é—´çš„äº¤äº’</p><table><thead><tr><th align="left">æ“ä½œ</th><th align="left">ä½œç”¨å¯¹è±¡</th><th align="left">è§£é‡Š</th></tr></thead><tbody><tr><td align="left">lock</td><td align="left">ä¸»å†…å­˜</td><td align="left">æŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€</td></tr><tr><td align="left">unlock</td><td align="left">ä¸»å†…å­˜</td><td align="left">æŠŠä¸€ä¸ªå¤„äºé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åæ‰å¯è¢«å…¶ä»–çº¿ç¨‹é”å®š</td></tr><tr><td align="left">read</td><td align="left">ä¸»å†…å­˜</td><td align="left">æŠŠä¸€ä¸ªå˜é‡çš„å€¼ä»ä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿ load æ“ä½œä½¿ç”¨</td></tr><tr><td align="left">load</td><td align="left">å·¥ä½œå†…å­˜</td><td align="left">æŠŠ read æ“ä½œä»ä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜ä¸­</td></tr><tr><td align="left">use</td><td align="left">å·¥ä½œå†…å­˜</td><td align="left">æŠŠå·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“ï¼Œ æ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨åˆ°å˜é‡å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œ</td></tr><tr><td align="left">assign</td><td align="left">å·¥ä½œå†…å­˜</td><td align="left">æŠŠä¸€ä¸ªä»æ‰§è¡Œå¼•æ“æ¥æ”¶åˆ°çš„å€¼èµ‹æ¥æ”¶åˆ°çš„å€¼èµ‹ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œ æ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œ</td></tr><tr><td align="left">store</td><td align="left">å·¥ä½œå†…å­˜</td><td align="left">æŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿ write æ“ä½œ</td></tr><tr><td align="left">write</td><td align="left">å·¥ä½œå†…å­˜</td><td align="left">æŠŠ store æ“ä½œä»å·¥ä½œå†…å­˜ä¸­å¾—åˆ°çš„å˜é‡çš„å€¼æ”¾å…¥ä¸»å†…å­˜çš„å˜é‡ä¸­</td></tr></tbody></table><p>3.1.2 å¯¹äº volatile å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™</p><blockquote><p>å…³é”®å­— volatile æ˜¯ Java è™šæ‹Ÿæœºæä¾›çš„æœ€è½»é‡çº§çš„åŒæ­¥æœºåˆ¶ã€‚</p></blockquote><p>ä¸€ä¸ªå˜é‡è¢«å®šä¹‰ä¸º volatile çš„ç‰¹æ€§ï¼š</p><ol><li>ä¿è¯æ­¤å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§æ€§ã€‚ä½†æ˜¯æ“ä½œå¹¶éåŸå­æ“ä½œï¼Œå¹¶å‘æƒ…å†µä¸‹ä¸å®‰å…¨ã€‚</li></ol><blockquote><p>å¦‚æœä¸ç¬¦åˆ <code>è¿ç®—ç»“æœå¹¶ä¸ä¾èµ–å˜é‡å½“å‰å€¼ï¼Œæˆ–è€…èƒ½å¤Ÿç¡®ä¿åªæœ‰å•ä¸€çš„çº¿ç¨‹ä¿®æ”¹å˜é‡çš„å€¼</code> å’Œ <code>å˜é‡ä¸éœ€è¦ä¸å…¶ä»–çš„çŠ¶æ€å˜é‡å…±åŒå‚ä¸ä¸å˜çº¦æŸ</code> å°±è¦é€šè¿‡åŠ é”(ä½¿ç”¨ synchronize æˆ– java.util.concurrent ä¸­çš„åŸå­ç±»)æ¥ä¿è¯åŸå­æ€§ã€‚</p></blockquote><ol><li>ç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–ã€‚</li></ol><blockquote><p>é€šè¿‡æ’å…¥å†…å­˜å±éšœä¿è¯ä¸€è‡´æ€§ã€‚</p></blockquote><p>3.1.3 å¯¹äº long å’Œ double å‹å˜é‡çš„ç‰¹æ®Šè§„åˆ™</p><blockquote><p>Java è¦æ±‚å¯¹äºä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ä¹‹é—´çš„å…«ä¸ªæ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œä½†æ˜¯å¯¹äº 64 ä½çš„æ•°æ®ç±»å‹ï¼Œæœ‰ä¸€æ¡å®½æ¾çš„è§„å®šï¼šå…è®¸è™šæ‹Ÿæœºå°†æ²¡æœ‰è¢« volatile ä¿®é¥°çš„ 64 ä½æ•°æ®çš„è¯»å†™æ“ä½œåˆ’åˆ†ä¸ºä¸¤æ¬¡ 32 ä½çš„æ“ä½œæ¥è¿›è¡Œï¼Œå³å…è®¸è™šæ‹Ÿæœºå®ç°é€‰æ‹©å¯ä»¥ä¸ä¿è¯ 64 ä½æ•°æ®ç±»å‹çš„ loadã€storeã€read å’Œ write è¿™ 4 ä¸ªæ“ä½œçš„åŸå­æ€§ã€‚è¿™å°±æ˜¯ long å’Œ double çš„éåŸå­æ€§åå®šã€‚</p></blockquote><p>3.1.4 åŸå­æ€§ã€å¯è§æ€§ä¸æœ‰åºæ€§</p><blockquote><p>å›é¡¾ä¸‹å¹¶å‘ä¸‹åº”è¯¥æ³¨æ„æ“ä½œçš„é‚£äº›ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼ŒåŒæ—¶åŠ æ·±ç†è§£ã€‚</p></blockquote><ul><li>åŸå­æ€§(Atomicity)</li></ul><blockquote><p>ç”± Java å†…å­˜æ¨¡å‹æ¥ç›´æ¥ä¿è¯çš„åŸå­æ€§å˜é‡æ“ä½œåŒ…æ‹¬ readã€loadã€assignã€useã€store å’Œ writeã€‚å¤§è‡´å¯ä»¥è®¤ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„æ“ä½œæ˜¯åŸå­æ€§çš„ã€‚åŒæ—¶ lock å’Œ unlock å¯ä»¥ä¿è¯æ›´å¤§èŒƒå›´æ“ä½œçš„åŸå­æ€§ã€‚è€Œ synchronize åŒæ­¥å—æ“ä½œçš„åŸå­æ€§æ˜¯ç”¨æ›´é«˜å±‚æ¬¡çš„å­—èŠ‚ç æŒ‡ä»¤ monitorenter å’Œ monitorexit æ¥éšå¼æ“ä½œçš„ã€‚</p></blockquote><ul><li>å¯è§æ€§(Visibility)</li></ul><blockquote><p>æ˜¯æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿèƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªé€šçŸ¥ã€‚ä¸»è¦æ“ä½œç»†èŠ‚å°±æ˜¯ä¿®æ”¹å€¼åå°†å€¼åŒæ­¥è‡³ä¸»å†…å­˜(volatile å€¼ä½¿ç”¨å‰éƒ½ä¼šä»ä¸»å†…å­˜åˆ·æ–°)ï¼Œé™¤äº† volatile è¿˜æœ‰ synchronize å’Œ final å¯ä»¥ä¿è¯å¯è§æ€§ã€‚åŒæ­¥å—çš„å¯è§æ€§æ˜¯ç”±â€œå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ unlock æ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥ä¼šä¸»å†…å­˜ä¸­( storeã€write æ“ä½œ)â€è¿™æ¡è§„åˆ™è·å¾—ã€‚è€Œ final å¯è§æ€§æ˜¯æŒ‡ï¼šè¢« final ä¿®é¥°çš„å­—æ®µåœ¨æ„é€ å™¨ä¸­ä¸€æ—¦å®Œæˆï¼Œå¹¶ä¸”æ„é€ å™¨æ²¡æœ‰æŠŠ â€œthisâ€ çš„å¼•ç”¨ä¼ é€’å‡ºå»( this å¼•ç”¨é€ƒé€¸æ˜¯ä¸€ä»¶å¾ˆå±é™©çš„äº‹æƒ…ï¼Œå…¶ä»–çº¿ç¨‹æœ‰å¯èƒ½é€šè¿‡è¿™ä¸ªå¼•ç”¨è®¿é—®åˆ°â€œåˆå§‹åŒ–äº†ä¸€åŠâ€çš„å¯¹è±¡)ï¼Œé‚£åœ¨å…¶ä»–çº¿ç¨‹ä¸­å°±èƒ½çœ‹è§ final å­—æ®µçš„å€¼ã€‚</p></blockquote><ul><li>æœ‰åºæ€§(Ordering)</li></ul><blockquote><p>å¦‚æœåœ¨è¢«çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰åºçš„ï¼›å¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚å‰åŠå¥æŒ‡â€œçº¿ç¨‹å†…è¡¨ç°ä¸ºä¸²è¡Œçš„è¯­ä¹‰â€ï¼ŒååŠå¥æ˜¯æŒ‡â€œæŒ‡ä»¤é‡æ’â€ç°è±¡å’Œâ€œå·¥ä½œå†…å­˜ä¸ä¸»å†…å­˜åŒæ­¥å»¶è¿Ÿâ€ç°è±¡ã€‚Java è¯­è¨€é€šè¿‡ volatile å’Œ synchronize ä¸¤ä¸ªå…³é”®å­—æ¥ä¿è¯çº¿ç¨‹ä¹‹é—´æ“ä½œçš„æœ‰åºæ€§ã€‚volatile è‡ªèº«å°±ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œè€Œ synchronize åˆ™æ˜¯ç”±â€œä¸€ä¸ªå˜é‡åœ¨åŒä¸€æ—¶åˆ»æŒ‡å…è®¸ä¸€æ¡çº¿ç¨‹å¯¹å…¶è¿›è¡Œ lock æ“ä½œâ€è¿™æ¡è§„åˆ™è·å¾—ï¼Œè¿™æ¡è§„åˆ™å†³å®šäº†æŒæœ‰åŒä¸€ä¸ªé”çš„ä¸¤ä¸ªåŒæ­¥å—åªèƒ½ä¸²è¡Œçš„è¿›å…¥ã€‚</p></blockquote><p>3.1.5 å…ˆè¡Œå‘ç”ŸåŸåˆ™</p><blockquote><p>ä¹Ÿå°±æ˜¯ happens-before åŸåˆ™ã€‚è¿™ä¸ªåŸåˆ™æ˜¯åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ç«äº‰ã€çº¿ç¨‹æ˜¯å¦å®‰å…¨çš„ä¸»è¦ä¾æ®ã€‚å…ˆè¡Œå‘ç”Ÿæ˜¯ Java å†…å­˜æ¨¡å‹ä¸­å®šä¹‰çš„ä¸¤é¡¹æ“ä½œä¹‹é—´çš„ååºå…³ç³»ã€‚</p></blockquote><p>å¤©ç„¶çš„å…ˆè¡Œå‘ç”Ÿå…³ç³»</p><table><thead><tr><th align="left">è§„åˆ™</th><th align="left">è§£é‡Š</th></tr></thead><tbody><tr><td align="left">ç¨‹åºæ¬¡åºè§„åˆ™</td><td align="left">åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ï¼Œä»£ç æŒ‰ç…§ä¹¦å†™çš„æ§åˆ¶æµé¡ºåºæ‰§è¡Œ</td></tr><tr><td align="left">ç®¡ç¨‹é”å®šè§„åˆ™</td><td align="left">ä¸€ä¸ª unlock æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹åŒä¸€ä¸ªé”çš„ lock æ“ä½œ</td></tr><tr><td align="left">volatile å˜é‡è§„åˆ™</td><td align="left">volatile å˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œ</td></tr><tr><td align="left">çº¿ç¨‹å¯åŠ¨è§„åˆ™</td><td align="left">Thread å¯¹è±¡çš„ start() æ–¹æ³•å…ˆè¡Œå‘ç”Ÿäºæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œ</td></tr><tr><td align="left">çº¿ç¨‹ç»ˆæ­¢è§„åˆ™</td><td align="left">çº¿ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½å…ˆè¡Œå‘ç”Ÿäºå¯¹æ­¤çº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ (é€šè¿‡ Thread.join() æ–¹æ³•ç»“æŸã€ Thread.isAlive() çš„è¿”å›å€¼æ£€æµ‹)</td></tr><tr><td align="left">çº¿ç¨‹ä¸­æ–­è§„åˆ™</td><td align="left">å¯¹çº¿ç¨‹ interrupt() æ–¹æ³•è°ƒç”¨ä¼˜å…ˆå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿ (é€šè¿‡ Thread.interrupted() æ–¹æ³•æ£€æµ‹)</td></tr><tr><td align="left">å¯¹è±¡ç»ˆç»“è§„åˆ™</td><td align="left">ä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆ(æ„é€ å‡½æ•°æ‰§è¡Œç»“æŸ)å…ˆè¡Œå‘ç”Ÿäºå®ƒçš„ finalize() æ–¹æ³•çš„å¼€å§‹</td></tr><tr><td align="left">ä¼ é€’æ€§</td><td align="left">å¦‚æœæ“ä½œ A å…ˆäº æ“ä½œ B å‘ç”Ÿï¼Œæ“ä½œ B å…ˆäº æ“ä½œ C å‘ç”Ÿï¼Œé‚£ä¹ˆæ“ä½œ A å…ˆäº æ“ä½œ C</td></tr></tbody></table><h3 id="3-2-Java-ä¸çº¿ç¨‹"><a href="#3-2-Java-ä¸çº¿ç¨‹" class="headerlink" title="3.2 Java ä¸çº¿ç¨‹"></a>3.2 Java ä¸çº¿ç¨‹</h3><p>3.2.1 çº¿ç¨‹çš„å®ç°</p><p>ä½¿ç”¨å†…æ ¸çº¿ç¨‹å®ç°</p><blockquote><p>ç›´æ¥ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æ”¯æŒçš„çº¿ç¨‹ï¼Œè¿™ç§çº¿ç¨‹ç”±å†…æ ¸å®Œæˆåˆ‡æ¢ã€‚ç¨‹åºä¸€èˆ¬ä¸ä¼šç›´æ¥å»ä½¿ç”¨å†…æ ¸çº¿ç¨‹ï¼Œè€Œæ˜¯å»ä½¿ç”¨å†…æ ¸çº¿ç¨‹çš„ä¸€ç§é«˜çº§æ¥å£ â€”â€” è½»é‡çº§è¿›ç¨‹(LWP)ï¼Œè½»é‡çº§è¿›ç¨‹å°±æ˜¯æˆ‘ä»¬é€šå¸¸æ„ä¹‰ä¸Šæ‰€è®²çš„çº¿ç¨‹ï¼Œæ¯ä¸ªè½»é‡çº§è¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹æ”¯æŒã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvNGMwYTk1OTQ1ZTdjN2E1MmVmNmNjYmE0YWJiNzNkNDM_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å®ç°</p><blockquote><p>å¹¿ä¹‰ä¸Šæ¥è¯´ï¼Œåªè¦ä¸æ˜¯å†…æ ¸çº¿ç¨‹å°±å¯ä»¥è®¤ä¸ºæ˜¯ç”¨æˆ·çº¿ç¨‹ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºè½»é‡çº§è¿›ç¨‹ä¹Ÿå±äºç”¨æˆ·çº¿ç¨‹ã€‚ç‹­ä¹‰ä¸Šè¯´æ˜¯å®Œå…¨å»ºç«‹åœ¨ç”¨æˆ·ç©ºé—´çš„çº¿ç¨‹åº“ä¸Šçš„å¹¶ä¸”å†…æ ¸ç³»ç»Ÿä¸å¯æ„ŸçŸ¥çš„ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvZDE1YjY5NDgyNTIyMTAxMDRkOWNjY2YxODJkYjU4MjU_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>ä½¿ç”¨ç”¨æˆ·çº¿ç¨‹å¤¹åŠ è½»é‡çº§è¿›ç¨‹æ··åˆå®ç°</p><blockquote><p>ç›´æ¥çœ‹å›¾</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvZjE2MmMwYmUwMGU0NzI5NTIyZmNlNDhkMjA5ODk5MTM_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p><strong>Java çº¿ç¨‹å®ç°</strong></p><blockquote><p>å¹³å°ä¸åŒå®ç°æ–¹å¼ä¸åŒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€æ¡ Java çº¿ç¨‹æ˜ å°„åˆ°ä¸€æ¡è½»é‡çº§è¿›ç¨‹ã€‚</p></blockquote><p>3.2.2 Java çº¿ç¨‹è°ƒåº¦</p><p>ååŒå¼çº¿ç¨‹è°ƒåº¦</p><blockquote><p>çº¿ç¨‹æ‰§è¡Œæ—¶é—´ç”±çº¿ç¨‹è‡ªèº«æ§åˆ¶ï¼Œå®ç°ç®€å•ï¼Œåˆ‡æ¢çº¿ç¨‹è‡ªå·±å¯çŸ¥ï¼Œæ‰€ä»¥åŸºæœ¬æ²¡æœ‰çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚åå¤„æ˜¯æ‰§è¡Œæ—¶é—´ä¸å¯æ§ï¼Œå®¹æ˜“é˜»å¡ã€‚</p></blockquote><p>æŠ¢å å¼çº¿ç¨‹è°ƒåº¦</p><blockquote><p>æ¯ä¸ªçº¿ç¨‹ç”±ç³»ç»Ÿæ¥åˆ†é…æ‰§è¡Œæ—¶é—´ã€‚</p></blockquote><p>3.2.3 çŠ¶æ€è½¬æ¢</p><p>äº”ç§çŠ¶æ€ï¼š</p><ul><li>æ–°å»º(new)</li></ul><blockquote><p>åˆ›å»ºåå°šæœªå¯åŠ¨çš„çº¿ç¨‹ã€‚</p></blockquote><ul><li>è¿è¡Œ(Runable)</li></ul><blockquote><p>Runable åŒ…æ‹¬äº†æ“ä½œç³»ç»Ÿçº¿ç¨‹çŠ¶æ€ä¸­çš„ Running å’Œ Readyï¼Œä¹Ÿå°±æ˜¯å‡ºäºæ­¤çŠ¶æ€çš„çº¿ç¨‹æœ‰å¯èƒ½æ­£åœ¨æ‰§è¡Œï¼Œä¹Ÿæœ‰å¯èƒ½æ­£åœ¨ç­‰å¾… CPU ä¸ºä»–åˆ†é…æ—¶é—´ã€‚</p></blockquote><ul><li>æ— é™æœŸç­‰å¾…(Waiting)</li></ul><blockquote><p>å‡ºäºè¿™ç§çŠ¶æ€çš„çº¿ç¨‹ä¸ä¼šè¢« CPU åˆ†é…æ—¶é—´ï¼Œå®ƒä»¬è¦ç­‰å…¶ä»–çº¿ç¨‹æ˜¾ç¤ºçš„å”¤é†’ã€‚</p></blockquote><p>ä»¥ä¸‹æ–¹æ³•ä¼šç„¶çº¿ç¨‹è¿›å…¥æ— é™æœŸç­‰å¾…çŠ¶æ€ï¼š<br>1.æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•ã€‚<br>2.æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•ã€‚<br>3.LookSupport.park() æ–¹æ³•ã€‚</p><ul><li>é™æœŸç­‰å¾…(Timed Waiting)</li></ul><blockquote><p>å¤„äºè¿™ç§çŠ¶æ€çš„çº¿ç¨‹ä¹Ÿä¸ä¼šåˆ†é…æ—¶é—´ï¼Œä¸è¿‡æ— éœ€ç­‰å¾…é…å…¶ä»–çº¿ç¨‹æ˜¾ç¤ºåœ°å”¤é†’ï¼Œåœ¨ä¸€å®šæ—¶é—´åä»–ä»¬ä¼šç”±ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ã€‚</p></blockquote><p>ä»¥ä¸‹æ–¹æ³•ä¼šè®©çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…çŠ¶æ€ï¼š<br>1.Thread.sleep() æ–¹æ³•ã€‚<br>2.è®¾ç½®äº† Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•ã€‚<br>3.è®¾ç½®äº† Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•ã€‚<br>4.LockSupport.parkNanos() æ–¹æ³•ã€‚<br>5.LockSupport.parkUntil() æ–¹æ³•ã€‚</p><ul><li>é˜»å¡(Blocked)</li></ul><blockquote><p>çº¿ç¨‹è¢«é˜»å¡äº†ï¼Œâ€œé˜»å¡çŠ¶æ€â€å’Œâ€œç­‰å¾…çŠ¶æ€â€çš„åŒºåˆ«æ˜¯ï¼šâ€œé˜»å¡çŠ¶æ€â€åœ¨ç­‰å¾…ç€è·å–ä¸€ä¸ªæ’ä»–é”ï¼Œè¿™ä¸ªæ—¶é—´å°†åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ”¾å¼ƒè¿™ä¸ªé”çš„æ—¶å€™å‘ç”Ÿï¼›è€Œâ€œç­‰å¾…çŠ¶æ€â€åˆ™æ˜¯åœ¨ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œæˆ–è€…å”¤é†’åŠ¨ä½œçš„å‘ç”Ÿã€‚åœ¨ç¨‹åºç­‰å¾…è¿›å…¥åŒæ­¥åŒºåŸŸçš„æ—¶å€™ï¼Œçº¿ç¨‹å°†è¿›å…¥è¿™ç§çŠ¶æ€ã€‚</p></blockquote><ul><li>ç»“æŸ(Terminated)</li></ul><blockquote><p>å·²ç»ˆæ­¢çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€ã€‚</p></blockquote><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvNmFmOGVlNThhNTU0YWYzMmFjOTI0NGQ2NDY5MjFiYzc_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><h1 id="çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–"><a href="#çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–" class="headerlink" title="çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–"></a>çº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–</h1><blockquote><p>1ã€æ¦‚è¿°</p><p>2ã€çº¿ç¨‹å®‰å…¨</p><p>2.1ã€Javaè¯­è¨€ä¸­çš„çº¿ç¨‹å®‰å…¨</p><p>æŒ‰ç…§çº¿ç¨‹å®‰å…¨çš„â€œå®‰å…¨ç¨‹åº¦â€ç”±å¼ºè‡³å¼±æ¥æ’åºï¼Œæˆ‘ä»¬å¯ä»¥å°†Javaè¯­è¨€ä¸­å„ç§æ“ä½œå…±äº«çš„æ•°æ®åˆ†ä¸ºä»¥ä¸‹5ç±»ï¼šä¸å¯å˜ã€ç»å¯¹çº¿ç¨‹å®‰å…¨ã€ç›¸å¯¹çº¿ç¨‹å®‰å…¨ã€çº¿ç¨‹å»ºè£å’Œçº¿ç¨‹å¯¹ç«‹ã€‚</p><p>ä¸å¯å˜</p><p>ä¸å¯å˜çš„å¯¹è±¡ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p><p>ä¿è¯å¯¹è±¡è¡Œä¸ºä¸å½±å“è‡ªå·±çŠ¶æ€çš„é€”å¾„æœ‰å¾ˆå¤šç§ï¼Œå…¶ä¸­æœ€ç®€å•çš„å°±æ˜¯æŠŠå¯¹è±¡ä¸­å¸¦æœ‰çŠ¶æ€çš„å˜é‡éƒ½å£°æ˜ä¸ºfinalã€‚</p><p>Java APIä¸­ç¬¦åˆä¸å¯å˜è¦æ±‚çš„ç±»å‹ï¼šStringï¼Œjava.lang.Numberçš„éƒ¨åˆ†å­ç±»ï¼ˆå¦‚Longå’ŒDoubleçš„æ•°å€¼åŒ…è£…ç±»ï¼ŒBigIntegerå’ŒBigDecimalç­‰å¤§æ•°æ®ç±»å‹ä½†<code>AtomicInteger</code>å’Œ<code>AtomicLong</code>åˆ™å¹¶éä¸å¯å˜çš„ï¼‰ã€‚</p><p>ç»å¯¹çº¿ç¨‹å®‰å…¨</p><p>Java APIä¸­æ ‡æ³¨è‡ªå·±æ˜¯çº¿ç¨‹å®‰å…¨çš„ç±»ï¼Œå¤§å¤šæ•°éƒ½ä¸æ˜¯ç»å¯¹çº¿ç¨‹å®‰å…¨çš„ã€‚</p><p>ç›¸å¯¹çº¿ç¨‹å®‰å…¨</p><p>Javaè¯­è¨€ä¸­ï¼Œå¤§éƒ¨åˆ†çš„çº¿ç¨‹å®‰å…¨éƒ½å±äºè¿™ç§ç±»å‹ï¼Œä¾‹å¦‚Vectorï¼ŒHashTableï¼ŒCollectionsçš„synchronizedCollection()æ–¹æ³•åŒ…è£…çš„é›†åˆç­‰ã€‚</p><p>çº¿ç¨‹å…¼å®¹</p><p>æŒ‡é€šè¿‡ä½¿ç”¨åŒæ­¥æ‰‹æ®µæ¥ä¿è¯å¯¹è±¡åœ¨å¹¶å‘ç¯å¢ƒä¸­å¯ä»¥å®‰å…¨çš„ä½¿ç”¨ã€‚Java APIä¸­å¤§éƒ¨åˆ†çš„ç±»éƒ½æ˜¯å±äºçº¿ç¨‹å…¼å®¹çš„ï¼Œå¦‚ArrayListå’ŒHashMapã€‚</p><p>çº¿ç¨‹å¯¹ç«‹</p><p>æŒ‡æ— è®ºè°ƒç”¨ç«¯æ˜¯å¦é‡‡å–äº†åŒæ­¥æªæ–½ï¼Œéƒ½æ— æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å¹¶å‘ä½¿ç”¨çš„ä»£ç ã€‚</p><p>ä¸€ä¸ªçº¿ç¨‹å¯¹ç«‹çš„ä¾‹å­å°±æ˜¯Threadç±»çš„suspend()å’Œresumn()æ–¹æ³•ï¼ˆå·²è¢«JDKå£°æ˜åºŸå¼ƒäº†ï¼‰ã€‚</p><p>å¸¸è§çš„çº¿ç¨‹å¯¹ç«‹æ“ä½œè¿˜æœ‰System.setIn(), System.setOut(), System.runFinalizersOnExit()â€¦</p><p>2.2ã€çº¿ç¨‹å®‰å…¨çš„å®ç°æ–¹æ³•</p><p>äº’æ–¥åŒæ­¥</p><p>Javaä¸­ï¼Œæœ€åŸºæœ¬çš„äº’æ–¥åŒæ­¥æ‰‹æ®µå°±æ˜¯synchronizedå…³é”®å­—ã€‚</p><p>synchronizedæ˜¯ä¸€ä¸ªé‡é‡çº§çš„æ“ä½œï¼Œå› ä¸ºï¼šJavaçš„çº¿ç¨‹æ˜¯æ˜ å°„åˆ°æ“ä½œç³»ç»Ÿçš„åŸç”Ÿçº¿ç¨‹ä¹‹ä¸Šçš„ï¼Œå¦‚æœè¦é˜»å¡æˆ–å”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œéƒ½éœ€è¦æ“ä½œç³»ç»Ÿæ¥å¸®å¿™å®Œæˆï¼Œè¿™å°±éœ€è¦ä»ç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ä¸­ï¼Œå› æ­¤çŠ¶æ€è½¬æ¢éœ€è¦æ¶ˆè€—å¾ˆå¤šçš„å¤„ç†å™¨æ—¶é—´ã€‚å¯¹äºä»£ç ç®€å•çš„åŒæ­¥å—ï¼ˆå¦‚synchronizedä¿®é¥°çš„getter()å’Œsetteræ–¹æ³•ï¼‰ï¼ŒçŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´æœ‰å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿ã€‚</p><p>è¿˜å¯ä»¥ä½¿ç”¨java.util.concurrentåŒ…ä¸­çš„<code>ReentrantLock(é‡å…¥é”)</code>æ¥å®ç°åŒæ­¥ï¼šJDK1.5å¤šçº¿ç¨‹ç¯å¢ƒä¸‹synchronizedçš„ååé‡ä¸‹é™çš„å¾ˆä¸¥é‡ï¼Œè€ŒReentrantLockåˆ™åŸºæœ¬ä¿æŒåœ¨åŒä¸€ä¸ªæ¯”è¾ƒç¨³å®šçš„æ°´å¹³ä¸Šã€‚JDK 1.6ä¹‹åä¸¤è€…æ€§èƒ½åŸºæœ¬æŒå¹³ã€‚</p><p>è™šæ‹Ÿæœºåœ¨æœªæ¥çš„æ€§èƒ½æ”¹è¿›ä¸­è¿˜ä¼šæ›´åå‘äºåŸç”Ÿçš„synchronizeçš„ï¼Œæ‰€ä»¥è¿˜æ˜¯</p><p>æå€¡åœ¨synchronizedèƒ½å®ç°éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨synchronizedæ¥è¿›è¡ŒåŒæ­¥ã€‚</p><p>éé˜»å¡åŒæ­¥</p><p>éé˜»å¡åŒæ­¥ï¼šä»å¤„ç†é—®é¢˜çš„æ–¹å¼ä¸Šè¯´ï¼Œäº’æ–¥åŒæ­¥å±äºä¸€ç§æ‚²è§‚çš„å¹¶å‘ç­–ç•¥ã€‚éšç€ç¡¬ä»¶æŒ‡ä»¤é›†çš„å‘å±•ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨åŸºäºå†²çªæ£€æŸ¥çš„ä¹è§‚å¹¶å‘ç­–ç•¥ï¼Œé€šä¿—åœ°è¯´ï¼Œå°±æ˜¯å…ˆè¡Œæ“ä½œï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–çº¿ç¨‹äº‰ç”¨å…±äº«æ•°æ®ï¼Œé‚£æ“ä½œå°±æˆåŠŸäº†ï¼›å¦‚æœå…±äº«æ•°æ®æœ‰äº‰ç”¨ï¼Œäº§ç”Ÿäº†å†²çªï¼Œé‚£å°±å†é‡‡å–å…¶ä»–çš„è¡¥å¿æªæ–½ï¼ˆæœ€å¸¸è§çš„è¡¥å¿æªæ–½å°±æ˜¯ä¸æ–­åœ°é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ï¼‰ï¼Œè¿™ç§ä¹è§‚çš„å¹¶å‘ç­–ç•¥çš„è®¸å¤šå®ç°å¶è¯»ä¸éœ€è¦æŠŠçº¿ç¨‹æŒ‚èµ·ï¼Œå› æ­¤è¿™è¯æ€»åŒæ­¥æ“ä½œç§°ä¸ºéé˜»å¡åŒæ­¥ã€‚</p><p>æ— åŒæ­¥æ–¹æ¡ˆ</p><p>å¦‚æœä¸€ä¸ªæ–¹æ³•æœ¬æ¥å°±ä¸è®¾è®¡å…±äº«æ•°æ®ï¼Œé‚£å®ƒè‡ªç„¶å°±æ— é¡»ä»»ä½•åŒæ­¥æªæ–½å»ä¿è¯æ­£ç¡®æ€§ï¼Œå› æ­¤ä¼šæœ‰ä¸€äº›ä»£ç å¤©ç”Ÿå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™ç±»ä»£ç åŒ…æ‹¬ï¼šå¯é‡å…¥ä»£ç å’Œçº¿ç¨‹æœ¬åœ°å­˜å‚¨ã€‚</p><p>3ã€é”ä¼˜åŒ–</p><p>ä¸ºäº†è¿›ä¸€æ­¥æ”¹è¿›é«˜æ•ˆå¹¶å‘ï¼ŒHotSpotè™šæ‹Ÿæœºå¼€å‘å›¢é˜Ÿåœ¨JDK1.6ç‰ˆæœ¬ä¸ŠèŠ±è´¹äº†å¤§é‡ç²¾åŠ›å®ç°å„ç§é”ä¼˜åŒ–ã€‚</p><p>##3.1ã€è‡ªæ—‹é”ä¸è‡ªé€‚åº”è‡ªæ—‹</p><p>ä¸ºäº†è®©çº¿ç¨‹ç­‰å¾…ï¼Œæˆ‘ä»¬åªéœ€è¦è®©çº¿ç¨‹æ‰§è¡Œä¸€ä¸ªå¿™å¾ªç¯ï¼ˆè‡ªæ—‹ï¼‰ï¼Œè¿™é¡¹æŠ€æœ¯å°±æ˜¯æ‰€è°“çš„è‡ªæ—‹é”ã€‚å¼•å…¥è‡ªæ—‹é”çš„åŸå› æ˜¯äº’æ–¥åŒæ­¥å¯¹æ€§èƒ½æœ€å¤§çš„å½±å“æ˜¯é˜»å¡çš„å®ç°ï¼Œç®¡é’±çº¿ç¨‹å’Œæ¢å¤çº¿ç¨‹çš„æ“ä½œéƒ½éœ€è¦è½¬å…¥å†…æ ¸æ€ä¸­å®Œæˆï¼Œç»™å¹¶å‘å¸¦æ¥å¾ˆå¤§å‹åŠ›ã€‚è‡ªæ—‹é”è®©ç‰©ç†æœºå™¨æœ‰ä¸€ä¸ªä»¥ä¸Šçš„å¤„ç†å™¨çš„æ—¶å€™ï¼Œèƒ½è®©ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶å¹¶è¡Œæ‰§è¡Œã€‚</p><p>3.2ã€é”æ¶ˆé™¤</p><p>æ¶ˆé™¤é”æ˜¯æŒ‡è™šæ‹Ÿæœºå³æ—¶ç¼–è¯‘å™¨åœ¨è¿è¡Œæ—¶ï¼Œå¯¹ä¸€äº›ä»£ç ä¸Šè¦æ±‚åŒæ­¥ï¼Œä½†æ˜¯è¢«æ£€æµ‹åˆ°ä¸å¯èƒ½å­˜åœ¨å…±äº«æ•°æ®ç«äº‰çš„é”è¿›è¡Œæ¶ˆé™¤ã€‚</p><p>3.3ã€é”ç²—åŒ–</p><p>å¦‚æœä¸€ç³»åˆ—çš„è¿ç»­æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åå¤åŠ é”å’Œè§£é”ï¼Œç”šè‡³åŠ é”æ“ä½œæ˜¯å‡ºç°åœ¨å¾ªç¯ä½“ä¸­çš„ï¼Œåˆ™å¯ä»¥è¿›è¡Œé”ç²—åŒ–çš„ä¼˜åŒ–ã€‚</p><p>3.4ã€è½»é‡çº§é”</p><p>å®ƒçš„æœ¬æ„æ˜¯åœ¨æ²¡æœ‰å¤šçº¿ç¨‹ç«äº‰çš„å‰æä¸‹ï¼Œå‡å°‘ä¼ ç»Ÿçš„é‡é‡çº§é”ä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—ã€‚</p><p>ä½†æ˜¯å¦‚æœå­˜åœ¨é”ç«äº‰ï¼Œé™¤äº†äº’æ–¥é‡çš„å¼€é”€ï¼Œè¿˜å‘ç”Ÿäº†CASæ“ä½œï¼Œå› æ­¤åœ¨æœ‰ç«äº‰çš„æƒ…å†µä¸‹ï¼Œè½»é‡çº§é”ä¼šæ¯”ä¼ ç»Ÿçš„é‡é‡çº§é”æ›´æ…¢ã€‚</p><p>3.5ã€åå‘é”</p><p>å¦‚æœè¯´è½»é‡çº§é”æ˜¯åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹ä½¿ç”¨äº†CASæ“ä½œå»æ¶ˆé™¤åŒæ­¥ä½¿ç”¨çš„äº’æ–¥é‡ï¼Œé‚£åå‘é”å°±æ˜¯åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹æŠŠæ•´ä¸ªåŒæ­¥éƒ½æ¶ˆé™¤æ‰äº†ï¼Œè¿CASæ“ä½œéƒ½ä¸åšäº†ã€‚</p></blockquote><h1 id="ç±»æ–‡ä»¶ç»“æ„"><a href="#ç±»æ–‡ä»¶ç»“æ„" class="headerlink" title="ç±»æ–‡ä»¶ç»“æ„"></a>ç±»æ–‡ä»¶ç»“æ„</h1><p><a href="https://link.juejin.im/?target=https%3A%2F%2Fdocs.oracle.com%2Fjavase%2Fspecs%2Fjvms%2Fse7%2Fhtml%2Fjvms-4.html">1. Officialï¼šThe class File Format</a><br><a href="https://link.juejin.im/?target=http%3A%2F%2Fblog.csdn.net%2Fluanlouis%2Farticle%2Fdetails%2F39892027">2.äº¦å±±: ã€ŠJavaè™šæ‹ŸæœºåŸç†å›¾è§£ã€‹ 1.1ã€classæ–‡ä»¶åŸºæœ¬ç»„ç»‡ç»“æ„</a></p><h1 id="è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶"><a href="#è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶" class="headerlink" title="è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶"></a>è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶</h1><blockquote><p>è™šæ‹ŸæœºæŠŠæè¿°ç±»çš„æ•°æ®ä» Class æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒã€è£…æ¢è§£æå’Œåˆå§‹åŒ–ï¼Œæœ€ç»ˆå½¢æˆå¯ä»¥è¢«è™šæ‹Ÿæœºç›´æ¥ä½¿ç”¨çš„ Java ç±»å‹ã€‚</p></blockquote><p>åœ¨ Java è¯­è¨€ä¸­ï¼Œç±»å‹çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–è¿‡ç¨‹éƒ½æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å®Œæˆçš„ã€‚</p><h3 id="6-1-ç±»åŠ è½½æ—¶æœº"><a href="#6-1-ç±»åŠ è½½æ—¶æœº" class="headerlink" title="6.1 ç±»åŠ è½½æ—¶æœº"></a>6.1 ç±»åŠ è½½æ—¶æœº</h3><p>ç±»çš„ç”Ÿå‘½å‘¨æœŸ( 7 ä¸ªé˜¶æ®µ)</p><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvMjdhYzg3ZjQzOTJmMGFiOTllNGM2NWMyM2NjNzE5NDU_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>å…¶ä¸­åŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€åˆå§‹åŒ–å’Œå¸è½½è¿™äº”ä¸ªé˜¶æ®µçš„é¡ºåºæ˜¯ç¡®å®šçš„ã€‚è§£æé˜¶æ®µå¯ä»¥åœ¨åˆå§‹åŒ–ä¹‹åå†å¼€å§‹(è¿è¡Œæ—¶ç»‘å®šæˆ–åŠ¨æ€ç»‘å®šæˆ–æ™šæœŸç»‘å®š)ã€‚</p><p>ä»¥ä¸‹äº”ç§æƒ…å†µå¿…é¡»å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–(è€ŒåŠ è½½ã€éªŒè¯ã€å‡†å¤‡è‡ªç„¶éœ€è¦åœ¨æ­¤ä¹‹å‰å®Œæˆ)ï¼š</p><ol><li>é‡åˆ° newã€getstaticã€putstatic æˆ– invokestatic è¿™ 4 æ¡å­—èŠ‚ç æŒ‡ä»¤æ—¶æ²¡åˆå§‹åŒ–è§¦å‘åˆå§‹åŒ–ã€‚ä½¿ç”¨åœºæ™¯ï¼šä½¿ç”¨ new å…³é”®å­—å®ä¾‹åŒ–å¯¹è±¡ã€è¯»å–ä¸€ä¸ªç±»çš„é™æ€å­—æ®µ(è¢« final ä¿®é¥°ã€å·²åœ¨ç¼–è¯‘æœŸæŠŠç»“æœæ”¾å…¥å¸¸é‡æ± çš„é™æ€å­—æ®µé™¤å¤–)ã€è°ƒç”¨ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•ã€‚</li><li>ä½¿ç”¨ java.lang.reflect åŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨çš„æ—¶å€™ã€‚</li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚</li><li>å½“è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œç”¨æˆ·éœ€æŒ‡å®šä¸€ä¸ªè¦åŠ è½½çš„ä¸»ç±»(åŒ…å« main() æ–¹æ³•çš„é‚£ä¸ªç±»)ï¼Œè™šæ‹Ÿæœºä¼šå…ˆåˆå§‹åŒ–è¿™ä¸ªä¸»ç±»ã€‚</li><li>å½“ä½¿ç”¨ JDK 1.7 çš„åŠ¨æ€è¯­è¨€æ”¯æŒæ—¶ï¼Œå¦‚æœä¸€ä¸ª java.lang.invoke.MethodHandle å®ä¾‹æœ€åçš„è§£æç»“æœ REF_getStaticã€REF_putStaticã€REF_invokeStatic çš„æ–¹æ³•å¥æŸ„ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¥æŸ„æ‰€å¯¹åº”çš„ç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€å…ˆè§¦å‘å…¶åˆå§‹åŒ–ã€‚</li></ol><p>å‰é¢çš„äº”ç§æ–¹å¼æ˜¯å¯¹ä¸€ä¸ªç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ‰€æœ‰å¼•ç”¨ç±»çš„æ–¹æ³•éƒ½ä¸ä¼šè§¦å‘åˆå§‹åŒ–ï¼Œä½³ä½œè¢«åŠ¨å¼•ç”¨ã€‚6.2 ç±»çš„åŠ è½½è¿‡ç¨‹</p><p>6.2.1 åŠ è½½</p><ol><li>é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å®šä¹‰æ¬¡ç±»çš„äºŒè¿›åˆ¶æµ(ZIP åŒ…ã€ç½‘ç»œã€è¿ç®—ç”Ÿæˆã€JSP ç”Ÿæˆã€æ•°æ®åº“è¯»å–)ã€‚</li><li>å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ã€‚</li><li>åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java.lang.Class å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•å»è¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£ã€‚</li></ol><p>æ•°ç»„ç±»çš„ç‰¹æ®Šæ€§ï¼šæ•°ç»„ç±»æœ¬èº«ä¸é€šè¿‡ç±»åŠ è½½å™¨åˆ›å»ºï¼Œå®ƒæ˜¯ç”± Java è™šæ‹Ÿæœºç›´æ¥åˆ›å»ºçš„ã€‚ä½†æ•°ç»„ç±»ä¸ç±»åŠ è½½å™¨ä»ç„¶æœ‰å¾ˆå¯†åˆ‡çš„å…³ç³»ï¼Œå› ä¸ºæ•°ç»„ç±»çš„å…ƒç´ ç±»å‹æœ€ç»ˆæ˜¯è¦é ç±»åŠ è½½å™¨å»åˆ›å»ºçš„ï¼Œæ•°ç»„åˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>å¦‚æœæ•°ç»„çš„ç»„ä»¶ç±»å‹æ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£å°±é€’å½’é‡‡ç”¨ç±»åŠ è½½åŠ è½½ã€‚</li><li>å¦‚æœæ•°ç»„çš„ç»„ä»¶ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹ï¼ŒJava è™šæ‹Ÿæœºä¼šæŠŠæ•°ç»„æ ‡è®°ä¸ºå¼•å¯¼ç±»åŠ è½½å™¨å…³è”ã€‚</li><li>æ•°ç»„ç±»çš„å¯è§æ€§ä¸ä»–çš„ç»„ä»¶ç±»å‹çš„å¯è§æ€§ä¸€è‡´ï¼Œå¦‚æœç»„ä»¶ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£æ•°ç»„ç±»çš„å¯è§æ€§å°†é»˜è®¤ä¸º publicã€‚</li></ol><p>å†…å­˜ä¸­å®ä¾‹çš„ java.lang.Class å¯¹è±¡å­˜åœ¨æ–¹æ³•åŒºä¸­ã€‚ä½œä¸ºç¨‹åºè®¿é—®æ–¹æ³•åŒºä¸­è¿™äº›ç±»å‹æ•°æ®çš„å¤–éƒ¨æ¥å£ã€‚<br>åŠ è½½é˜¶æ®µä¸è¿æ¥é˜¶æ®µçš„éƒ¨åˆ†å†…å®¹æ˜¯äº¤å‰è¿›è¡Œçš„ï¼Œä½†æ˜¯å¼€å§‹æ—¶é—´ä¿æŒå…ˆåé¡ºåºã€‚</p><p>6.2.2 éªŒè¯</p><blockquote><p>æ˜¯è¿æ¥çš„ç¬¬ä¸€æ­¥ï¼Œç¡®ä¿ Class æ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºè¦æ±‚ã€‚</p></blockquote><p>æ–‡ä»¶æ ¼å¼éªŒè¯</p><ol><li>æ˜¯å¦ä»¥é­”æ•° 0xCAFEBABE å¼€å¤´</li><li>ä¸»ã€æ¬¡ç‰ˆæœ¬å·æ˜¯å¦åœ¨å½“å‰è™šæ‹Ÿæœºå¤„ç†èŒƒå›´ä¹‹å†…</li><li>å¸¸é‡æ± çš„å¸¸é‡æ˜¯å¦æœ‰ä¸è¢«æ”¯æŒå¸¸é‡çš„ç±»å‹ï¼ˆæ£€æŸ¥å¸¸é‡ tag æ ‡å¿—ï¼‰</li><li>æŒ‡å‘å¸¸é‡çš„å„ç§ç´¢å¼•å€¼ä¸­æ˜¯å¦æœ‰æŒ‡å‘ä¸å­˜åœ¨çš„å¸¸é‡æˆ–ä¸ç¬¦åˆç±»å‹çš„å¸¸é‡</li><li>CONSTANT_Utf8_info å‹çš„å¸¸é‡ä¸­æ˜¯å¦æœ‰ä¸ç¬¦åˆ UTF8 ç¼–ç çš„æ•°æ®</li><li>Class æ–‡ä»¶ä¸­å„ä¸ªéƒ¨åˆ†é›†æ–‡ä»¶æœ¬èº«æ˜¯å¦æœ‰è¢«åˆ é™¤çš„é™„åŠ çš„å…¶ä»–ä¿¡æ¯</li></ol><p>åªæœ‰é€šè¿‡è¿™ä¸ªé˜¶æ®µçš„éªŒè¯åï¼Œå­—èŠ‚æµæ‰ä¼šè¿›å…¥å†…å­˜çš„æ–¹æ³•åŒºè¿›è¡Œå­˜å‚¨ï¼Œæ‰€ä»¥åé¢ 3 ä¸ªéªŒè¯é˜¶æ®µå…¨éƒ¨æ˜¯åŸºäºæ–¹æ³•åŒºçš„å­˜å‚¨ç»“æ„è¿›è¡Œçš„ï¼Œä¸å†ç›´æ¥æ“ä½œå­—èŠ‚æµã€‚</p><p>å…ƒæ•°æ®éªŒè¯</p><ol><li>è¿™ä¸ªç±»æ˜¯å¦æœ‰çˆ¶ç±»ï¼ˆé™¤ java.lang.Object ä¹‹å¤–ï¼‰</li><li>è¿™ä¸ªç±»çš„çˆ¶ç±»æ˜¯å¦ç»§æ‰¿äº†ä¸å…è®¸è¢«ç»§æ‰¿çš„ç±»ï¼ˆfinal ä¿®é¥°çš„ç±»ï¼‰</li><li>å¦‚æœè¿™ä¸ªç±»ä¸æ˜¯æŠ½è±¡ç±»ï¼Œæ˜¯å¦å®ç°äº†å…¶çˆ¶ç±»æˆ–æ¥å£ä¹‹ä¸­è¦æ±‚å®ç°çš„æ‰€æœ‰æ–¹æ³•</li><li>ç±»ä¸­çš„å­—æ®µã€æ–¹æ³•æ˜¯å¦ä¸çˆ¶ç±»äº§ç”ŸçŸ›ç›¾ï¼ˆè¦†ç›–çˆ¶ç±» final å­—æ®µã€å‡ºç°ä¸ç¬¦åˆè§„èŒƒçš„é‡è½½ï¼‰</li></ol><p>è¿™ä¸€é˜¶æ®µä¸»è¦æ˜¯å¯¹ç±»çš„å…ƒæ•°æ®ä¿¡æ¯è¿›è¡Œè¯­ä¹‰æ ¡éªŒï¼Œä¿è¯ä¸å­˜åœ¨ä¸ç¬¦åˆ Java è¯­è¨€è§„èŒƒçš„å…ƒæ•°æ®ä¿¡æ¯ã€‚</p><p>å­—èŠ‚ç éªŒè¯</p><ol><li>ä¿è¯ä»»æ„æ—¶åˆ»æ“ä½œæ•°æ ˆçš„æ•°æ®ç±»å‹ä¸æŒ‡ä»¤ä»£ç åºåˆ—éƒ½é¥é…åˆå·¥ä½œï¼ˆä¸ä¼šå‡ºç°æŒ‰ç…§ long ç±»å‹è¯»ä¸€ä¸ª int å‹æ•°æ®ï¼‰</li><li>ä¿è¯è·³è½¬æŒ‡ä»¤ä¸ä¼šè·³è½¬åˆ°æ–¹æ³•ä½“ä»¥å¤–çš„å­—èŠ‚ç æŒ‡ä»¤ä¸Š</li><li>ä¿è¯æ–¹æ³•ä½“ä¸­çš„ç±»å‹è½¬æ¢æ˜¯æœ‰æ•ˆçš„ï¼ˆå­ç±»å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»æ•°æ®ç±»å‹æ˜¯å®‰å…¨çš„ï¼Œåè¿‡æ¥ä¸åˆæ³•çš„ï¼‰</li></ol><p>è¿™æ˜¯æ•´ä¸ªéªŒè¯è¿‡ç¨‹ä¸­æœ€å¤æ‚çš„ä¸€ä¸ªé˜¶æ®µï¼Œä¸»è¦ç›®çš„æ˜¯é€šè¿‡æ•°æ®æµå’Œæ§åˆ¶æµåˆ†æï¼Œç¡®å®šç¨‹åºè¯­ä¹‰æ˜¯åˆæ³•çš„ã€ç¬¦åˆé€»è¾‘çš„ã€‚è¿™ä¸ªé˜¶æ®µå¯¹ç±»çš„æ–¹æ³•ä½“è¿›è¡Œæ ¡éªŒåˆ†æï¼Œä¿è¯æ ¡éªŒç±»çš„æ–¹æ³•åœ¨è¿è¡Œæ—¶ä¸ä¼šåšå‡ºå±å®³è™šæ‹Ÿæœºå®‰å…¨çš„äº‹ä»¶ã€‚</p><p>ç¬¦å·å¼•ç”¨éªŒè¯</p><ol><li>ç¬¦å·å¼•ç”¨ä¸­é€šè¿‡å­—ç¬¦åˆ›æè¿°çš„å…¨é™å®šåæ˜¯å¦èƒ½æ‰¾åˆ°å¯¹åº”çš„ç±»</li><li>åœ¨æŒ‡å®šç±»ä¸­æ˜¯å¦å­˜åœ¨ç¬¦æ–¹æ³•çš„å­—æ®µæè¿°ç¬¦ä»¥åŠç®€å•åç§°æ‰€æè¿°çš„æ–¹æ³•å’Œå­—æ®µ</li><li>ç¬¦å·å¼•ç”¨ä¸­çš„ç±»ã€å­—æ®µã€æ–¹æ³•çš„è®¿é—®æ€§ï¼ˆprivateã€protectedã€publicã€defaultï¼‰æ˜¯å¦å¯è¢«å½“å‰ç±»è®¿é—®</li></ol><p>æœ€åä¸€ä¸ªé˜¶æ®µçš„æ ¡éªŒå‘ç”Ÿåœ¨è¿…ç–¾å°†ç¬¦å·å¼•ç”¨è½¬åŒ–ä¸ºç›´æ¥å¼•ç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªè½¬åŒ–åŠ¨ä½œå°†åœ¨è¿æ¥çš„ç¬¬ä¸‰é˜¶æ®µâ€”â€”è§£æé˜¶æ®µä¸­å‘ç”Ÿã€‚ç¬¦å·å¼•ç”¨éªŒè¯å¯ä»¥çœ‹åšæ˜¯å¯¹ç±»è‡ªèº«ä»¥å¤–ï¼ˆå¸¸é‡æ± ä¸­çš„å„ç§ç¬¦å·å¼•ç”¨ï¼‰çš„ä¿¡æ¯è¿›è¡ŒåŒ¹é…æ€§æ ¡éªŒï¼Œè¿˜æœ‰ä»¥ä¸ŠæåŠçš„å†…å®¹ã€‚<br>ç¬¦å·å¼•ç”¨çš„ç›®çš„æ˜¯ç¡®ä¿è§£æåŠ¨ä½œèƒ½æ­£å¸¸æ‰§è¡Œï¼Œå¦‚æœæ— æ³•é€šè¿‡ç¬¦å·å¼•ç”¨éªŒè¯å°†æŠ›å‡ºä¸€ä¸ª java.lang.IncompatibleClass.ChangeError å¼‚å¸¸çš„å­ç±»ã€‚å¦‚ java.lang.IllegalAccessErrorã€java.lang.NoSuchFieldErrorã€java.lang.NoSuchMethodError ç­‰ã€‚</p><p>6.2.3 å‡†å¤‡</p><blockquote><p>è¿™ä¸ªé˜¶æ®µæ­£å¼ä¸ºç±»åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼ï¼Œå†…å­˜åœ¨æ–¹æ³•å»ä¸­åˆ†é…(å« static ä¿®é¥°çš„å˜é‡ä¸å«å®ä¾‹å˜é‡)ã€‚</p></blockquote><p><code>public static int value = 1127;</code><br>è¿™å¥ä»£ç åœ¨åˆå§‹å€¼è®¾ç½®ä¹‹åä¸º 0ï¼Œå› ä¸ºè¿™æ—¶å€™å°šæœªå¼€å§‹æ‰§è¡Œä»»ä½• Java æ–¹æ³•ã€‚è€ŒæŠŠ value èµ‹å€¼ä¸º 1127 çš„ putstatic æŒ‡ä»¤æ˜¯ç¨‹åºè¢«ç¼–è¯‘åï¼Œå­˜æ”¾äº clinit() æ–¹æ³•ä¸­ï¼Œæ‰€ä»¥åˆå§‹åŒ–é˜¶æ®µæ‰ä¼šå¯¹ value è¿›è¡Œèµ‹å€¼ã€‚</p><p>åŸºæœ¬æ•°æ®ç±»å‹çš„é›¶å€¼</p><table><thead><tr><th align="left">æ•°æ®ç±»å‹</th><th align="left">é›¶å€¼</th><th align="left">æ•°æ®ç±»å‹</th><th align="left">é›¶å€¼</th></tr></thead><tbody><tr><td align="left">int</td><td align="left">0</td><td align="left">boolean</td><td align="left">false</td></tr><tr><td align="left">long</td><td align="left">0L</td><td align="left">float</td><td align="left">0.0f</td></tr><tr><td align="left">short</td><td align="left">(short) 0</td><td align="left">double</td><td align="left">0.0d</td></tr><tr><td align="left">char</td><td align="left">â€˜\u0000â€™</td><td align="left">reference</td><td align="left">null</td></tr><tr><td align="left">byte</td><td align="left">(byte) 0</td><td align="left"></td><td align="left"></td></tr></tbody></table><p>ç‰¹æ®Šæƒ…å†µï¼šå¦‚æœç±»å­—æ®µçš„å­—æ®µå±æ€§è¡¨ä¸­å­˜åœ¨ ConstantValue å±æ€§ï¼Œåœ¨å‡†å¤‡é˜¶æ®µè™šæ‹Ÿæœºå°±ä¼šæ ¹æ® ConstantValue çš„è®¾ç½®å°† value èµ‹å€¼ä¸º 1127ã€‚</p><p>6.2.4 è§£æ</p><blockquote><p>è¿™ä¸ªé˜¶æ®µæ˜¯è™šæ‹Ÿæœºå°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚</p></blockquote><ol><li>ç¬¦å·å¼•ç”¨<br>ç¬¦å·å¼•ç”¨ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ï¼Œç¬¦å·å¯ä»¥ä½¿ä»»ä½•å½¢å¼çš„å­—é¢é‡ã€‚</li><li>ç›´æ¥å¼•ç”¨<br>ç›´æ¥å¼•ç”¨å¯ä»¥ä½¿ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚ç›´æ¥å¼•ç”¨å’Œè¿…ç–¾çš„å†…å­˜å¸ƒå±€å®ç°æœ‰å…³</li></ol><p>è§£æåŠ¨ä½œä¸»è¦é’ˆå¯¹ç±»æˆ–æ¥å£ã€å­—æ®µã€ç±»æ–¹æ³•ã€æ¥å£æ–¹æ³•ã€æ–¹æ³•ç±»å‹ã€æ–¹æ³•å¥æŸ„å’Œè°ƒç”¨ç‚¹é™å®šç¬¦ 7 ç±»ç¬¦å·å¼•ç”¨è¿›è¡Œï¼Œåˆ†åˆ«å¯¹åº”äºå¸¸é‡æ± çš„ 7 ä¸­å¸¸é‡ç±»å‹ã€‚</p><p>6.2.5 åˆå§‹åŒ–</p><blockquote><p>å‰é¢è¿‡ç¨‹éƒ½æ˜¯ä»¥è™šæ‹Ÿæœºä¸»å¯¼ï¼Œè€Œåˆå§‹åŒ–é˜¶æ®µå¼€å§‹æ‰§è¡Œç±»ä¸­çš„ Java ä»£ç ã€‚</p></blockquote><p>6.3 ç±»åŠ è½½å™¨</p><blockquote><p>é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–æè¿°æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµã€‚</p></blockquote><p>6.3.1 åŒäº²å§”æ´¾æ¨¡å‹</p><blockquote><p>ä» Java è™šæ‹Ÿæœºè§’åº¦è®²ï¼Œåªå­˜åœ¨ä¸¤ç§ç±»åŠ è½½å™¨ï¼šä¸€ç§æ˜¯å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆC++ å®ç°ï¼Œæ˜¯è™šæ‹Ÿæœºçš„ä¸€éƒ¨åˆ†ï¼‰ï¼›å¦ä¸€ç§æ˜¯å…¶ä»–æ‰€æœ‰ç±»çš„åŠ è½½å™¨ï¼ˆJava å®ç°ï¼Œç‹¬ç«‹äºè™šæ‹Ÿæœºå¤–éƒ¨ä¸”å…¨ç»§æ‰¿è‡ª java.lang.ClassLoaderï¼‰</p></blockquote><ol><li>å¯åŠ¨ç±»åŠ è½½å™¨<br>åŠ è½½ lib ä¸‹æˆ–è¢« -Xbootclasspath è·¯å¾„ä¸‹çš„ç±»</li><li>æ‰©å±•ç±»åŠ è½½å™¨<br>åŠ è½½ lib/ext æˆ–è€…è¢« java.ext.dirs ç³»ç»Ÿå˜é‡æ‰€æŒ‡å®šçš„è·¯å¾„ä¸‹çš„ç±»</li><li>å¼•ç”¨ç¨‹åºç±»åŠ è½½å™¨<br>ClassLoaderè´Ÿè´£ï¼ŒåŠ è½½ç”¨æˆ·è·¯å¾„ä¸Šæ‰€æŒ‡å®šçš„ç±»åº“ã€‚</li></ol><p><img src="https://cdn.shieldofzues.cn/2020-07-31-load.jpg" class="lazyload" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxNy85LzQvYzQyNzA0NzNjNDJjNGE1ZDE0ZWI0NzRjOGQ5NTcwZWI_aW1hZ2VWaWV3Mi8wL3cvMTI4MC9oLzk2MC9mb3JtYXQvd2VicC9pZ25vcmUtZXJyb3IvMQ"  alt="img"></p><p>é™¤é¡¶å±‚å¯åŠ¨ç±»åŠ è½½å™¨ä¹‹å¤–ï¼Œå…¶ä»–éƒ½æœ‰è‡ªå·±çš„çˆ¶ç±»åŠ è½½å™¨ã€‚<br>å·¥ä½œè¿‡ç¨‹ï¼šå¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°ä¸€ä¸ªç±»åŠ è½½çš„è¯·æ±‚ï¼Œå®ƒé¦–å…ˆä¸ä¼šè‡ªå·±åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨ã€‚åªæœ‰çˆ¶ç±»æ— æ³•å®Œæˆæ—¶å­ç±»æ‰ä¼šå°è¯•åŠ è½½ã€‚</p><p>ä»¥ä¸Šå†…å®¹<a href="https://blog.csdn.net/qq_41701956/article/details/81664921" target="_blank" rel="noopener">å‚è€ƒåŸæ–‡</a> å’Œè‡ªå·±çš„ä¸€äº›è¡¥å…… ï¼Œåç»­å†ç»§ç»­æ€»ç»“å¡«è¡¥ç©ºç™½ï½ï½                                                                                                    </p>]]></content>
      
      
      <categories>
          
          <category> jvm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaè™šæ‹Ÿæœº </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
